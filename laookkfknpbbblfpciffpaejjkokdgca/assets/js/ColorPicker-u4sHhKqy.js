import{n as t}from"./_plugin-vue2_normalizer-DeUNqxFl.js";import{aq as e}from"./index-B9SbLlJ5.js";
/**
* Verte v0.0.12
* (c) 2019 Baianat
* @license MIT
*/
/**
  * color-fns v0.0.10
  * (c) 2019 Baianat
  * @license MIT
  */function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e,r){return e&&function(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,r){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}(t,e);if(i){var n=Object.getOwnPropertyDescriptor(i,e);return n.get?n.get.call(r):n.value}},u(t,e,r||t)}function c(t){return"object"===r(t)&&t.model?t.model:("#"!==t.slice(0,1)||4!==t.length&&7!==t.length)&&("#"!==t.slice(0,1)||6!==t.length&&9!==t.length)?"RGBA"===t.slice(0,4).toUpperCase()||"RGB"===t.slice(0,3).toUpperCase()?"rgb":("HSLA"===t.slice(0,4).toUpperCase()||"HSL"===t.slice(0,3).toUpperCase())&&"hsl":"hex"}function h(t){return isNaN(parseInt(t,16))?0:parseInt(t,16)}function d(t,e){return function(r){return r>=t&&r<=e}}function p(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function f(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return Number((t*(1-r)+e*r).toFixed(2))}function v(t){return!(void 0===t||isNaN(t)||t<0||t>1)}var m=function(){function t(e){var r=this;i(this,t),this.invalid=!this.validate(e),this.invalid||Object.keys(e).forEach((function(t){r[t]=e[t]})),this.init()}return n(t,[{key:"init",value:function(){}},{key:"validate",value:function(t){return!!t&&"object"===r(t)}}]),t}(),g=function(t){function e(){return i(this,e),l(this,o(e).apply(this,arguments))}return s(e,m),n(e,[{key:"validate",value:function(t){if(!u(o(e.prototype),"validate",this).call(this,t))return!1;var r=d(0,255);return r(t.red)&&r(t.green)&&r(t.blue)}},{key:"init",value:function(){this.model="rgb",this.alpha=v(this.alpha)?this.alpha:1}},{key:"toString",value:function(){return this.invalid?"Invalid Color":d(0,.999)(this.alpha)?"rgba(".concat(this.red,",").concat(this.green,",").concat(this.blue,",").concat(this.alpha,")"):"rgb(".concat(this.red,",").concat(this.green,",").concat(this.blue,")")}}]),e}(),b=function(t){function e(){return i(this,e),l(this,o(e).apply(this,arguments))}return s(e,m),n(e,[{key:"validate",value:function(t){if(!u(o(e.prototype),"validate",this).call(this,t))return!1;var r=d(0,100);return d(0,360)(t.hue)&&r(t.lum)&&r(t.sat)}},{key:"init",value:function(){this.model="hsl",this.alpha=v(this.alpha)?this.alpha:1}},{key:"toString",value:function(){return this.invalid?"Invalid Color":d(0,.999)(this.alpha)?"hsla(".concat(this.hue,",").concat(this.sat,"%,").concat(this.lum,"%,").concat(this.alpha,")"):"hsl(".concat(this.hue,",").concat(this.sat,"%,").concat(this.lum,"%)")}}]),e}(),y=function(t){function e(){return i(this,e),l(this,o(e).apply(this,arguments))}return s(e,m),n(e,[{key:"validate",value:function(t){return!!u(o(e.prototype),"validate",this).call(this,t)&&/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test("#".concat(t.red).concat(t.green).concat(t.blue))}},{key:"init",value:function(){this.model="hex",this.alpha=void 0!==this.alpha?this.alpha:"ff"}},{key:"toString",value:function(){return this.invalid?"Invalid Color":d(0,.999)(h(this.alpha)/255)?"#".concat(this.red).concat(this.green).concat(this.blue).concat(this.alpha):"#".concat(this.red).concat(this.green).concat(this.blue)}}]),e}(),C=Object.freeze({Color:m,RgbColor:g,HslColor:b,HexColor:y});function _(t){if("object"===r(t))return t;var e=t.match(/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,*\s*(\d*(?:\.\d+)*)*\)/i);return!e||e.length<4?new g:new g({red:Number(e[1]),green:Number(e[2]),blue:Number(e[3]),alpha:Number(e[4])})}function x(t){if("object"===r(t))return t;var e=function(t){var e=/^#([a-f\d])([a-f\d])([a-f\d])([a-f\d])*$/i;return 5!==t.length&&4!==t.length||!e.test(t)||(t=t.replace(e,(function(t,e,r,i,n){return"#".concat(e).concat(e).concat(r).concat(r).concat(i).concat(i).concat(n?"".concat(n).concat(n):"")}))),t}(t),i=e.match(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})*/i);return!i||i.length<4?new y:new y({hex:e,red:i[1],green:i[2],blue:i[3],alpha:i[4]})}function w(t){if("object"===r(t))return t;var e=t.match(/^hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*,*\s*(\d*(?:\.\d+)*)*\)/i);return!e||e.length<4?new b:new b({hue:Number(e[1]),sat:Number(e[2]),lum:Number(e[3]),alpha:Number(e[4])})}function S(t){return t=Math.floor(t),isNaN(t)?"00":("0"+t.toString(16)).slice(-2)}function k(t){if(!t)return new y;var e=[S((t=_(t)).red),S(t.green),S(t.blue),t.alpha?S(255*t.alpha):null];return new y({red:e[0],green:e[1],blue:e[2],alpha:e[3]||"ff"})}function M(t){if(!t)return new b;var e=[(t=_(t)).red/255,t.green/255,t.blue/255,t.alpha],r=e[0],i=e[1],n=e[2],s=e[3],o=0,a=0,l=0,u=Math.min(r,i,n),c=Math.max(r,i,n);return l=(u+c)/2,u!==c&&(a=l>.5?(c-u)/(2-c-u):(c-u)/(c+u)),r>=c&&u!==c&&(o=(i-n)/(c-u)*60),i>=c&&u!==c&&(o=60*(2+(n-r)/(c-u))),n>=c&&u!==c&&(o=60*(4+(r-i)/(c-u))),o=o<0?Math.floor(o+360):Math.floor(o),a=Math.floor(100*a),l=Math.floor(100*l),new b({hue:o,sat:a,lum:l,alpha:s})}function H(t){if(!t)return new g;var e=x(t),r=e.red,i=e.green,n=e.blue,s=e.alpha;return new g({red:h(r),green:h(i),blue:h(n),alpha:void 0===s?1:Number((h(s)/255).toFixed(2))})}function L(t){return Math.min(Math.max(parseInt(t),0),255)}function E(t){if(!t)return new g;var e=[(t=w(t)).hue/360,t.sat/100,t.lum/100,t.alpha],r=e[0],i=e[1],n=e[2],s=e[3],o=0,a=0,l=0;if(0===i&&(o=a=l=L(255*n)),0!==i){var u=n>=50?n+i-n*i:n*(1+i),c=2*n-u,h=function(t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?c+6*(u-c)*t:t<.5?u:t<2/3?c+(u-c)*(2/3-t)*6:c};o=L(255*h(r+1/3)),a=L(255*h(r)),l=L(255*h(r-1/3))}return new g({red:o,green:a,blue:l,alpha:s})}function P(t){var e=c(t);return"hex"===e?H(t):"hsl"===e?E(t):"rgb"===e&&"string"==typeof t?_(t):"rgb"===e&&"object"===r(t)?t:new g}function $(t){var e,i=c(t);return"hex"===i?(e=t)?M(H(e)):new b:"rgb"===i?M(t):"hsl"===i&&"string"==typeof t?w(t):"hsl"===i&&"object"===r(t)?t:new b}function R(t){var e,i=c(t);return"rgb"===i?k(t):"hsl"===i?(e=t)?k(E(e)):new y:"hex"===i&&"string"==typeof t?x(t):"hex"===i&&"object"===r(t)?t:new y}function V(){return"rgb(".concat(p(0,255),", ").concat(p(0,255),", ").concat(p(0,255),")")}function N(t,e,r){t=P(t),e=P(e);var i=Math.floor(f(t.red,e.red,r)),n=Math.floor(f(t.green,e.green,r)),s=Math.floor(f(t.blue,e.blue,r)),o=f(t.alpha,e.alpha,r);return new g({red:i,green:n,blue:s,alpha:o})}function O(t,e){for(var r=[],i=0;i<t;i++){var n="function"==typeof e?e():e;r.push(n)}return r}function j(t,e){for(;t!==document&&null!==t;){if(t===e)return!0;t=t.parentNode}return!1}function A(t,e){return t.reduce((function(t,r){return Math.abs(r-e)<Math.abs(t-e)?r:t}))}function F(t,e){return function(t){var r=-1!==e.indexOf(t);return r}}function I(t){if(t.type.match(/^touch/i)){var e=t.touches[0];return{x:e.clientX,y:e.clientY}}return t.type.match(/^mouse/i)?{x:t.clientX,y:t.clientY}:{x:0,y:0}}var q={name:"VerteSlider",props:{gradient:Array,classes:Array,colorCode:{type:Boolean,default:!1},editable:{type:Boolean,default:!0},reverse:{type:Boolean,default:!1},label:{type:Boolean,default:!1},trackSlide:{type:Boolean,default:!0},min:{type:Number,default:0},max:{type:Number,default:255},step:{type:Number,default:1},value:{type:Number,default:0},handlesValue:{type:Array,default:function(){return[0]}}},data:function(){return{fill:{translate:0,scale:0},multiple:!1,currentValue:0,handles:[],values:[]}},watch:{gradient:function(t){this.initGradient(t),this.reloadHandlesColor()},values:function(){this.multiple=this.values.length>1,this.fill=!this.multiple&&(this.fill||{})},value:function(t,e){t!==e&&t!==this.currentValue&&this.updateValue(this.value,!0)}},methods:{init:function(){var t,e,r,i=this;this.$emitInputEvent=(t=function(){i.$emit("input",i.currentValue)},void 0===e&&(e=!1),function(){var i=arguments,n=e&&!r;window.cancelAnimationFrame(r),r=window.requestAnimationFrame((function(){r=null,e||t.apply(void 0,i)})),n&&t.apply(void 0,arguments)}),this.multiple=this.values.length>1,this.values=this.handlesValue,this.handles=this.handlesValue.map((function(t,e){return{value:t,position:0,color:"#fff"}})),1===this.values.length&&(this.values[0]=Number(this.value)),this.values.sort(),this.initElements(),this.gradient&&this.initGradient(this.gradient),this.initEvents(),this.values.forEach((function(t,e){i.activeHandle=e,i.updateValue(t,!0)}))},initElements:function(){var t;this.wrapper=this.$refs.wrapper,this.track=this.$refs.track,this.fill=this.$refs.fill,this.wrapper.classList.toggle("slider--editable",this.editable),this.wrapper.classList.toggle("slider--reverse",this.reverse),this.classes&&(t=this.wrapper.classList).add.apply(t,this.classes)},initGradient:function(t){t.length>1?this.fill.style.backgroundImage="linear-gradient(90deg, "+t+")":(this.fill.style.backgroundImage="",this.fill.style.backgroundColor=t[0],this.handles.forEach((function(e){e.style.color=t[0]})))},handleResize:function(){this.updateWidth(),this.updateValue(this.currentValue,!0)},initEvents:function(){window.addEventListener("resize",this.handleResize)},select:function(t){if(t.preventDefault(),t.stopPropagation(),2!==t.buttons){this.updateWidth(),this.track.classList.add("slider--dragging"),this.ticking=!1;var e=this.getStepValue(t);if(this.multiple){var r=A(this.values,e);this.activeHandle=this.values.indexOf(r)}this.updateValue(e),this.tempDrag=this.dragging.bind(this),this.tempRelease=this.release.bind(this),document.addEventListener("mousemove",this.tempDrag),document.addEventListener("touchmove",this.tempDrag),document.addEventListener("touchend",this.tempRelease),document.addEventListener("mouseup",this.tempRelease)}},dragging:function(t){var e=this,r=this.getStepValue(t);this.ticking||(window.requestAnimationFrame((function(){e.updateValue(r),e.ticking=!1})),this.ticking=!0)},release:function(){this.track.classList.remove("slider--dragging"),document.removeEventListener("mousemove",this.tempDrag),document.removeEventListener("touchmove",this.tempDrag),document.removeEventListener("mouseup",this.tempRelease),document.removeEventListener("touchend",this.tempRelease)},getStepValue:function(t){var e=I(t).x-this.currentX,r=parseInt(e/this.stepWidth+.5,10)*this.step+this.min;return this.decimalsCount?Number(r.toFixed(this.decimalsCount)):r},updateWidth:function(){var t=this.track.getBoundingClientRect();this.currentX=t.left,this.width=t.width,this.stepWidth=this.width/(this.max-this.min)*this.step},getPositionPercentage:function(t){return((t-this.min)/(this.max-this.min)).toFixed(2)},normalizeValue:function(t){if(isNaN(Number(t)))return this.value;if(this.multiple){var e=this.values[this.activeHandle-1]||this.min,r=this.values[this.activeHandle+1]||this.max;t=Math.min(Math.max(Number(t),e),r)}return Math.min(Math.max(Number(t),this.min),this.max)},addHandle:function(t){var e=A(this.values,t),r=this.values.indexOf(e),i=this.values[r]<=t?r+1:r;this.handles.splice(i,0,{value:t,position:0,color:"#fff"}),this.values.splice(i,0,t),this.activeHandle=i,this.currentValue=null,this.updateValue(t)},removeHandle:function(t){this.handles.splice(t,1),this.values.splice(t,1),this.activeHandle=0===t?t+1:t-1},getHandleColor:function(t){for(var e=this.gradient.length-1,r=t,i=1;i<=e;i++)if(r>=(i-1)/e&&r<=i/e){var n=(r-(i-1)/e)/(1/e);return N(this.gradient[i-1],this.gradient[i],n)}return"rgb(0, 0, 0)"},reloadHandlesColor:function(){var t=this;this.handles.forEach((function(e,r){var i=t.getPositionPercentage(e.value),n=t.getHandleColor(i);t.handles[r].color=n.toString()}))},updateValue:function(t,e){var r=this;void 0===e&&(e=!1),window.requestAnimationFrame((function(){var i=r.normalizeValue(t),n=r.getPositionPercentage(i);if(r.fill&&(r.fill.translate=n*r.width,r.fill.scale=1-n),r.values[r.activeHandle]=i,r.handles[r.activeHandle].value=i,r.handles[r.activeHandle].position=n*r.width,r.currentValue=i,r.$refs.input.value=r.currentValue,r.gradient){var s=r.getHandleColor(n);r.handles[r.activeHandle].color=s.toString(),r.colorCode&&(r.currentValue=s)}e||r.$emitInputEvent()}))}},created:function(){var t=this.step.toString().split(".")[1];this.currentValue=this.value,this.decimalsCount=t?t.length:0},mounted:function(){var t=this;this.init(),this.$nextTick((function(){t.updateWidth(),t.updateValue(void 0,!0)}))},destroyed:function(){window.removeEventListener("resize",this.handleResize)}},B=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"wrapper",staticClass:"slider"},[r("div",t._g({ref:"track",staticClass:"slider__track"},t.trackSlide?{mousedown:t.select,touchstart:t.select}:{}),[r("div",{ref:"fill",staticClass:"slider__fill"}),t._l(t.handles,(function(e){return r("div",{staticClass:"slider__handle",style:"transform: translate("+e.position+"px, 0); background-color: "+e.color+";",on:{mousedown:t.select,touchstart:t.select}},[t.label?r("div",{staticClass:"slider__label"},[t._v(t._s(e.value))]):t._e()])}))],2),r("input",{directives:[{name:"show",rawName:"v-show",value:t.editable,expression:"editable"}],ref:"input",staticClass:"slider__input",attrs:{type:t.colorCode?"text":"number"},on:{change:function(e){t.updateValue(e.target.value)}}})])};B._withStripped=!0;var D,U,T,W,z=(D={render:B,staticRenderFns:[]},T=void 0,(W=("function"==typeof(U=q)?U.options:U)||{}).__file="/mnt/c/Users/Abdelrahman/Projects/verte/src/components/Slider.vue",W.render||(W.render=D.render,W.staticRenderFns=D.staticRenderFns,W._compiled=!0),W._scopeId=T,W),G={name:"VertePicker",components:{Slider:z},props:{mode:{type:String,default:"square"},edge:{type:Number,default:250},diameter:{type:Number,default:180},satSlider:{type:Boolean,default:!0},alpha:{type:Number,default:1},value:{type:String,default:"#fff"}},data:function(){return{currentHue:0,currentSat:0,currentColor:"",cursor:{},preventUpdating:!1,preventEcho:!1}},watch:{value:function(t){this.preventUpdating?this.preventUpdating=!1:this.handleValue(t,!0)},currentSat:function(){this.updateWheelColors(),this.updateColor()},currentHue:function(){this.updateSquareColors(),this.updateColor()}},methods:{initSquare:function(){var t=this.edge;this.$refs.canvas.width=t,this.$refs.canvas.height=t-100,this.ctx=this.$refs.canvas.getContext("2d"),this.updateSquareColors()},initWheel:function(){this.$refs.canvas.width=this.diameter,this.$refs.canvas.height=this.diameter,this.ctx=this.$refs.canvas.getContext("2d"),this.circle={path:new Path2D,xCords:this.diameter/2,yCords:this.diameter/2,radius:this.diameter/2},this.circle.path.moveTo(this.circle.xCords,this.circle.yCords),this.circle.path.arc(this.circle.xCords,this.circle.yCords,this.circle.radius,0,360),this.circle.path.closePath(),this.updateWheelColors()},handleValue:function(t,e){var r=this.pickerRect,i=r.width,n=r.height;if(this.currentColor=$(t),this.preventEcho=!0,"wheel"===this.mode){var s=(100-this.currentColor.lum)*(this.diameter/200),o=this.diameter/2,a=function(t,e){return{x:t*Math.cos(e*Math.PI*2),y:t*Math.sin(e*Math.PI*2)}}(s,this.currentColor.hue/360);this.cursor={x:a.x+o,y:a.y+o},this.currentSat=this.currentColor.sat}if("square"===this.mode){var l=this.currentColor.sat/100*i,u=(100-this.currentColor.lum)/100*n;this.cursor={x:l,y:u},this.currentHue=this.currentColor.hue}},updateCursorPosition:function(t){var e=t.x,r=t.y,i=this.pickerRect,n=i.left,s=i.top,o=i.width,a=i.height,l={x:Math.min(Math.max(e-n,0),o),y:Math.min(Math.max(r-s,0),a)};("wheel"!==this.mode||this.ctx.isPointInPath(this.circle.path,l.x,l.y))&&(this.cursor=l,this.updateColor())},updateColor:function(t){this.preventEcho?this.preventEcho=!1:(this.currentColor=this.getCanvasColor(),this.preventUpdating=!0,this.$emit("change",this.currentColor),this.$emit("input",this.currentColor))},updateWheelColors:function(){var t=this;if(this.circle){var e=this.pickerRect,r=e.width,i=e.height,n=this.circle.xCords,s=this.circle.yCords,o=this.circle.radius,a=this.satSlider?this.currentSat:100;this.ctx.clearRect(0,0,r,i);for(var l=0;l<360;l+=1){var u=t.ctx.createRadialGradient(n,s,0,n,s,o),c=(l-2)*Math.PI/180,h=(l+2)*Math.PI/180;t.ctx.beginPath(),t.ctx.moveTo(n,s),t.ctx.arc(n,s,o,c,h),t.ctx.closePath(),u.addColorStop(0,"hsl("+l+", "+a+"%, 100%)"),u.addColorStop(.5,"hsl("+l+", "+a+"%, 50%)"),u.addColorStop(1,"hsl("+l+", "+a+"%, 0%)"),t.ctx.fillStyle=u,t.ctx.fill()}}},updateSquareColors:function(){var t=this.pickerRect,e=t.width,r=t.height;this.ctx.clearRect(0,0,e,r),this.ctx.fillStyle="hsl("+this.currentHue+", 100%, 50%)",this.ctx.fillRect(0,0,e,r);var i=this.ctx.createLinearGradient(0,0,e,0);i.addColorStop(0,"hsl(0, 0%, 50%)"),i.addColorStop(1,"hsla(0, 0%, 50%, 0)"),this.ctx.fillStyle=i,this.ctx.fillRect(0,0,e,r);var n=this.ctx.createLinearGradient(0,0,0,r);n.addColorStop(0,"hsl(0, 0%, 100%)"),n.addColorStop(.5,"hsla(0, 0%, 100%, 0)"),n.addColorStop(.5,"hsla(0, 0%, 0%, 0)"),n.addColorStop(1,"hsl(0, 0%, 0%) "),this.ctx.fillStyle=n,this.ctx.fillRect(0,0,e,r)},getCanvasColor:function(){var t=this.cursor,e=t.x,r=t.y,i=0,n=0,s=0;if("wheel"===this.mode){var o=this.diameter/2,a=function(t,e){return{r:Math.sqrt(t*t+e*e),theta:180*Math.atan2(e,t)/Math.PI}}(e-o,-1*(r-o)),l=a.r,u=a.theta;n=100*(o-l)/o,s=~Math.sign(u)?360-u:-u,i=this.currentSat}if("square"===this.mode){var c=this.pickerRect;i=100*e/c.width,n=100-100*r/c.height,s=this.currentHue}return new C.HslColor({alpha:this.alpha,hue:Math.round(s),sat:Math.round(i),lum:Math.round(n)})},handleSelect:function(t){var e=this;t.preventDefault(),this.pickerRect=this.$refs.canvas.getBoundingClientRect(),this.updateCursorPosition(I(t));var r=function(t){window.requestAnimationFrame((function(){e.updateCursorPosition(I(t))}))},i=function(){document.removeEventListener("mousemove",r),document.removeEventListener("touchmove",r),document.removeEventListener("mouseup",i),document.removeEventListener("touchend",i)};document.addEventListener("mousemove",r),document.addEventListener("touchmove",r),document.addEventListener("mouseup",i),document.addEventListener("touchend",i)}},mounted:function(){var t=this;this.pickerRect=this.$refs.canvas.getBoundingClientRect(),"wheel"===this.mode&&this.initWheel(),"square"===this.mode&&this.initSquare(),this.$nextTick((function(){t.handleValue(t.value)}))}},X=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"picker",staticClass:"verte-picker",class:"verte-picker--"+t.mode},[r("div",{ref:"origin",staticClass:"verte-picker__origin"},[r("canvas",{ref:"canvas",staticClass:"verte-picker__canvas",on:{mousedown:t.handleSelect,touchstart:t.handleSelect}}),r("div",{ref:"cursor",staticClass:"verte-picker__cursor",style:"transform: translate3d("+t.cursor.x+"px, "+t.cursor.y+"px, 0)"})]),"square"===t.mode?r("slider",{staticClass:"verte-picker__slider",attrs:{gradient:["#f00","#ff0","#0f0","#0ff","#00f","#f0f","#f00"],editable:!1,max:360},model:{value:t.currentHue,callback:function(e){t.currentHue=e},expression:"currentHue"}}):t._e(),"wheel"===t.mode?r("slider",{staticClass:"verte-picker__slider",attrs:{gradient:["hsl("+t.currentColor.hue+",0%,"+t.currentColor.lum+"%)","hsl("+t.currentColor.hue+",100%,"+t.currentColor.lum+"%)"],editable:!1,max:100},model:{value:t.currentSat,callback:function(e){t.currentSat=e},expression:"currentSat"}}):t._e()],1)};X._withStripped=!0;var Y,Z=function(t,e,r,i,n,s,o,a){var l=("function"==typeof r?r.options:r)||{};return l.__file="/mnt/c/Users/Abdelrahman/Projects/verte/src/components/Picker.vue",l.render||(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0),l._scopeId=i,l}({render:X,staticRenderFns:[]},0,G,void 0);function J(t,e){if(Y)return Y;var r=(e=e||{}).recentColors,i=e.onRecentColorsChange;return Y=new t({data:function(){return{recentColors:r||O(6,V)}},methods:{addRecentColor:function(t){this.recentColors.includes(t)||(this.recentColors.length>=6&&this.recentColors.pop(),this.recentColors.unshift(t),i&&i(this.recentColors))}}})}var K={name:"Verte",components:{Picker:Z,Slider:z},props:{picker:{type:String,default:"square",validator:F(0,["wheel","square"])},value:{type:String,default:"#000"},model:{type:String,default:"hsl",validator:F(0,["rgb","hex","hsl"])},display:{type:String,default:"picker",validator:F(0,["picker","widget"])},menuPosition:{type:String,default:"bottom",validator:F(0,["top","bottom","left","right","center"])},showHistory:{type:Boolean,default:!0},colorHistory:{type:Array,default:null},enableAlpha:{type:Boolean,default:!0},rgbSliders:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0}},data:function(){return{isMenuActive:!0,isLoading:!0,rgb:P("#000"),hex:R("#000"),hsl:$("#000"),delta:{x:0,y:0},currentModel:"",internalColorHistory:[]}},computed:{$_verteStore:function(){return J()},historySource:function(){return this.colorHistory?this.internalColorHistory:this.$_verteStore.recentColors},currentColor:{get:function(){return this[this.model],this[this.model].toString()},set:function(t){this.selectColor(t)}},alpha:{get:function(){return this[this.model]?isNaN(this[this.model].alpha)?1:this[this.model].alpha:1},set:function(t){this[this.model].alpha=t,this.selectColor(this[this.model])}},menuOnly:function(){return"widget"===this.display}},watch:{value:function(t,e){t!==e&&t!==this.currentColor&&this.selectColor(t)},rgb:{handler:function(t){this.hex=R(t.toString()),this.$emit("input",this.currentColor)},deep:!0},colorHistory:function(t){this.internalColorHistory!==t&&(this.internalColorHistory=[].concat(t))}},beforeCreate:function(){J(this.$options._base)},install:function(t,e){J(t,e),t.component("Verte",this)},created:function(){this.colorHistory&&(this.internalColorHistory=[].concat(this.colorHistory)),this.selectColor(this.value||"#000",!0),this.currentModel=this.model},mounted:function(){var t=this;this.$nextTick((function(){t.isLoading=!1,t.menuOnly||(t.isMenuActive=!1)}))},methods:{selectColor:function(t,e){void 0===e&&(e=!1),function(t){var e=c(t);return"rgb"===e?!_(t).invalid:"hex"===e?!x(t).invalid:"hsl"===e&&!w(t).invalid}(t)&&(this.rgb=P(t),this.hex=R(t),this.hsl=$(t),e||this.$emit("input",this.currentColor))},switchModel:function(){var t=["hex","rgb","hsl"],e=t.indexOf(this.currentModel);this.currentModel=t[e+1]||t[0]},handleMenuDrag:function(t){var e=this;if(2!==t.button){t.preventDefault();var r=Object.assign({},this.delta),i=I(t),n=function(t){window.requestAnimationFrame((function(){var n=I(t);e.delta.x=r.x+n.x-i.x,e.delta.y=r.y+n.y-i.y}))},s=function(){document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",s),document.removeEventListener("touchmove",n),document.removeEventListener("touchup",s)};document.addEventListener("mousemove",n),document.addEventListener("mouseup",s),document.addEventListener("touchmove",n),document.addEventListener("touchup",s)}},submit:function(){this.$emit("beforeSubmit",this.currentColor),this.addColorToHistory(this.currentColor),this.$emit("input",this.currentColor),this.$emit("submit",this.currentColor)},addColorToHistory:function(t){if(this.colorHistory)return this.internalColorHistory.length>=6&&this.internalColorHistory.pop(),this.internalColorHistory.unshift(t),void this.$emit("update:colorHistory",this.internalColorHistory);this.$_verteStore.addRecentColor(this.currentColor)},inputChanged:function(t,e){var r=t.target;if("hex"!==this.currentModel){var i=Math.min(Math.max(r.value,r.min),r.max);this[this.currentModel][e]=i,this.selectColor(this[this.currentModel])}else this.selectColor(r.value)},toggleMenu:function(){this.isMenuActive?this.closeMenu():this.openMenu()},closeMenu:function(){this.isMenuActive=!1,document.removeEventListener("mousedown",this.closeCallback),this.$emit("close",this.currentColor)},openMenu:function(){var t=this;this.isMenuActive=!0,this.closeCallback=function(e){j(e.target,t.$refs.menu)||j(e.target,t.$refs.guide)||t.closeMenu()},document.addEventListener("mousedown",this.closeCallback)}}},Q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"verte",class:{"verte--loading":t.isLoading}},[t.menuOnly?t._e():r("button",{ref:"guide",staticClass:"verte__guide",style:"color: "+t.currentColor+"; fill: "+t.currentColor+";",attrs:{type:"button"},on:{click:t.toggleMenu}},[t._t("default",[r("svg",{staticClass:"verte__icon",attrs:{viewBox:"0 0 24 24"}},[r("pattern",{attrs:{id:"checkerboard",width:"6",height:"6",patternUnits:"userSpaceOnUse",fill:"FFF"}},[r("rect",{attrs:{fill:"#7080707f",x:"0",width:"3",height:"3",y:"0"}}),r("rect",{attrs:{fill:"#7080707f",x:"3",width:"3",height:"3",y:"3"}})]),r("circle",{attrs:{cx:"12",cy:"12",r:"12",fill:"url(#checkerboard)"}}),r("circle",{attrs:{cx:"12",cy:"12",r:"12"}})])])],2),r("div",{staticClass:"verte__menu-origin",class:["verte__menu-origin--"+t.menuPosition,{"verte__menu-origin--static":t.menuOnly,"verte__menu-origin--active":t.isMenuActive}]},[r("div",{ref:"menu",staticClass:"verte__menu",style:"transform: translate("+t.delta.x+"px, "+t.delta.y+"px)",attrs:{tabindex:"-1"}},[t.menuOnly?t._e():r("button",{staticClass:"verte__close",attrs:{type:"button"},on:{click:t.closeMenu}},[r("svg",{staticClass:"verte__icon verte__icon--small",attrs:{viewBox:"0 0 24 24"}},[r("title",[t._v("Close Icon")]),r("path",{attrs:{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}})])]),t.draggable&&!t.menuOnly?r("div",{staticClass:"verte__draggable",on:{mousedown:t.handleMenuDrag,touchstart:t.handleMenuDrag}}):t._e(),r("Picker",{attrs:{mode:t.picker,alpha:t.alpha},model:{value:t.currentColor,callback:function(e){t.currentColor=e},expression:"currentColor"}}),r("div",{staticClass:"verte__controller"},[t.enableAlpha?r("Slider",{attrs:{gradient:["rgba("+t.rgb.red+", "+t.rgb.green+", "+t.rgb.blue+", 0)","rgba("+t.rgb.red+", "+t.rgb.green+", "+t.rgb.blue+", 1)"],min:0,max:1,step:.01,editable:!1},model:{value:t.alpha,callback:function(e){t.alpha=e},expression:"alpha"}}):t._e(),t.rgbSliders?[r("Slider",{attrs:{gradient:["rgb(0,"+t.rgb.green+","+t.rgb.blue+")","rgb(255,"+t.rgb.green+","+t.rgb.blue+")"]},model:{value:t.rgb.red,callback:function(e){t.$set(t.rgb,"red",e)},expression:"rgb.red"}}),r("Slider",{attrs:{gradient:["rgb("+t.rgb.red+",0,"+t.rgb.blue+")","rgb("+t.rgb.red+",255,"+t.rgb.blue+")"]},model:{value:t.rgb.green,callback:function(e){t.$set(t.rgb,"green",e)},expression:"rgb.green"}}),r("Slider",{attrs:{gradient:["rgb("+t.rgb.red+","+t.rgb.green+",0)","rgb("+t.rgb.red+","+t.rgb.green+",255)"]},model:{value:t.rgb.blue,callback:function(e){t.$set(t.rgb,"blue",e)},expression:"rgb.blue"}})]:t._e(),r("div",{staticClass:"verte__inputs"},[r("button",{staticClass:"verte__model",attrs:{type:"button"},on:{click:t.switchModel}},[t._v(t._s(t.currentModel))]),"hsl"===t.currentModel?[r("input",{staticClass:"verte__input",attrs:{type:"number",max:"360",min:"0"},domProps:{value:t.hsl.hue},on:{change:function(e){t.inputChanged(e,"hue")}}}),r("input",{staticClass:"verte__input",attrs:{type:"number",min:"0",max:"100"},domProps:{value:t.hsl.sat},on:{change:function(e){t.inputChanged(e,"sat")}}}),r("input",{staticClass:"verte__input",attrs:{type:"number",min:"0",max:"100"},domProps:{value:t.hsl.lum},on:{change:function(e){t.inputChanged(e,"lum")}}})]:t._e(),"rgb"===t.currentModel?[r("input",{staticClass:"verte__input",attrs:{type:"number",min:"0",max:"255"},domProps:{value:t.rgb.red},on:{change:function(e){t.inputChanged(e,"red")}}}),r("input",{staticClass:"verte__input",attrs:{type:"number",min:"0",max:"255"},domProps:{value:t.rgb.green},on:{change:function(e){t.inputChanged(e,"green")}}}),r("input",{staticClass:"verte__input",attrs:{type:"number",min:"0",max:"255"},domProps:{value:t.rgb.blue},on:{change:function(e){t.inputChanged(e,"blue")}}})]:t._e(),"hex"===t.currentModel?[r("input",{staticClass:"verte__input",attrs:{type:"text"},domProps:{value:t.hex},on:{change:function(e){t.inputChanged(e,"hex")}}})]:t._e(),r("button",{staticClass:"verte__submit",attrs:{type:"button"},on:{click:t.submit}},[r("title",[t._v("Submit Icon")]),r("svg",{staticClass:"verte__icon",attrs:{viewBox:"0 0 24 24"}},[r("path",{attrs:{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}})])])],2),t.showHistory?r("div",{ref:"recent",staticClass:"verte__recent"},t._l(t.historySource,(function(e){return r("a",{staticClass:"verte__recent-color",style:"color: "+e,attrs:{role:"button",href:"#"},on:{click:function(r){r.preventDefault(),t.selectColor(e)}}})}))):t._e()],2)],1)])])};Q._withStripped=!0;var tt=function(t,e,r,i,n,s,o,a){var l=("function"==typeof r?r.options:r)||{};return l.__file="/mnt/c/Users/Abdelrahman/Projects/verte/src/components/Verte.vue",l.render||(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0),l._scopeId=i,l}({render:Q,staticRenderFns:[]},0,K,void 0);const et=t({name:"ColorPicker",components:{Verte:tt},props:{value:{type:String,required:!0}},setup:()=>({hsla:null,valueOverride:null}),data(){return{colorHistory:localStorage.getObject("colorPicker:history")||this.getEmptyColorHistory()}},watch:{colorHistory(t){localStorage.setObject("colorPicker:history",t)}},async mounted(){this.saveColorDebounce=e(this.saveColor,1e3),this.valueOverride="#ff00ff",await this.$nextTick(),this.valueOverride=null},methods:{changeColor(t){var e;const r=t.includes("hsla")?t:t.replace("hsl","hsla").replace(")",",1)");this.hsla=r,this.$emit("onChange",r),null==(e=this.saveColorDebounce)||e.call(this)},notContainedInHistory(t){return!this.colorHistory.includes(t)},getEmptyColorHistory:()=>Array.apply(null,new Array(12)).map((()=>"transparent")),saveToHistory(t){this.colorHistory.unshift(t);const e=this.colorHistory.length-1;("transparent"===this.colorHistory[e]||this.colorHistory.length>12)&&this.colorHistory.splice(e)},saveColor(){const t=this.hsla;this.notContainedInHistory(t)&&this.saveToHistory(t),this.$emit("input",t)}}},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"color-picker-wrapper"},[e("verte",{attrs:{value:t.valueOverride??t.value,picker:"square","color-history":t.colorHistory,"menu-position":"left",display:"widget",draggable:!1},on:{"update:colorHistory":function(e){t.colorHistory=e},"update:color-history":function(e){t.colorHistory=e},input:e=>t.changeColor(e)}})],1)}),[],!1,null,"38c5aef5").exports;export{et as C};