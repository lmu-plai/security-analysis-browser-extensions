const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/LocationTypeahead-DVwXQCwx.js","assets/js/SoftFocus-BUhesXB-.js","assets/js/SmoothReflow-CN2CnQb0.js","assets/js/ResizeSensor-ZXOsDHeC.js","assets/js/useAllComponentsMounted-jOG8AT3X.js","assets/js/index-B9SbLlJ5.js","assets/js/Logger-BTKFyPnc.js","assets/js/style-cpFB66wV.js","assets/css/style-CrTXrpPu.css","assets/js/DataSyncService-BIQVYvDv.js","assets/js/_plugin-vue2_normalizer-DeUNqxFl.js","assets/css/SmoothReflow-C80bIkgz.css","assets/css/LocationTypeahead-DXTz2-um.css"])))=>i.map(i=>d[i]);
import{_ as t}from"./style-cpFB66wV.js";import e from"./BaseIcon-CAXE-xBw.js";import{n as s}from"./_plugin-vue2_normalizer-DeUNqxFl.js";import{I as a,r as i}from"./index-B9SbLlJ5.js";import{S as o}from"./SmoothReflow-CN2CnQb0.js";import{persistent as r}from"./reactiveCustomization-l1DAJU8W.js";import{w as n}from"./main-B6ha4Tyy.js";import c from"./AppPopup-CBVX3XyQ.js";import{g as l}from"./globalKeyEventManager-ByOI7Z15.js";import p from"./AppHeader-DINik7Wl.js";import{B as d}from"./BaseDropdown-DNbKWQaF.js";import{B as u}from"./BaseDropdownOption-NzB_bdFk.js";import{T as h}from"./ToggleSwitch-DSwcb4Go.js";import{A as m}from"./AppViewSwitchDynamic-7Q3nGfPx.js";import v from"./AppView-Du2InOAV.js";import{A as f}from"./AppActionBanner-vKKAGImZ.js";import{b as y}from"./constants-CALDQiUE.js";import{B as w}from"./BaseDropdownDivider-Bay0Demn.js";import{A as g}from"./AppHeaderControl-CYSrwe76.js";import{a as _}from"./modal-DQlfZdMt.js";import{U as C}from"./enums-C0TfsRui.js";import"./dynamic-import-helper-DIl3ayLm.js";import"./Logger-BTKFyPnc.js";import"./ResizeSensor-ZXOsDHeC.js";import"./useAllComponentsMounted-jOG8AT3X.js";import"./DataSyncService-BIQVYvDv.js";import"./VueBase-BB-58KAg.js";import"./_commonjsHelpers-B3K3fdV-.js";import"./ClickOutside-DCLvi2fj.js";import"./pinia-4ulFHh2N.js";import"./portal-vue.esm-BlbL0ibK.js";import"./AppContainer-BbrPMYLy.js";import"./showAnyway-Bb-tkUYJ.js";import"./AppDash-CSffn7xe.js";import"./constants-KuzCZNtH.js";import"./hideEventsMixin-C3v17jdv.js";import"./useAppToggle-CWDyropZ.js";import"./ViewState-CaQI4PuO.js";import"./appZStack-Duidf5Sm.js";import"./icon-close-DRlspKs3.js";import"./BaseDropdownContent-BfXd6hD-.js";import"./index-CbkRD371.js";import"./icon-ellipsis-D7nTOXaQ.js";import"./appViewSwitchMixin-BsLJ76Hr.js";import"./Tooltip-CQLEXtIQ.js";const S=s({name:"BasicInfo",components:{BaseIcon:e},props:{hourlyForecastShowing:{type:Boolean,required:!0},detailedInfoShowing:{type:Boolean,required:!0},conditions:{type:Object,required:!0},forecastDay:{type:Boolean,required:!0}},computed:{temperature(){return void 0===this.conditions.temperature?this.conditions.high:this.conditions.temperature},apparentTemperature(){return void 0===this.conditions.apparentTemperature?this.conditions.apparentHigh:this.conditions.apparentTemperature}},methods:{toggleOption(t){this.forecastDay||this.$emit(t)}}},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"basic-info"},[e("div",{staticClass:"current-icon-temp column",class:{active:t.hourlyForecastShowing,"toggle-cursor":!t.forecastDay},attrs:{"data-test":"toggle-hourly-div"},on:{click:function(e){return t.toggleOption("toggle-hourly-forecast")}}},[e("base-icon",{staticClass:"current-icon",attrs:{src:t.conditions.icon,size:"58px"}}),e("div",{staticClass:"current-temp",attrs:{"data-test":"high-temp"}},[t._v(" "+t._s(t.temperature+"°")+" ")]),t.forecastDay&&t.$plus?e("div",{staticClass:"current-temp low"},[t._v(t._s(t.conditions.low+"°"))]):t._e(),t.forecastDay?t._e():e("base-icon",{staticClass:"icon-down",attrs:{src:"icon/down",size:"20px"}})],1),e("div",{staticClass:"current-summary column",class:{active:t.detailedInfoShowing,"toggle-cursor":!t.forecastDay},attrs:{"data-test":"toggle-details-div"},on:{click:function(e){return t.toggleOption("toggle-detailed-info")}}},[e("div",{staticClass:"summary-item"},[e("span",{staticClass:"title"},[t._v("Feels like")]),t._v(" "+t._s(t.apparentTemperature+"°")+" "),t.forecastDay&&t.$plus?e("span",{staticClass:"low"},[t._v(t._s(t.conditions.apparentLow+"°"))]):t._e()]),t.$plus?e("div",{staticClass:"summary-item"},[e("span",{staticClass:"title"},[e("span",{staticClass:"u--mobile-hide"},[t._v("Chance of "+t._s(t.conditions.precipitationChance.type.toLowerCase())+" ")]),e("span",{staticClass:"u--mobile-only-inline"},[t._v(t._s(t.conditions.precipitationChance.type)+" ")])]),t._v(" "+t._s(t.conditions.precipitationChance.chance)+"% ")]):e("div",{staticClass:"summary-item",attrs:{title:"Last 6 Hours"}},[e("span",{staticClass:"title u--mobile-hide"},[t._v("Recent "+t._s(t.conditions.precipitationType.toLowerCase()))]),e("span",{staticClass:"title u--mobile-only-inline"},[t._v(t._s(t.conditions.precipitationType)+" ")]),e("span",[t._v(t._s(t.conditions.precipAmount6Hours))])]),e("div",{staticClass:"summary-item"},[e("span",{staticClass:"title"},[t._v("Wind")]),e("base-icon",{staticClass:"icon-arrow",style:`transform: rotate(${t.conditions.windDirection}deg)`,attrs:{src:"icon-arrow"}}),t._v(" "+t._s(t.conditions.windSpeed)+" ")],1),t.forecastDay?t._e():e("base-icon",{staticClass:"icon-down",attrs:{src:"icon/down",size:"20px"}})],1)])}),[],!1,null,"5b27ecd4").exports;const b=s(a({name:"DetailedInfo",components:{BaseIcon:e},props:{forecast:{type:Object,required:!0}},computed:{airQualityIndex(){if(!this.forecast.airQuality)return"";let t=Math.round(this.forecast.airQuality.overallIndex);return"Very Unhealthy"===this.forecast.airQuality.category?"":t}}}),(function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",{staticClass:"weather-detailed-info section"},[e("div",{staticClass:"detailed-info-grid"},[e("div",{staticClass:"title"},[t._v("Sunrise")]),e("div",{staticClass:"value"},[t._v(t._s(t.forecast.sunrise))]),e("div",{staticClass:"title"},[t._v("Sunset")]),e("div",{staticClass:"value"},[t._v(t._s(t.forecast.sunset))]),e("div",{staticClass:"title"},[t._v("Air Quality")]),e("div",{staticClass:"value"},[t.forecast.airQuality.link?e("a",{staticClass:"air-quality-link",attrs:{href:t.forecast.airQuality.link,target:"_blank"}},[t._v(" "+t._s(t.airQualityIndex)+" "),e("span",{staticClass:"air-quality-color",style:{color:t.forecast.airQuality.categoryColor}},[t._v(" "+t._s(t.forecast.airQuality.category)+" "),e("base-icon",{staticClass:"icon-external",attrs:{src:"square-arrow-out-up-right",size:"10px"}})],1)]):t._e()]),e("div",{staticClass:"title"},[t._v("UV Index")]),e("div",{staticClass:"value"},[t._v(t._s(t.forecast.uvIndex))])]),e("div",{staticClass:"detailed-info-grid"},[e("div",{staticClass:"title"},[t._v("Humidity")]),e("div",{staticClass:"value"},[t._v(t._s(t.forecast.humidity)+"%")]),e("div",{staticClass:"title"},[t._v("Precipitation")]),e("div",{staticClass:"value"},[t._v(t._s(t.forecast.precipAmount))]),e("div",{staticClass:"title"},[t._v("Pressure")]),e("div",{staticClass:"value"},[t.forecast.pressureChanging?e("base-icon",{staticClass:"icon-arrow",style:`transform: rotate(${t.forecast.pressureRotation}deg)`,attrs:{src:"icon-arrow",size:"10px"}}):t._e(),t._v(" "+t._s(t.forecast.pressure)+" ")],1),e("div",{staticClass:"title"},[t._v("Visibility")]),e("div",{staticClass:"value"},[t._v(t._s(t.forecast.visibility))])])])}),[],!1,null,"9a2d88ba").exports;const D=s({name:"ForecastItem",components:{BaseIcon:e},props:{icon:{type:String,required:!0},time:{type:String,required:!0},temperature:{type:Number,required:!0},temperatureSecondary:{type:Number,default:null}}},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"forecast-item"},[e("div",{staticClass:"forecast-label",attrs:{"data-test":"forecast-label"}},[t._v(t._s(t.time))]),e("base-icon",{staticClass:"forecast-icon",attrs:{src:t.icon,size:"20px"}}),e("div",{staticClass:"forecast-temp"},[e("span",{staticClass:"forecast-temp-high",attrs:{"data-test":"forecast-high"}},[t._v(t._s(t.temperature)+"°")]),t.temperatureSecondary?e("span",{staticClass:"forecast-temp-low"},[t._v(t._s(t.temperatureSecondary)+"°")]):t._e()])],1)}),[],!1,null,"726cfcaf").exports;const k=s({name:"WeatherApp",components:{AppHeaderControl:g,BaseDropdownDivider:w,AppActionBanner:f,AppView:v,ToggleSwitch:h,BaseDropdownOption:u,BaseDropdown:d,BaseIcon:e,AppHeader:p,AppPopup:c,SmoothReflow:o,LocationTypeahead:()=>t((()=>import("./LocationTypeahead-DVwXQCwx.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12])),BasicInfo:S,DetailedInfo:b,ForecastItem:D,AppViewSwitchDynamic:m},inject:["viewStateStore","capture"],setup:()=>({settingsDropdown:i(),DropdownOptionSpacing:y}),data:()=>({typeaheadShowing:!1,alertShowing:!1,selectedDay:0}),computed:{loading:()=>n.loading,detailedDay(){return 0===this.selectedDay},conditions:()=>n.conditions,location:()=>n.locationName,noConnection:()=>n.noConnection,activeForecast(){return this.detailedDay?this.conditions.now:this.conditions.days[this.selectedDay]},temperatureUnit:{get:()=>r.temperatureUnit,set(t){r.temperatureUnit=t,this.capture("metrics unit toggle",{new_value:"c"===t})}},hourlyForecastShowing:{get(){return r.weatherHourly&&this.$plus},set(t){r.weatherHourly=t,this.capture("hourly forecast toggle",{new_value:t})}},detailedInfoShowing:{get(){return r.weatherDetail&&this.$plus},set(t){r.weatherDetail=t,this.capture("detailed weather toggle",{new_value:t})}}},watch:{typeaheadShowing(t){t?l.registerEventListener("closeTypeahead","keyup",27,(()=>{this.typeaheadShowing=!1})):l.removeEventListener("closeTypeahead","keyup",27)}},created(){l.registerEventListener("closeApp","keyup",27,this.closeApp)},destroyed(){l.removeEventListener("closeApp","keyup",27)},methods:{refresh(){n.refreshFromServer()},setLocation(t=null){this.typeaheadShowing=!1,this.capture("location change",{automatic:!t}),n.setLocation(t)},selectForecastDay(t){this.selectedDay=t,this.capture("day select")},closeApp(){this.$emit("close")},closeTypeahead(){this.typeaheadShowing=!1},providerClick(){this.capture("provider click",{provider:"Accuweather"})},onHourlyDropdownClick(){this.$plus?this.hourlyForecastShowing=!this.hourlyForecastShowing:_(C.WEATHER,"dash")},onDetailedDropdownClick(){this.$plus?this.detailedInfoShowing=!this.detailedInfoShowing:_(C.WEATHER,"dash")},onUnitsDropdownClick(){this.temperatureUnit="f"!==this.temperatureUnit?"f":"c"},onEditLocationClick(){var t;null==(t=this.settingsDropdown)||t.closeDropdown(),this.typeaheadShowing=!0}}},(function(){var t=this,e=t._self._c;return e("app-popup",{attrs:{position:"bottom-left",width:460,region:"top-right",focused:t.viewStateStore.focused},nativeOn:{click:function(e){return t.viewStateStore.focus()}}},[e("app-view-switch-dynamic",[e("app-view",{staticClass:"weather",class:{"show-alert":t.alertShowing,"show-typeahead":t.typeaheadShowing},scopedSlots:t._u([{key:"header",fn:function(){return[e("app-header",{on:{close:function(e){return t.closeApp()}},scopedSlots:t._u([{key:"left",fn:function(){var s;return[t.activeForecast?e("base-icon",{staticClass:"app-header-icon",attrs:{src:(null==(s=t.activeForecast)?void 0:s.icon)??"icon/weather/cloud-sun"}}):t._e(),e("span",{staticClass:"app-header-name",attrs:{"data-test":"location-name-day"}},[t._v(t._s(t.location)+" "),e("span",{attrs:{"data-test":"location-day"}},[t._v(t._s(t.activeForecast.day))]),t._v(" Weather")]),t.loading?e("i",{staticClass:"loading-icon"}):t._e()]},proxy:!0},{key:"right",fn:function(){return[e("app-header-control",{attrs:{"data-test":"edit-icon"},on:{click:t.onEditLocationClick}},[e("base-icon",{attrs:{src:"icon/location/map-pin"}})],1),e("base-dropdown",{ref:"settingsDropdown",attrs:{"min-width":"200px","data-test":"more"}},[e("base-dropdown-option",{attrs:{spacing:t.DropdownOptionSpacing.Between,"data-test":"toggle-hourly"},on:{click:t.onHourlyDropdownClick}},[e("span",[t._v("Hourly Forecast "),t.$plus?t._e():e("span",{staticClass:"badge badge-plus"},[t._v("PLUS")])]),e("span",{staticClass:"toggle-right"},[e("toggle-switch",{attrs:{value:t.hourlyForecastShowing}})],1)]),e("base-dropdown-option",{attrs:{spacing:t.DropdownOptionSpacing.Between,"data-test":"toggle-details"},on:{click:t.onDetailedDropdownClick}},[e("span",[t._v("Detailed Info "),t.$plus?t._e():e("span",{staticClass:"badge badge-plus"},[t._v("PLUS")])]),e("span",{staticClass:"toggle-right"},[e("toggle-switch",{attrs:{value:t.detailedInfoShowing}})],1)]),e("base-dropdown-option",{attrs:{spacing:t.DropdownOptionSpacing.Between,"data-test":"toggle-metrics"},on:{click:t.onUnitsDropdownClick}},[e("span",[t._v("Metric Units")]),e("span",{staticClass:"toggle-right"},[e("toggle-switch",{attrs:{value:"f"!==t.temperatureUnit}})],1)]),e("base-dropdown-divider"),e("base-dropdown-option",{attrs:{"data-test":"edit-dropdown"},on:{click:t.onEditLocationClick}},[e("base-icon",{attrs:{src:"icon/location/map-pin"}}),e("span",[t._v("Change Location")])],1)],1)]},proxy:!0}])}),t.conditions?t._e():e("app-action-banner",[e("span",[t._v(" Looks like you're offline. Weather info will resume when you're reconnected. "),e("button",{staticClass:"banner-action",on:{click:t.refresh}},[t._v(" Refresh  "),e("base-icon",{attrs:{src:"refresh-cw",size:"14px"}})],1)])]),t.noConnection?e("app-action-banner",[e("span",[t._v(" Weather info will update when you reconnect. "),e("button",{staticClass:"banner-action",on:{click:t.refresh}},[t._v(" Refresh  "),e("base-icon",{attrs:{src:"refresh-cw",size:"14px"}})],1)])]):t._e()]},proxy:!0},{key:"body",fn:function(){return[t.activeForecast?e("div",{staticClass:"conditions"},[t._v(t._s(t.activeForecast.condition))]):t._e(),e("div",{staticClass:"basic-weather section"},[t.activeForecast?e("basic-info",{attrs:{conditions:t.activeForecast,"forecast-day":!t.detailedDay||!t.$plus,"hourly-forecast-showing":t.hourlyForecastShowing,"detailed-info-showing":t.detailedInfoShowing},on:{"toggle-hourly-forecast":function(e){t.hourlyForecastShowing=!t.hourlyForecastShowing},"toggle-detailed-info":function(e){t.detailedInfoShowing=!t.detailedInfoShowing}}}):t._e()],1),e("smooth-reflow",{attrs:{nested:!0,duration:350,"hide-overflow":!0}},[t.hourlyForecastShowing&&t.conditions&&t.detailedDay?e("div",{staticClass:"hourly-forecast section",attrs:{"data-test":"weather-hourly"}},t._l(t.conditions.hours,(function(t,s){return e("forecast-item",{key:s,attrs:{time:t.hour,icon:t.icon,temperature:t.temperature}})})),1):t._e()]),e("smooth-reflow",{attrs:{nested:!0,duration:350,"hide-overflow":!0}},[t.detailedInfoShowing&&t.activeForecast&&t.detailedDay?e("detailed-info",{attrs:{forecast:t.activeForecast,"data-test":"weather-details"}}):t._e()],1),t.conditions&&t.$plus?e("div",{staticClass:"daily-forecast section"},t._l(t.conditions.days,(function(s,a){return e("forecast-item",{key:a,staticClass:"has-action",class:{selected:a===t.selectedDay},attrs:{time:s.day.slice(0,3),icon:s.icon,temperature:s.high,"temperature-secondary":s.low,"data-test":"forecast-day"},nativeOn:{click:function(e){return t.selectForecastDay(a)}}})})),1):t._e(),e("div",{staticClass:"source section"},[t.activeForecast.link?e("a",{staticClass:"source-link has-action",attrs:{href:t.activeForecast.link,target:"_blank"},on:{click:t.providerClick}},[t._v(" "+t._s(t.$plus?"More weather info →":"Current conditions and 7-day forecast →")+" "),e("base-icon",{staticClass:"icon-external",attrs:{src:"square-arrow-out-up-right",size:"10px"}})],1):t._e(),e("img",{staticClass:"source-logo",attrs:{src:"/assets/png/logo-accuweather-BrOG6cnu.png"}})])]},proxy:!0},{key:"confirm",fn:function(){return[t.typeaheadShowing?e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeTypeahead,expression:"closeTypeahead"}],staticClass:"weather-typeahead",attrs:{"data-test":"typeahead"}},[e("location-typeahead",{attrs:{type:"location"},on:{input:t.setLocation}},[e("div",{staticClass:"input-icons"},[e("div",{staticClass:"icon-wrapper",on:{click:function(e){return t.setLocation(null,!1)}}},[e("base-icon",{attrs:{src:"icon-weather-reset",size:"14px"}})],1),e("div",{staticClass:"icon-wrapper",attrs:{"data-test":"clear-icon"},on:{click:t.closeTypeahead}},[e("base-icon",{attrs:{src:"icon-close",size:"12px"}})],1)])])],1):t._e()]},proxy:!0}])})],1)],1)}),[],!1,null,"42fa8435").exports;export{k as default};