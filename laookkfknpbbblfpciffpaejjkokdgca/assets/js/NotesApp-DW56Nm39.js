const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/NotesEditor-Yo-Wkvo-.js","assets/js/notes-Dj6OnzbX.js","assets/js/DataSyncService-BIQVYvDv.js","assets/js/index-B9SbLlJ5.js","assets/js/Logger-BTKFyPnc.js","assets/js/style-cpFB66wV.js","assets/css/style-CrTXrpPu.css","assets/js/compareObjects-R6Hcs7xe.js","assets/js/_commonjsHelpers-B3K3fdV-.js","assets/js/notesViewState-BrxGvZwb.js","assets/js/ViewState-CaQI4PuO.js","assets/js/appZStack-Duidf5Sm.js","assets/js/constants-CALDQiUE.js","assets/js/_plugin-vue2_normalizer-DeUNqxFl.js","assets/css/notes-DPkekTr7.css","assets/js/BaseDropdown-DNbKWQaF.js","assets/js/BaseDropdownContent-BfXd6hD-.js","assets/js/index-CbkRD371.js","assets/css/BaseDropdownContent-BVfvvT0B.css","assets/js/portal-vue.esm-BlbL0ibK.js","assets/js/icon-ellipsis-D7nTOXaQ.js","assets/css/BaseDropdown-CwtM7hMN.css","assets/js/arrow-NsbeR45Y.js","assets/js/icon-add-circle-clear-GrtyvbzL.js","assets/js/icon-alert-BikrS7AG.js","assets/js/icon-announcement-BkJZcc_E.js","assets/js/icon-apple-dpDSqZSz.js","assets/js/icon-apps-DMK_7N6g.js","assets/js/icon-arrow-Ck3t3ii2.js","assets/js/icon-back-D7vBl-rG.js","assets/js/icon-bottom-link-DzuhRnTL.js","assets/js/icon-check-green-DnhfocPY.js","assets/js/icon-check-NzmIzYMw.js","assets/js/icon-chrome-JPP0KCuo.js","assets/js/icon-circle-C-H4iUpv.js","assets/js/icon-clocks-BvX-8mGZ.js","assets/js/icon-close-DRlspKs3.js","assets/js/icon-cog-DRff0NFq.js","assets/js/icon-countdowns-DgIVHVr3.js","assets/js/icon-dislike-light-BELg7DsE.js","assets/js/icon-dislike-D3P7ZAzz.js","assets/js/icon-down-light-CzccyZ0D.js","assets/js/icon-down-CXjJWZ3Q.js","assets/js/icon-edge-ogFkEmDk.js","assets/js/icon-edit-CgpGeR-V.js","assets/js/icon-email-BZ6UK25K.js","assets/js/icon-error-state-DPDi2Xf2.js","assets/js/icon-heart-empty-CvHQXCHJ.js","assets/js/icon-heart-Ba128MNM.js","assets/js/icon-help-DFr47tdC.js","assets/js/icon-lock-BDcjUj_s.js","assets/js/icon-log-in-M7aDBZqk.js","assets/js/icon-menu-Ce2zdtAa.js","assets/js/icon-metrics-x_8GF31i.js","assets/js/icon-next-CI-_n-sg.js","assets/js/icon-pause-COvzZdIC.js","assets/js/icon-percent-jsfKWlmm.js","assets/js/icon-photo-Bgyax84W.js","assets/js/icon-pin-empty-light-ZxWGFFxO.js","assets/js/icon-pin-empty-CdR7o_Wb.js","assets/js/icon-pin-light-BNzVbgom.js","assets/js/icon-pin-5KioIhLy.js","assets/js/icon-play-5MkWE6PL.js","assets/js/icon-plus-B-FkYz15.js","assets/js/icon-pointer-Cdv1nbQs.js","assets/js/icon-profile-womUQGUp.js","assets/js/icon-refresh-BiFSOmaG.js","assets/js/icon-restore-BhZn5GSg.js","assets/js/icon-settings-CXmp5ZGB.js","assets/js/icon-skip-intro-f034Ba9B.js","assets/js/icon-tooltip-D4TzAUBN.js","assets/js/icon-topics-DEOo1km4.js","assets/js/icon-trash-BSyM-ydR.js","assets/js/icon-unarchive-UHPwWOfb.js","assets/js/icon-visible-off-CwNdVUTo.js","assets/js/icon-visible-on-DF1CdqCc.js","assets/js/icon-weather-reset-Dvcbzsqh.js","assets/js/icon-x-caret-half-Ciiq12QG.js","assets/js/paywall-timeline-un1vKPmv.js","assets/js/pomodoro-circle-CecfhCBZ.js","assets/js/star-rating-B8GbrhtJ.js","assets/js/thanks-hV9h1gV4.js","assets/js/add-hl9vpvrL.js","assets/js/ai-CrUIKdlW.js","assets/js/apps-EmLJtxmU.js","assets/js/arrow-down-DB88zjcp.js","assets/js/arrow-left-DBdr-aHx.js","assets/js/arrow-right-D4j8QfNg.js","assets/js/arrow-up-Co3aR3J6.js","assets/js/ban-C8xjo91W.js","assets/js/biceps-flexed-BDmy6yoM.js","assets/js/chevron-down-pKRK-eWT.js","assets/js/chevron-left-CEz6uZvV.js","assets/js/chevron-right-DUDsawq1.js","assets/js/chevron-up-Dz_75jEB.js","assets/js/clocks-0rtjmFrI.js","assets/js/close-IeUcFsRm.js","assets/js/collapse-B_ZWGDoQ.js","assets/js/countdowns-q6nMDIs4.js","assets/js/delete-DwkhERKT.js","assets/js/denied-B4PPOoJk.js","assets/js/down-CBZfJa79.js","assets/js/drag-Dj1BzyoD.js","assets/js/expand-iEVYxOpl.js","assets/js/folder-2-DnwLJkeL.js","assets/js/folder-3-Dz6qXKx6.js","assets/js/folder-_6hjd29T.js","assets/js/google-calendar-Bp-UClfh.js","assets/js/info-DdD9a7JK.js","assets/js/internal-link-C8mPN3JB.js","assets/js/links-fallback-J-S_uhC9.js","assets/js/logo-DmEjr1eM.js","assets/js/metrics-gNtWZ-jH.js","assets/js/pause-o-ZoJeB9.js","assets/js/pin-SDd2OaTE.js","assets/js/pip-Djjnka4c.js","assets/js/play-X6KjelCX.js","assets/js/search-B-fPPBNd.js","assets/js/sidebar-CcoAEXOQ.js","assets/js/sliders-horizontal-HAb9OcEP.js","assets/js/soundscapes-variant-4ssqor-P.js","assets/js/square-check-CyN_ERxV.js","assets/js/stop-COClkynQ.js","assets/js/switch-1q_g_nt5.js","assets/js/topics-DyX8XA-c.js","assets/js/undelete-DqOA-WVz.js","assets/js/unpin-Zn0hWV5x.js","assets/js/weather-C2HEY3-w.js","assets/js/upgrade-tiles-overview-DPRF3NmR.js","assets/js/add-metric-hl9vpvrL.js","assets/js/app-launcher-DQBC8OMo.js","assets/js/calendar-fill-XxNM8-WI.js","assets/js/calendar-C-iEpGgd.js","assets/js/chat-fill-D_8LeZHf.js","assets/js/chat-ChusYJjA.js","assets/js/clock-percent-BAamHcrx.js","assets/js/clock-DcXn_jh-.js","assets/js/clocks-BF6KcAR4.js","assets/js/countdowns-C91P2Yso.js","assets/js/countup-C1y0Nofn.js","assets/js/daily-goal-DXmLNw7i.js","assets/js/focus-insights-mdZS0RLC.js","assets/js/focus-mode-fill-qvXwryrv.js","assets/js/focus-mode-TgjJstn5.js","assets/js/links-fill-f16HxFr8.js","assets/js/links-B3EjXGZU.js","assets/js/metrics-T3JAjjhJ.js","assets/js/notes-fill-BTjLQH3z.js","assets/js/notes-DtR_WED7.js","assets/js/photo-info-DWOvufRL.js","assets/js/pomodoro-DkC_MfDw.js","assets/js/quotes-w2HN_E-c.js","assets/js/search-fill-D4FBBiF9.js","assets/js/search-_4L9pO9R.js","assets/js/settings-fill-C9LR-6pu.js","assets/js/settings-CiBMu4nV.js","assets/js/site-blocker-fill-Nh7CFs4W.js","assets/js/site-blocker-BKWb1Jzz.js","assets/js/sounds-fill-CL0Qkg6q.js","assets/js/sounds-DyeiSxA-.js","assets/js/tabs-fill-CSmHfNt4.js","assets/js/tabs-B0xiyzOS.js","assets/js/tasks-fill-DNaiiBtm.js","assets/js/tasks-BQ2r5T9b.js","assets/js/topics-JK0FRTiu.js","assets/js/edge-CtBFbPbE.js","assets/js/calendar-link-BMr6KmlH.js","assets/js/calendar-progress-partial-fill-g1VsHba5.js","assets/js/calendar-progress-partial-D9cERAsM.js","assets/js/home-outline-CZ1nSEHd.js","assets/js/home-CSQBmw3I.js","assets/js/storage-CP_Lr9ur.js","assets/js/icon-check-vKWGOWsw.js","assets/js/icon-confetti-BvRSomF2.js","assets/js/map-pin-B75zbTy5.js","assets/js/map-pinned-CQLljH-K.js","assets/js/skip-forward-CsGWcWWW.js","assets/js/bold-BaE7ndMD.js","assets/js/h1-CxV6385Z.js","assets/js/h2-DqXutjWS.js","assets/js/highlight-CwSe0a_Z.js","assets/js/italic-0pJT9B_E.js","assets/js/link-ChiUpZpL.js","assets/js/linked-note-BFLKrAzG.js","assets/js/list-Cdb5GJAX.js","assets/js/strikethrough-D5LHJgbg.js","assets/js/underline-CI6sxhi1.js","assets/js/icon-autofocus-BVL3mVUe.js","assets/js/icon-countdown-DNTC1biR.js","assets/js/icon-custom-content-CCEavx-9.js","assets/js/icon-daily-focus-BhA1qQBl.js","assets/js/icon-links-BCIVf7o2.js","assets/js/icon-mantras-CaCgb376.js","assets/js/icon-metrics-CMZlJbsD.js","assets/js/icon-more-functionality-CXzasdNy.js","assets/js/icon-notes-vXAcLlER.js","assets/js/icon-photos-CIhUczA-.js","assets/js/icon-quotes-DVQW3Mwr.js","assets/js/icon-todo-integrations-CgtYLTNM.js","assets/js/icon-todo-DUi73Q-g.js","assets/js/icon-forward-rZyfYDDL.js","assets/js/icon-plus-Bt74dT-Z.js","assets/js/icon-restart-3s86eNfI.js","assets/js/bing-white-D5G3_RrD.js","assets/js/bing-BEvqn8os.js","assets/js/duckduckgo-white-D7RuP9zG.js","assets/js/duckduckgo-Cd4gbMn9.js","assets/js/ecosia-white-BaNWNgIk.js","assets/js/ecosia-D9XML_5Z.js","assets/js/google-white-ShvItVZK.js","assets/js/google-NyzgtnG4.js","assets/js/center-below-calendar-Ctq0MshM.js","assets/js/center-below-focus-BjIZZe0T.js","assets/js/center-below-search-c4bbgKvA.js","assets/js/maple-leaf-D7ymddON.js","assets/js/bluesky-H4ka5O0o.js","assets/js/linkedin-DntUgXAh.js","assets/js/reddit-esdXWtJx.js","assets/js/threads-BHFw8Tgr.js","assets/js/x-BJEu0kht.js","assets/js/air-vent-rqCmunxA.js","assets/js/binaural-alpha-CvRCExwB.js","assets/js/binaural-beta-B66BWsw1.js","assets/js/binaural-delta-CCueYh2R.js","assets/js/binaural-gamma-CF5GVL95.js","assets/js/binaural-theta-TfCyPJ6d.js","assets/js/binaural-swJ0zuiQ.js","assets/js/bird-BOUSi4Fu.js","assets/js/bug-B3ZhVgOp.js","assets/js/building-B3gr_8qU.js","assets/js/chimes-kgenHqN4.js","assets/js/cloud-lightning-DK704Zsy.js","assets/js/cloud-rain-wind-IG0gmRQo.js","assets/js/cloud-rain-CyXrH4Mr.js","assets/js/coffee-BJefKG5B.js","assets/js/coffeemaker-C-zbLp_b.js","assets/js/creek-40SFmSgz.js","assets/js/custom-ChzQCNPs.js","assets/js/droplets-Dx3JBn-W.js","assets/js/flame-kindling-BrEYgIg6.js","assets/js/flame-DYy_QY21.js","assets/js/fluorescent-BprghZWK.js","assets/js/garden-Bnr1XrQx.js","assets/js/keyboard-D2u7g8aq.js","assets/js/music-DMaTIRw6.js","assets/js/noise-brown-CqlYg6ZS.js","assets/js/noise-green-DUjQXqBS.js","assets/js/noise-pink-Cg4I_fYI.js","assets/js/noise-white-DaPp3sZ7.js","assets/js/ocean-bubbles-CS_GhKR-.js","assets/js/ocean-splash-DBKTe7In.js","assets/js/palm-tree-island-sun-Bz7UpcoI.js","assets/js/plane-CuRppjME.js","assets/js/printer-Bc1AN8ef.js","assets/js/sailboat-BYB21tdS.js","assets/js/ship-cgCRrMxu.js","assets/js/speech-blocker-LmKW-Ehc.js","assets/js/speech-ISmTUSkP.js","assets/js/tent-tree-BTJqrZRg.js","assets/js/train-front-zFi1x8D7.js","assets/js/train-track-DbAt_8oH.js","assets/js/trees-BbsuB9Ra.js","assets/js/umbrella-ZHmHlmGW.js","assets/js/waves-birds-C5_Pc_ok.js","assets/js/waves-DIErriNn.js","assets/js/white-noise-BIyaql6E.js","assets/js/wind-0gDw74qo.js","assets/js/zap-DX4QC413.js","assets/js/brain-CoODe7UU.js","assets/js/easy-BlSSSWfE.js","assets/js/icon-asana-CHXQNqTn.js","assets/js/icon-audio-file-C5z8NBT3.js","assets/js/icon-balance-BEQ4ibGr.js","assets/js/icon-basecamp-B7R9CqXM.js","assets/js/icon-clean-C-ZtxDm4.js","assets/js/icon-clickup-DJvBy36z.js","assets/js/icon-color-DWYYkiUn.js","assets/js/icon-custom-soundscapes-C9DIWXTy.js","assets/js/icon-custom-theme-D39q7YXV.js","assets/js/icon-customize-timers-DgMgSftf.js","assets/js/icon-easy-access-BLZqwSdU.js","assets/js/icon-fitness-CuDP5A24.js","assets/js/icon-flow-BEQ4ibGr.js","assets/js/icon-focus-stats-6W6jP5A2.js","assets/js/icon-focused-CGtSWngL.js","assets/js/icon-fullscreen-CLpPfUm0.js","assets/js/icon-github-Cg7Jlm6t.js","assets/js/icon-global-weather-DFqlm1rO.js","assets/js/icon-google-tasks-DffuYEQ2.js","assets/js/icon-habit-CyobjhAa.js","assets/js/icon-happy-place-DmSiv1GS.js","assets/js/icon-headphones-BCOAFhua.js","assets/js/icon-history-CkMEKT56.js","assets/js/icon-hourly-D31VLw0V.js","assets/js/icon-hub-Du_fUHGa.js","assets/js/icon-infinity-BYguCjws.js","assets/js/icon-integrations-CJvt3t6J.js","assets/js/icon-kanban-uT_SjwUN.js","assets/js/icon-microsoft-todo-CG5-eqQU.js","assets/js/icon-more-fonts-CkIvMWOQ.js","assets/js/icon-more-lists-q-EqWctg.js","assets/js/icon-multiple-types-C6o5Zl9-.js","assets/js/icon-note-search-IZ_87Cw-.js","assets/js/icon-percent-schedule-sFliviMo.js","assets/js/icon-personalize-photos-D39q7YXV.js","assets/js/icon-personalize-D-Q8P7CA.js","assets/js/icon-photo-match-COcZsWYu.js","assets/js/icon-random-BazfyaSQ.js","assets/js/icon-search-loc-OzW-f2Jw.js","assets/js/icon-simple-notes-BesprUxs.js","assets/js/icon-simplify-CH0ObbhY.js","assets/js/icon-skip-NKABUUyQ.js","assets/js/icon-soundwave-Cp4ZlUlZ.js","assets/js/icon-spiral-BpNIPel8.js","assets/js/icon-sync-CUBUs3QH.js","assets/js/icon-time-sensitive-CFkxJVUs.js","assets/js/icon-timezones-Vj-X_9v-.js","assets/js/icon-todoist-zkOUMnhb.js","assets/js/icon-top-of-mind-KY8a3NL1.js","assets/js/icon-trello-B_C5tSSW.js","assets/js/icon-weather-extra-Wd9LFvRq.js","assets/js/secure-Hzc_2W5D.js","assets/js/sparks-Vj9MgeFM.js","assets/js/cloud-drizzle-hfrgT895.js","assets/js/cloud-fog-C5Jl8P5R.js","assets/js/cloud-hail-DxpFq_Wo.js","assets/js/cloud-lightning-tQ2R6sa9.js","assets/js/cloud-moon-rain-PMpaje3S.js","assets/js/cloud-moon-D_TJ7jF-.js","assets/js/cloud-rain-wind--fTpwjVb.js","assets/js/cloud-rain-Dlei3mkG.js","assets/js/cloud-snow-C-XxgdBJ.js","assets/js/cloud-sun-rain-DsqORtqr.js","assets/js/cloud-sun-Dt2ZBSbU.js","assets/js/cloud-Bo-5ibg8.js","assets/js/cloudy-BYeSklZc.js","assets/js/haze-qNmqPrH8.js","assets/js/moon-star-DHfr6qO_.js","assets/js/moon-7t28CmOO.js","assets/js/not-today-DXcs1eaJ.js","assets/js/rainbow-BW69jp8J.js","assets/js/snowflake-CrMPY-zJ.js","assets/js/sun-dim-CXhyTIXD.js","assets/js/sun-medium-D4Ub67Nm.js","assets/js/sun-moon-DmP5ewuh.js","assets/js/sun-snow-DnMnYxkj.js","assets/js/sun-CC-6vKnj.js","assets/js/sunrise-D1yURXAu.js","assets/js/sunset-Dz14RLNw.js","assets/js/thermometer-snowflake-CsCsUMYH.js","assets/js/thermometer-sun-BBBkL-VQ.js","assets/js/thermometer-B9D1Bwk3.js","assets/js/wind-CuvUCa8s.js","assets/js/feel-focused-Cmh8GW4d.js","assets/js/stay-on-task-C4IAAUIP.js","assets/js/tasks-completed-g7itYxRk.js","assets/js/volume-1-CDsRVomA.js","assets/js/volume-2-hxgnfeyO.js","assets/js/volume-x-BBqBcrac.js","assets/js/volume-sozKBaI4.js","assets/js/BaseDropdownOption-NzB_bdFk.js","assets/css/BaseDropdownOption-DaYMTb1b.css","assets/js/BaseDropdownDivider-Bay0Demn.js","assets/css/BaseDropdownDivider-D_a21TP7.css","assets/js/BaseDropdownText-CSYTEDLS.js","assets/css/BaseDropdownText-BVodxniW.css","assets/js/globalKeyEventManager-ByOI7Z15.js","assets/js/modal-DQlfZdMt.js","assets/js/enums-C0TfsRui.js","assets/js/appViewSwitchMixin-BsLJ76Hr.js","assets/js/AppView-Du2InOAV.js","assets/css/AppView-CsYj23U-.css","assets/js/AppPopup-CBVX3XyQ.js","assets/js/ResizeSensor-ZXOsDHeC.js","assets/css/AppPopup-BXpiIkq_.css","assets/js/AppLoading-DWsYUtJy.js","assets/css/AppLoading-DHYBGgbD.css","assets/js/AppEmpty-Rom0E1b_.js","assets/js/BaseIcon-CAXE-xBw.js","assets/js/dynamic-import-helper-DIl3ayLm.js","assets/css/BaseIcon-Bkqy2Cka.css","assets/css/AppEmpty-D0QAg47r.css","assets/js/AppHeader-DINik7Wl.js","assets/js/AppHeaderControl-CYSrwe76.js","assets/css/AppHeaderControl-B2WuFnb1.css","assets/js/constants-KuzCZNtH.js","assets/css/AppHeader-CM5L_Lkb.css","assets/js/BaseItemList-kFdAe94b.js","assets/js/useAllComponentsMounted-jOG8AT3X.js","assets/js/constants-BpVlFj04.js","assets/css/BaseItemList-D8h6-5ZQ.css","assets/js/reactiveCustomization-l1DAJU8W.js","assets/js/SmoothReflow-CN2CnQb0.js","assets/css/SmoothReflow-C80bIkgz.css","assets/js/flashMessageMixin-UHXyaNjE.js","assets/js/BaseMessage-B1Cb2q_O.js","assets/css/BaseMessage-r5wpiN8K.css","assets/js/NotesEditorLinkPreview-BX5y6tMn.js","assets/css/NotesEditorLinkPreview-CGxfa1RF.css","assets/js/index-BENmK416.js","assets/js/fuzzysort-CWNFt_1f.js","assets/css/fuzzysort-BtzB4zMK.css","assets/css/NotesEditor-gzegmBNv.css"])))=>i.map(i=>d[i]);
import{_ as t}from"./style-cpFB66wV.js";import{a as e}from"./appViewSwitchMixin-BsLJ76Hr.js";import{n}from"./_plugin-vue2_normalizer-DeUNqxFl.js";import{e as r,S as s,A as o,f as i,g as a,h as l,m as c,w as u,M as h,i as d,j as p,k as f,l as g,t as k,P as _,n as y,T as b,o as C,p as A,q as D,r as v,F as x,s as E,D as w,v as F,x as S,y as L,z as T,B as M,C as z,G as B,H as I,I as N,J as O,K as H,L as R,O as P,Q as j,R as q,U as $,V as Z,W as V,a as U,u as W,X as G,Y as K,Z as J,N as Q,_ as Y,$ as X,a0 as tt,a1 as et,a2 as nt,a3 as rt,a4 as st,a5 as ot,a6 as it,b as at,a7 as lt,a8 as ct,a9 as ut,aa as ht,ab as dt}from"./notes-Dj6OnzbX.js";import pt from"./AppView-Du2InOAV.js";import ft from"./AppPopup-CBVX3XyQ.js";import{A as mt}from"./AppLoading-DWsYUtJy.js";import{A as gt}from"./AppEmpty-Rom0E1b_.js";import kt from"./AppHeader-DINik7Wl.js";import{A as _t,bg as yt,d as bt,I as Ct,r as At,h as Dt,y as vt,a as xt,n as Et,G as wt}from"./index-B9SbLlJ5.js";import{B as Ft}from"./BaseDropdownOption-NzB_bdFk.js";import{B as St}from"./BaseItemList-kFdAe94b.js";import{B as Lt}from"./BaseDropdown-DNbKWQaF.js";import{A as Tt}from"./AppHeaderControl-CYSrwe76.js";import{D as Mt,a as zt}from"./constants-CALDQiUE.js";import{B as Bt,a as It}from"./BaseDropdownContent-BfXd6hD-.js";import{computed as Nt,persistent as Ot}from"./reactiveCustomization-l1DAJU8W.js";import{A as Ht}from"./constants-KuzCZNtH.js";import{B as Rt}from"./BaseDropdownDivider-Bay0Demn.js";import{S as Pt}from"./SmoothReflow-CN2CnQb0.js";import{f as jt}from"./flashMessageMixin-UHXyaNjE.js";import{B as qt}from"./BaseMessage-B1Cb2q_O.js";import $t from"./BaseIcon-CAXE-xBw.js";import Zt from"./info-DdD9a7JK.js";import{B as Vt}from"./BaseDropdownText-CSYTEDLS.js";import Ut from"./ai-CrUIKdlW.js";import Wt from"./chevron-down-pKRK-eWT.js";import{d as Gt,g as Kt}from"./DataSyncService-BIQVYvDv.js";import{g as Jt}from"./_commonjsHelpers-B3K3fdV-.js";import{u as Qt}from"./notesViewState-BrxGvZwb.js";import Yt from"./NotesEditorLinkPreview-BX5y6tMn.js";import Xt from"./linked-note-BFLKrAzG.js";import{A as te}from"./index-BENmK416.js";import{u as ee}from"./ViewState-CaQI4PuO.js";import{f as ne}from"./index-CbkRD371.js";import{A as re,f as se}from"./fuzzysort-CWNFt_1f.js";import{a as oe}from"./modal-DQlfZdMt.js";import{U as ie}from"./enums-C0TfsRui.js";import ae from"./icon-back-D7vBl-rG.js";import le from"./icon-plus-B-FkYz15.js";import ce from"./undelete-DqOA-WVz.js";const ue=n({name:"AppViewSwitchStatic",mixins:[e],props:{setContentToMaxHeight:{type:Boolean,default:!1}}},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-view-switch app-view-switch-static",class:{transitioning:t.transitionActive}},[e("transition",{attrs:{name:t.transitionType,duration:300},on:{beforeLeave:t.beforeTransition,beforeEnter:t.beforeTransition,afterEnter:t.afterTransition}},[e("div",{key:t.orderKey,class:{"set-content-to-max-height":t.setContentToMaxHeight}},[t._t("default")],2)])],1)}),[],!1,null,"4aa7991f").exports;const he=n({name:"NotesListItem",props:{note:{type:r,required:!0},active:{type:Boolean,required:!0}},emits:["click"],computed:{titlePreview(){return this.note.titlePreview.slice(0,s)}}},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"notes-list-item",class:{active:t.active},attrs:{"data-test":"list-item"},on:{click:function(e){return t.$emit("click")}}},[e("div",{staticClass:"notes-list-item-title",attrs:{"data-test":"list-title"}},[t._v(" "+t._s(t.titlePreview)+" ")])])}),[],!1,null,"98220fac").exports,de=new _t({feature:o.Feature});const pe=n({name:"NotesAiHistory",components:{BaseIcon:$t,BaseMessage:qt,BaseDropdown:Lt,SmoothReflow:Pt,BaseDropdownContent:Bt,BaseDropdownDivider:Rt},mixins:[jt],inject:["editorViewStateStore","editorStore","aiStore"],props:{scrollTarget:It.props.scrollTarget,alignment:{type:String,default:Mt.Center},appendToEnd:{type:Boolean,default:!1}},emits:["close","toggle"],unreactive:()=>({DropdownPosition:zt,NotesMessage:i}),computed:{activeHistoryData(){return this.aiStore.activeHistoryData},error(){return this.aiStore.error}},watch:{error:{handler(){this.error&&de.capture(o.ActionError,{type:this.aiStore.activeActionLabel})},immediate:!0}},methods:{async closeAi(){this.$emit("close"),this.aiStore.reset()},replaceText(){const{from:t,to:e}=this.editorStore.selection;this.appendToEnd?this.editorStore.setContent(this.editorStore.getTitleContent(),this.activeHistoryData.result,!1):this.editorStore.editor.chain().insertContentAt(e,this.activeHistoryData.result).deleteRange({from:t,to:e}).focus().run(),this.closeAi()},insertText(){const{to:t}=this.editorStore.selection,e=this.editorStore.editor.state.doc.content.size;this.appendToEnd?this.editorStore.editor.chain().insertContentAt(e,this.activeHistoryData.result).focus().run():this.editorStore.editor.chain().insertContentAt(t+1,this.activeHistoryData.result).focus().run(),this.closeAi()},copyText(){navigator.clipboard.writeText(this.activeHistoryData.result),this.showFlashMessage({message:"Copied to Clipboard."})},async reRunRequest(){await this.aiStore.runActiveRequest()},openDropdown(){this.editorStore.updateCursorDetails(),this.$refs["notes-ai-history"].openDropdown(),de.capture(o.OpenHistory)},closeDropdown(){this.$refs["notes-ai-history"].closeDropdown()},onToggle(t){this.$emit("toggle",t),!1===t&&this.aiStore.reset()}}},(function(){var t,e=this,n=e._self._c;return n("base-dropdown",{ref:"notes-ai-history",staticClass:"notes-ai-history",attrs:{"disable-click-outside":!0,"disable-close-event":!0,alignment:e.alignment,position:e.DropdownPosition.Bottom,"scroll-target":e.scrollTarget,"bound-scroll-x":!0,"use-toast-mobile":!1,width:"28rem"},on:{toggle:e.onToggle},scopedSlots:e._u([{key:"toggle",fn:function(){return[n("div",{staticClass:"notes-ai-history-toggle"})]},proxy:!0}])},[n("template",{slot:"contentOverride"},[n("base-dropdown-content",{staticClass:"notes-ai-history-content"},[n("div",{staticClass:"history-header"},[n("span",[e._v(e._s(e.aiStore.activeActionLabel))]),n("button",{staticClass:"icon-wrapper",on:{click:e.closeAi}},[n("base-icon",{staticClass:"icon-close",attrs:{src:"icon-close"}})],1)]),n("base-dropdown-divider"),n("div",{staticClass:"history-body"},[n("smooth-reflow",{attrs:{"hide-overflow":!0}},[n("div",{staticClass:"history-body-result"},[e.aiStore.loading?n("span",{staticClass:"history-body-result-loading",attrs:{"data-test":"ai-history-loading"}},[e._v("Loading...")]):e.error?n("base-message",e._b({attrs:{error:!0}},"base-message",e.error,!1)):n("div",{staticClass:"history-body-result-content",attrs:{"data-test":"ai-history-content"},domProps:{innerHTML:e._s(e.activeHistoryData.result)}})],1)]),n("smooth-reflow",[!e.aiStore.loading&&(null==(t=e.activeHistoryData)?void 0:t.brokenLinks)?n("div",{staticClass:"history-ai-links-warning",attrs:{"data-test":"ai-links-warning"}},[n("inline-svg",{staticClass:"icon icon-info",attrs:{src:Zt}}),n("span",[e._v("Links to Notes may be added or removed due to AI")])],1):e._e()]),n("transition",{attrs:{name:"fade"}},[e.error?n("div",{staticClass:"history-body-actions"},[n("button",{key:"retry",staticClass:"button",on:{click:e.reRunRequest}},[e._v("Retry")])]):n("div",{staticClass:"history-body-actions",class:{disabled:e.aiStore.loading}},[n("button",{key:"replace",staticClass:"button",on:{click:e.replaceText}},[e._v("Replace")]),n("button",{key:"insert",staticClass:"button",on:{click:e.insertText}},[e._v("Insert")]),n("button",{key:"copy",staticClass:"button button-neutral",on:{click:e.copyText}},[e._v("Copy")]),n("button",{key:"rerun",staticClass:"button button-neutral",on:{click:e.reRunRequest}},[e._v("Re-run")])])])],1)],1)],1)],2)}),[],!1,null,"090f4ed6").exports,fe=new _t({feature:o.Feature});const me=n({name:"NotesAiActions",components:{BaseDropdownDivider:Rt,BaseDropdownOption:Ft,BaseDropdown:Lt,BaseDropdownText:Vt},mixins:[jt],inject:["editorStore","aiStore"],props:{scrollTarget:It.props.scrollTarget,useAiHeader:{type:Boolean,default:!0},activeNote:{type:Object,required:!0},alignment:{type:String,default:Mt.Center}},emits:["action:history","toggle"],setup:()=>({DropdownPosition:zt,DropdownAlignment:Mt,NoteAiAction:a}),computed:{orderedLanguages(){return[...this.aiStore.languages.data].sort(((t,e)=>t.name.localeCompare(e.name,"en")))}},async mounted(){await this.getLanguages()},methods:{getActionSelectedText(){return this.editorStore.getSelectedHTML()||this.editorStore.getBodyHTMLContent(!0)},async summarize(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:a.Summary,data:{selectedText:this.getActionSelectedText()}}),this.onAction(a.Summary)},async improveWriting(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:a.ImproveWriting,data:{selectedText:this.getActionSelectedText()}}),this.onAction(a.ImproveWriting)},async listActionItems(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:a.ActionItems,data:{selectedText:this.getActionSelectedText()}}),this.onAction(a.ActionItems)},async fixSpellingAndGrammar(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:a.FixSpellingGrammar,data:{selectedText:this.getActionSelectedText()}}),this.onAction(a.FixSpellingGrammar)},async simplify(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:a.Simplification,data:{selectedText:this.getActionSelectedText()}}),this.onAction(a.Simplification)},async expand(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:a.Expansion,data:{selectedText:this.getActionSelectedText()}}),this.onAction(a.Expansion)},async getOutline(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:a.Outline,data:{selectedText:this.getActionSelectedText()}}),this.onAction(a.Outline)},async getJournalPrompts(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:a.JournalPrompts,data:{selectedText:this.getActionSelectedText()}}),this.onAction(a.JournalPrompts)},async translateText(t){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:a.Translation,data:{selectedText:this.getActionSelectedText(),languageId:t}}),this.onAction(a.Translation)},async getLanguages(){try{await this.aiStore.getLanguages()}catch(t){this.aiStore.languages.loading=!1,this.showFlashMessage({error:!0,message:i.ErrorFetchLanguages})}},onAction(t){fe.capture(o.Action,{type:t})},openDropdown(){this.editorStore.updateCursorDetails(),this.$refs["notes-ai-actions"].openDropdown(),fe.capture(o.OpenActions)},closeDropdown(){var t;null==(t=this.$refs["notes-ai-actions-translate"])||t.closeDropdown(),this.$refs["notes-ai-actions"].closeDropdown()}}},(function(){var t=this,e=t._self._c;return e("base-dropdown",{ref:"notes-ai-actions",staticClass:"notes-ai-actions",attrs:{"disable-click-outside":!0,"disable-close-event":!0,alignment:t.alignment,position:t.DropdownPosition.Bottom,"scroll-target":t.scrollTarget,"bound-scroll-x":!0,"use-toast-mobile":!1},on:{toggle:function(e){return t.$emit("toggle",e)}},scopedSlots:t._u([{key:"toggle",fn:function(){return[e("div",{staticClass:"notes-ai-actions-toggle"})]},proxy:!0}])},[t.useAiHeader?e("base-dropdown-text",{attrs:{"is-title":!0}},[t._v("Ask AI to...")]):t._e(),e("base-dropdown-option",{attrs:{"data-test":"ai-action-spelling"},on:{click:t.fixSpellingAndGrammar}},[t._v(t._s(t.NoteAiAction.FixSpellingGrammar))]),e("base-dropdown-option",{on:{click:t.simplify}},[t._v(t._s(t.NoteAiAction.Simplification))]),e("base-dropdown-option",{on:{click:t.improveWriting}},[t._v(t._s(t.NoteAiAction.ImproveWriting))]),e("base-dropdown-divider"),e("base-dropdown-option",{on:{click:t.summarize}},[t._v(t._s(t.NoteAiAction.Summary))]),e("base-dropdown-option",{on:{click:t.expand}},[t._v(t._s(t.NoteAiAction.Expansion))]),e("base-dropdown-option",{on:{click:t.listActionItems}},[t._v(t._s(t.NoteAiAction.ActionItems))]),e("base-dropdown-divider"),e("base-dropdown-option",{on:{click:t.getOutline}},[t._v(t._s(t.NoteAiAction.Outline))]),e("base-dropdown-option",{on:{click:t.getJournalPrompts}},[t._v(t._s(t.NoteAiAction.JournalPrompts))]),e("base-dropdown-divider"),e("base-dropdown",{ref:"notes-ai-actions-translate",attrs:{position:t.DropdownPosition.Right,alignment:t.DropdownAlignment.Center,nipple:!1,"position-offset":-2,disabled:!t.aiStore.languages.loaded},scopedSlots:t._u([{key:"toggle",fn:function(){return[e("base-dropdown-option",{attrs:{disabled:!t.aiStore.languages.loaded}},[t._v(t._s(t.NoteAiAction.Translation))])]},proxy:!0}])},t._l(t.orderedLanguages,(function(n){return e("base-dropdown-option",{key:n.id,on:{click:function(e){return t.translateText(n.id)}}},[t._v(" "+t._s(n.name)+" ")])})),1)],1)}),[],!1,null,"be06b35b").exports;const ge=n({name:"NotesHeaderAi",components:{AppHeaderControl:Tt,NotesAiHistory:pe,NotesAiActions:me},inject:["viewStateStore","editorStore"],props:{activeNote:{type:Object,default:null},disabled:{type:Boolean,default:!1}},unreactive:()=>({DropdownAlignment:Mt}),data:()=>({actionsOpen:!1,historyOpen:!1}),computed:{fullscreen(){return this.viewStateStore.fullscreen}},watch:{fullscreen(){this.closeDropdowns()}},methods:{openHistoryDropdown(){var t;this.editorStore.updateCursorDetails(),null==(t=this.$refs["notes-ai-history"])||t.openDropdown(),this.historyOpen=!0},closeHistoryDropdown(){var t;null==(t=this.$refs["notes-ai-history"])||t.closeDropdown(),this.historyOpen=!1},openActionsDropdown(){var t;this.editorStore.updateCursorDetails(),null==(t=this.$refs["notes-ai-actions"])||t.openDropdown(),this.actionsOpen=!0},closeActionsDropdown(){var t;null==(t=this.$refs["notes-ai-actions"])||t.closeDropdown(),this.actionsOpen=!1},closeDropdowns(){this.closeActionsDropdown(),this.closeHistoryDropdown()},onHeaderAiClick(){this.actionsOpen||this.historyOpen?this.closeDropdowns():(this.openActionsDropdown(),this.editorStore.resetSelection())},actionClicked(){this.closeActionsDropdown(),this.openHistoryDropdown()}}},(function(){var t=this,e=t._self._c;return e("app-header-control",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDropdowns,expression:"closeDropdowns"}],staticClass:"notes-header-ai",attrs:{"data-test":"notes-header-ai",disabled:t.disabled},on:{click:t.onHeaderAiClick}},[e("div",{staticClass:"notes-header-ai-content"},[e("div",{staticClass:"notes-header-ai-content-toggle"},[e("inline-svg",{staticClass:"icon icon-ai",attrs:{src:Ut}}),e("span",{staticClass:"ai-label"},[t._v("AI")]),e("inline-svg",{staticClass:"icon icon-chevron-down",attrs:{src:Wt}})],1),t.activeNote?e("notes-ai-history",{ref:"notes-ai-history",attrs:{alignment:t.DropdownAlignment.Left,"append-to-end":!0},on:{close:t.closeDropdowns,toggle:function(e){t.historyOpen=e}}}):t._e(),t.activeNote?e("notes-ai-actions",{ref:"notes-ai-actions",attrs:{"active-note":t.activeNote,"use-ai-header":!1,alignment:t.DropdownAlignment.Left},on:{"action:history":t.actionClicked,toggle:function(e){t.actionsOpen=e}}}):t._e()],1)])}),[],!1,null,"bd41b558").exports,ke=/^\s*>\s$/,_e=l.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:t}){return["blockquote",c(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[u({find:ke,type:this.type})]}}),ye=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,be=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Ce=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Ae=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,De=h.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"strong"},{tag:"b",getAttrs:t=>"normal"!==t.style.fontWeight&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}],renderHTML({HTMLAttributes:t}){return["strong",c(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[d({find:ye,type:this.type}),d({find:Ce,type:this.type})]},addPasteRules(){return[p({find:be,type:this.type}),p({find:Ae,type:this.type})]}}),ve=l.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:t}){return["li",c(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),xe=h.create({name:"textStyle",priority:101,addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"span",getAttrs:t=>!!t.hasAttribute("style")&&{}}],renderHTML({HTMLAttributes:t}){return["span",c(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=f(t,this.type);return!!Object.entries(n).some((([,t])=>!!t))||e.unsetMark(this.name)}}}}),Ee=/^\s*([-+*])\s$/,we=l.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:t}){return["ul",c(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ve.name,this.editor.getAttributes(xe.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=u({find:Ee,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=u({find:Ee,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(xe.name),editor:this.editor})),[t]}}),Fe=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,Se=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,Le=h.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:t}){return["code",c(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[d({find:Fe,type:this.type})]},addPasteRules(){return[p({find:Se,type:this.type})]}}),Te=/^```([a-z]+)?[\s\n]$/,Me=/^~~~([a-z]+)?[\s\n]$/,ze=l.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,r=[...(null===(e=t.firstElementChild)||void 0===e?void 0:e.classList)||[]].filter((t=>t.startsWith(n))).map((t=>t.replace(n,"")))[0];return r||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:t,HTMLAttributes:e}){return["pre",c(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=1===e.pos;return!(!t||e.parent.type.name!==this.name)&&(!(!n&&e.parent.textContent.length)&&this.editor.commands.clearNodes())},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,i=r.parent.textContent.endsWith("\n\n");return!(!o||!i)&&t.chain().command((({tr:t})=>(t.delete(r.pos-2,r.pos),!0))).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:s,empty:o}=n;if(!o||s.parent.type!==this.type)return!1;if(!(s.parentOffset===s.parent.nodeSize-2))return!1;const i=s.after();if(void 0===i)return!1;return r.nodeAt(i)?t.commands.command((({tr:t})=>(t.setSelection(g.near(r.resolve(i))),!0))):t.commands.exitCode()}}},addInputRules(){return[k({find:Te,type:this.type,getAttributes:t=>({language:t[1]})}),k({find:Me,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new _({key:new y("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData)return!1;if(this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,o=null==s?void 0:s.mode;if(!n||!o)return!1;const{tr:i,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,"\n"));return i.replaceSelectionWith(this.type.create({language:o},l)),i.selection.$from.parent.type!==this.type&&i.setSelection(b.near(i.doc.resolve(Math.max(0,i.selection.from-2)))),i.setMeta("paste",!0),t.dispatch(i),!0}}})]}}),Be=l.create({name:"doc",topNode:!0,content:"block+"});function Ie(t={}){return new _({view:e=>new Ne(e,t)})}class Ne{constructor(t,e){var n;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!==(n=e.width)&&void 0!==n?n:1,this.color=!1===e.color?void 0:e.color||"black",this.class=e.class,this.handlers=["dragover","dragend","drop","dragleave"].map((e=>{let n=t=>{this[e](t)};return t.dom.addEventListener(e,n),{name:e,handler:n}}))}destroy(){this.handlers.forEach((({name:t,handler:e})=>this.editorView.dom.removeEventListener(t,e)))}update(t,e){null!=this.cursorPos&&e.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,null==t?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t,e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent;if(n){let n=e.nodeBefore,r=e.nodeAfter;if(n||r){let e=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0));if(e){let s=e.getBoundingClientRect(),o=n?s.bottom:s.top;n&&r&&(o=(o+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),t={left:s.left,right:s.right,top:o-this.width/2,bottom:o+this.width/2}}}}if(!t){let e=this.editorView.coordsAtPos(this.cursorPos);t={left:e.left-this.width/2,right:e.left+this.width/2,top:e.top,bottom:e.bottom}}let r,s,o=this.editorView.dom.offsetParent;if(this.element||(this.element=o.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n),!o||o==document.body&&"static"==getComputedStyle(o).position)r=-pageXOffset,s=-pageYOffset;else{let t=o.getBoundingClientRect();r=t.left-o.scrollLeft,s=t.top-o.scrollTop}this.element.style.left=t.left-r+"px",this.element.style.top=t.top-s+"px",this.element.style.width=t.right-t.left+"px",this.element.style.height=t.bottom-t.top+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout((()=>this.setCursor(null)),t)}dragover(t){if(!this.editorView.editable)return;let e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),n=e&&e.inside>=0&&this.editorView.state.doc.nodeAt(e.inside),r=n&&n.type.spec.disableDropCursor,s="function"==typeof r?r(this.editorView,e,t):r;if(e&&!s){let t=e.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let e=C(this.editorView.state.doc,t,this.editorView.dragging.slice);null!=e&&(t=e)}this.setCursor(t),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){t.target!=this.editorView.dom&&this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}const Oe=A.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[Ie(this.options)]}});class He extends g{constructor(t){super(t,t)}map(t,e){let n=t.resolve(e.map(this.head));return He.valid(n)?new He(n):g.near(n)}content(){return E.empty}eq(t){return t instanceof He&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new He(t.resolve(e.pos))}getBookmark(){return new Re(this.anchor)}static valid(t){let e=t.parent;if(e.isTextblock||!function(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(0!=n)for(let t=r.child(n-1);;t=t.lastChild){if(0==t.childCount&&!t.inlineContent||t.isAtom||t.type.spec.isolating)return!0;if(t.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(t)||!function(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n!=r.childCount)for(let t=r.child(n);;t=t.firstChild){if(0==t.childCount&&!t.inlineContent||t.isAtom||t.type.spec.isolating)return!0;if(t.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(t))return!1;let n=e.type.spec.allowGapCursor;if(null!=n)return n;let r=e.contentMatchAt(t.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(t,e,n=!1){t:for(;;){if(!n&&He.valid(t))return t;let r=t.pos,s=null;for(let n=t.depth;;n--){let o=t.node(n);if(e>0?t.indexAfter(n)<o.childCount:t.index(n)>0){s=o.child(e>0?t.indexAfter(n):t.index(n)-1);break}if(0==n)return null;r+=e;let i=t.doc.resolve(r);if(He.valid(i))return i}for(;;){let o=e>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!v.isSelectable(s)){t=t.doc.resolve(r+s.nodeSize*e),n=!1;continue t}break}s=o,r+=e;let i=t.doc.resolve(r);if(He.valid(i))return i}return null}}}He.prototype.visible=!1,He.findFrom=He.findGapCursorFrom,g.jsonID("gapcursor",He);class Re{constructor(t){this.pos=t}map(t){return new Re(t.map(this.pos))}resolve(t){let e=t.resolve(this.pos);return He.valid(e)?new He(e):g.near(e)}}const Pe=D({ArrowLeft:je("horiz",-1),ArrowRight:je("horiz",1),ArrowUp:je("vert",-1),ArrowDown:je("vert",1)});function je(t,e){const n="vert"==t?e>0?"down":"up":e>0?"right":"left";return function(t,r,s){let o=t.selection,i=e>0?o.$to:o.$from,a=o.empty;if(o instanceof b){if(!s.endOfTextblock(n)||0==i.depth)return!1;a=!1,i=t.doc.resolve(e>0?i.after():i.before())}let l=He.findGapCursorFrom(i,e,a);return!!l&&(r&&r(t.tr.setSelection(new He(l))),!0)}}function qe(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!He.valid(r))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return!(s&&s.inside>-1&&v.isSelectable(t.state.doc.nodeAt(s.inside)))&&(t.dispatch(t.state.tr.setSelection(new He(r))),!0)}function $e(t,e){if("insertCompositionText"!=e.inputType||!(t.state.selection instanceof He))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let s=x.empty;for(let i=r.length-1;i>=0;i--)s=x.from(r[i].createAndFill(null,s));let o=t.state.tr.replace(n.pos,n.pos,new E(s,0,0));return o.setSelection(b.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function Ze(t){if(!(t.selection instanceof He))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",w.create(t.doc,[F.widget(t.selection.head,e,{key:"gapcursor"})])}const Ve=A.create({name:"gapCursor",addProseMirrorPlugins:()=>[new _({props:{decorations:Ze,createSelectionBetween:(t,e,n)=>e.pos==n.pos&&He.valid(n)?new He(n):null,handleClick:qe,handleKeyDown:Pe,handleDOMEvents:{beforeinput:$e}}})],extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:null!==(e=S(L(t,"allowGapCursor",n)))&&void 0!==e?e:null}}}),Ue=l.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:t}){return["br",c(this.options.HTMLAttributes,t)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command((()=>{const{selection:t,storedMarks:s}=n;if(t.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:i}=r.extensionManager,a=s||t.$to.parentOffset&&t.$from.marks();return e().insertContent({type:this.name}).command((({tr:t,dispatch:e})=>{if(e&&a&&o){const e=a.filter((t=>i.includes(t.type.name)));t.ensureMarks(e)}return!0})).run()}))])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),We=l.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map((t=>({tag:`h${t}`,attrs:{level:t}})))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,c(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>!!this.options.levels.includes(t.level)&&e.setNode(this.name,t),toggleHeading:t=>({commands:e})=>!!this.options.levels.includes(t.level)&&e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return this.options.levels.reduce(((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})})),{})},addInputRules(){return this.options.levels.map((t=>k({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}})))}});var Ge=200,Ke=function(){};Ke.prototype.append=function(t){return t.length?(t=Ke.from(t),!this.length&&t||t.length<Ge&&this.leafAppend(t)||this.length<Ge&&t.leafPrepend(this)||this.appendInner(t)):this},Ke.prototype.prepend=function(t){return t.length?Ke.from(t).append(this):this},Ke.prototype.appendInner=function(t){return new Qe(this,t)},Ke.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?Ke.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},Ke.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},Ke.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},Ke.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(e,n){return r.push(t(e,n))}),e,n),r},Ke.from=function(t){return t instanceof Ke?t:t&&t.length?new Je(t):Ke.empty};var Je=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,r){for(var s=e;s<n;s++)if(!1===t(this.values[s],r+s))return!1},e.prototype.forEachInvertedInner=function(t,e,n,r){for(var s=e-1;s>=n;s--)if(!1===t(this.values[s],r+s))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=Ge)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=Ge)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Ke);Ke.empty=new Je([]);var Qe=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,r){var s=this.left.length;return!(e<s&&!1===this.left.forEachInner(t,e,Math.min(n,s),r))&&(!(n>s&&!1===this.right.forEachInner(t,Math.max(e-s,0),Math.min(this.length,n)-s,r+s))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,r){var s=this.left.length;return!(e>s&&!1===this.right.forEachInvertedInner(t,e-s,Math.max(n,s)-s,r+s))&&(!(n<s&&!1===this.left.forEachInvertedInner(t,Math.min(e,s),n,r))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(Ke);class Ye{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(0==this.eventCount)return null;let n,r,s=this.items.length;for(;;s--){if(this.items.get(s-1).selection){--s;break}}e&&(n=this.remapping(s,this.items.length),r=n.maps.length);let o,i,a=t.tr,l=[],c=[];return this.items.forEach(((t,e)=>{if(!t.step)return n||(n=this.remapping(s,e+1),r=n.maps.length),r--,void c.push(t);if(n){c.push(new Xe(t.map));let e,s=t.step.map(n.slice(r));s&&a.maybeStep(s).doc&&(e=a.mapping.maps[a.mapping.maps.length-1],l.push(new Xe(e,void 0,void 0,l.length+c.length))),r--,e&&n.appendMap(e,r)}else a.maybeStep(t.step);return t.selection?(o=n?t.selection.map(n.slice(r)):t.selection,i=new Ye(this.items.slice(0,s).append(c.reverse().concat(l)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:i,transform:a,selection:o}}addTransform(t,e,n,r){let s=[],o=this.eventCount,i=this.items,a=!r&&i.length?i.get(i.length-1):null;for(let c=0;c<t.steps.length;c++){let n,l=t.steps[c].invert(t.docs[c]),u=new Xe(t.mapping.maps[c],l,e);(n=a&&a.merge(u))&&(u=n,c?s.pop():i=i.slice(0,i.length-1)),s.push(u),e&&(o++,e=void 0),r||(a=u)}let l=o-n.depth;return l>en&&(i=function(t,e){let n;return t.forEach(((t,r)=>{if(t.selection&&0==e--)return n=r,!1})),t.slice(n)}(i,l),o-=l),new Ye(i.append(s),o)}remapping(t,e){let n=new T;return this.items.forEach(((e,r)=>{let s=null!=e.mirrorOffset&&r-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:void 0;n.appendMap(e.map,s)}),t,e),n}addMaps(t){return 0==this.eventCount?this:new Ye(this.items.append(t.map((t=>new Xe(t)))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-e),s=t.mapping,o=t.steps.length,i=this.eventCount;this.items.forEach((t=>{t.selection&&i--}),r);let a=e;this.items.forEach((e=>{let r=s.getMirror(--a);if(null==r)return;o=Math.min(o,r);let l=s.maps[r];if(e.step){let o=t.steps[r].invert(t.docs[r]),c=e.selection&&e.selection.map(s.slice(a+1,r));c&&i++,n.push(new Xe(l,o,c))}else n.push(new Xe(l))}),r);let l=[];for(let h=e;h<o;h++)l.push(new Xe(s.maps[h]));let c=this.items.slice(0,r).append(l).append(n),u=new Ye(c,i);return u.emptyItemCount()>500&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let t=0;return this.items.forEach((e=>{e.step||t++})),t}compress(t=this.items.length){let e=this.remapping(0,t),n=e.maps.length,r=[],s=0;return this.items.forEach(((o,i)=>{if(i>=t)r.push(o),o.selection&&s++;else if(o.step){let t=o.step.map(e.slice(n)),i=t&&t.getMap();if(n--,i&&e.appendMap(i,n),t){let a=o.selection&&o.selection.map(e.slice(n));a&&s++;let l,c=new Xe(i.invert(),t,a),u=r.length-1;(l=r.length&&r[u].merge(c))?r[u]=l:r.push(c)}}else o.map&&n--}),this.items.length,0),new Ye(Ke.from(r.reverse()),s)}}Ye.empty=new Ye(Ke.empty,0);class Xe{constructor(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new Xe(e.getMap().invert(),e,this.selection)}}}class tn{constructor(t,e,n,r,s){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r,this.prevComposition=s}}const en=20;function nn(t){let e=[];for(let n=t.length-1;n>=0&&0==e.length;n--)t[n].forEach(((t,n,r,s)=>e.push(r,s)));return e}function rn(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),o=e.map(t[r+1],-1);s<=o&&n.push(s,o)}return n}let sn=!1,on=null;function an(t){let e=t.plugins;if(on!=e){sn=!1,on=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){sn=!0;break}}return sn}const ln=new y("history"),cn=new y("closeHistory");function un(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new _({key:ln,state:{init:()=>new tn(Ye.empty,Ye.empty,null,0,-1),apply:(e,n,r)=>function(t,e,n,r){let s,o=n.getMeta(ln);if(o)return o.historyState;n.getMeta(cn)&&(t=new tn(t.done,t.undone,null,0,-1));let i=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(i&&i.getMeta(ln))return i.getMeta(ln).redo?new tn(t.done.addTransform(n,void 0,r,an(e)),t.undone,nn(n.mapping.maps),t.prevTime,t.prevComposition):new tn(t.done,t.undone.addTransform(n,void 0,r,an(e)),null,t.prevTime,t.prevComposition);if(!1===n.getMeta("addToHistory")||i&&!1===i.getMeta("addToHistory"))return(s=n.getMeta("rebased"))?new tn(t.done.rebased(n,s),t.undone.rebased(n,s),rn(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new tn(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),rn(t.prevRanges,n.mapping),t.prevTime,t.prevComposition);{let s=n.getMeta("composition"),o=0==t.prevTime||!i&&t.prevComposition!=s&&(t.prevTime<(n.time||0)-r.newGroupDelay||!function(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach(((t,r)=>{for(let s=0;s<e.length;s+=2)t<=e[s+1]&&r>=e[s]&&(n=!0)})),n}(n,t.prevRanges)),a=i?rn(t.prevRanges,n.mapping):nn(n.mapping.maps);return new tn(t.done.addTransform(n,o?e.selection.getBookmark():void 0,r,an(e)),Ye.empty,a,n.time,null==s?t.prevComposition:s)}}(n,r,e,t)},config:t,props:{handleDOMEvents:{beforeinput(t,e){let n=e.inputType,r="historyUndo"==n?dn:"historyRedo"==n?pn:null;return!!r&&(e.preventDefault(),r(t.state,t.dispatch))}}}})}function hn(t,e){return(n,r)=>{let s=ln.getState(n);if(!s||0==(t?s.undone:s.done).eventCount)return!1;if(r){let o=function(t,e,n){let r=an(e),s=ln.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,r);if(!o)return null;let i=o.selection.resolve(o.transform.doc),a=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),s,r),l=new tn(n?a:o.remaining,n?o.remaining:a,null,0,-1);return o.transform.setSelection(i).setMeta(ln,{redo:n,historyState:l})}(s,n,t);o&&r(e?o.scrollIntoView():o)}return!0}}const dn=hn(!1,!0),pn=hn(!0,!0),fn=A.create({name:"history",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:t,dispatch:e})=>dn(t,e),redo:()=>({state:t,dispatch:e})=>pn(t,e)}),addProseMirrorPlugins(){return[un(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),mn=l.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{}}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:t}){return["hr",c(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:r,$to:s}=n,o=t();return 0===r.parentOffset?o.insertContentAt({from:Math.max(r.pos-1,0),to:s.pos},{type:this.name}):M(n)?o.insertContentAt(s.pos,{type:this.name}):o.insertContent({type:this.name}),o.command((({tr:t,dispatch:e})=>{var n;if(e){const{$to:e}=t.selection,r=e.end();if(e.nodeAfter)e.nodeAfter.isTextblock?t.setSelection(b.create(t.doc,e.pos+1)):e.nodeAfter.isBlock?t.setSelection(v.create(t.doc,e.pos)):t.setSelection(b.create(t.doc,e.pos));else{const s=null===(n=e.parent.type.contentMatch.defaultType)||void 0===n?void 0:n.create();s&&(t.insert(r,s),t.setSelection(b.create(t.doc,r+1)))}t.scrollIntoView()}return!0})).run()}}},addInputRules(){return[z({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),gn=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,kn=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,_n=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,yn=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,bn=h.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"em"},{tag:"i",getAttrs:t=>"normal"!==t.style.fontStyle&&null},{style:"font-style=italic"}],renderHTML({HTMLAttributes:t}){return["em",c(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[d({find:gn,type:this.type}),d({find:_n,type:this.type})]},addPasteRules(){return[p({find:kn,type:this.type}),p({find:yn,type:this.type})]}}),Cn=l.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:t}){return["li",c(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),An=l.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:t}){return["li",c(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Dn=h.create({name:"textStyle",priority:101,addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"span",getAttrs:t=>!!t.hasAttribute("style")&&{}}],renderHTML({HTMLAttributes:t}){return["span",c(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=f(t,this.type);return!!Object.entries(n).some((([,t])=>!!t))||e.unsetMark(this.name)}}}}),vn=/^(\d+)\.\s$/,xn=l.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:t=>t.getAttribute("type")}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return 1===e?["ol",c(this.options.HTMLAttributes,n),0]:["ol",c(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(An.name,this.editor.getAttributes(Dn.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=u({find:vn,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=u({find:vn,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(Dn.name)}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1],editor:this.editor})),[t]}}),En=l.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:t}){return["p",c(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),wn=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Fn=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Sn=h.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>!!t.includes("line-through")&&{}}],renderHTML({HTMLAttributes:t}){return["s",c(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[d({find:wn,type:this.type})]},addPasteRules(){return[p({find:Fn,type:this.type})]}}),Ln=l.create({name:"text",group:"inline"}),Tn=A.create({name:"starterKit",addExtensions(){var t,e,n,r,s,o,i,a,l,c,u,h,d,p,f,m,g,k;const _=[];return!1!==this.options.bold&&_.push(De.configure(null===(t=this.options)||void 0===t?void 0:t.bold)),!1!==this.options.blockquote&&_.push(_e.configure(null===(e=this.options)||void 0===e?void 0:e.blockquote)),!1!==this.options.bulletList&&_.push(we.configure(null===(n=this.options)||void 0===n?void 0:n.bulletList)),!1!==this.options.code&&_.push(Le.configure(null===(r=this.options)||void 0===r?void 0:r.code)),!1!==this.options.codeBlock&&_.push(ze.configure(null===(s=this.options)||void 0===s?void 0:s.codeBlock)),!1!==this.options.document&&_.push(Be.configure(null===(o=this.options)||void 0===o?void 0:o.document)),!1!==this.options.dropcursor&&_.push(Oe.configure(null===(i=this.options)||void 0===i?void 0:i.dropcursor)),!1!==this.options.gapcursor&&_.push(Ve.configure(null===(a=this.options)||void 0===a?void 0:a.gapcursor)),!1!==this.options.hardBreak&&_.push(Ue.configure(null===(l=this.options)||void 0===l?void 0:l.hardBreak)),!1!==this.options.heading&&_.push(We.configure(null===(c=this.options)||void 0===c?void 0:c.heading)),!1!==this.options.history&&_.push(fn.configure(null===(u=this.options)||void 0===u?void 0:u.history)),!1!==this.options.horizontalRule&&_.push(mn.configure(null===(h=this.options)||void 0===h?void 0:h.horizontalRule)),!1!==this.options.italic&&_.push(bn.configure(null===(d=this.options)||void 0===d?void 0:d.italic)),!1!==this.options.listItem&&_.push(Cn.configure(null===(p=this.options)||void 0===p?void 0:p.listItem)),!1!==this.options.orderedList&&_.push(xn.configure(null===(f=this.options)||void 0===f?void 0:f.orderedList)),!1!==this.options.paragraph&&_.push(En.configure(null===(m=this.options)||void 0===m?void 0:m.paragraph)),!1!==this.options.strike&&_.push(Sn.configure(null===(g=this.options)||void 0===g?void 0:g.strike)),!1!==this.options.text&&_.push(Ln.configure(null===(k=this.options)||void 0===k?void 0:k.text)),_}}),Mn=A.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new _({key:new y("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,s=[];if(!n)return null;const o=this.editor.isEmpty;return t.descendants(((t,e)=>{const n=r>=e&&r<=e+t.nodeSize,i=!t.isLeaf&&B(t);if((n||!this.options.showOnlyCurrent)&&i){const r=[this.options.emptyNodeClass];o&&r.push(this.options.emptyEditorClass);const i=F.node(e,e+t.nodeSize,{class:r.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:t,pos:e,hasAnchor:n}):this.options.placeholder});s.push(i)}return this.options.includeChildren})),w.create(t,s)}}})]}}),zn=l.create({name:"taskList",addOptions:()=>({itemTypeName:"taskItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",c(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),Bn=/^\s*(\[([( |x])?\])\s$/,In=l.create({name:"taskItem",addOptions:()=>({nested:!1,HTMLAttributes:{},taskListTypeName:"taskList"}),content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes:()=>({checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return""===e||"true"===e},renderHTML:t=>({"data-checked":t.checked})}}),parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",c(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const s=document.createElement("li"),o=document.createElement("label"),i=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div");return o.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",(t=>t.preventDefault())),a.addEventListener("change",(e=>{if(!r.isEditable&&!this.options.onReadOnlyChecked)return void(a.checked=!a.checked);const{checked:s}=e.target;r.isEditable&&"function"==typeof n&&r.chain().focus(void 0,{scrollIntoView:!1}).command((({tr:t})=>{const e=n();if("number"!=typeof e)return!1;const r=t.doc.nodeAt(e);return t.setNodeMarkup(e,void 0,{...null==r?void 0:r.attrs,checked:s}),!0})).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,s)||(a.checked=!a.checked))})),Object.entries(this.options.HTMLAttributes).forEach((([t,e])=>{s.setAttribute(t,e)})),s.dataset.checked=t.attrs.checked,t.attrs.checked&&a.setAttribute("checked","checked"),o.append(a,i),s.append(o,l),Object.entries(e).forEach((([t,e])=>{s.setAttribute(t,e)})),{dom:s,contentDOM:l,update:t=>t.type===this.type&&(s.dataset.checked=t.attrs.checked,t.attrs.checked?a.setAttribute("checked","checked"):a.removeAttribute("checked"),!0)}}},addInputRules(){return[u({find:Bn,type:this.type,getAttributes:t=>({checked:"x"===t[t.length-1]})})]}}),Nn="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",On="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Hn=(t,e)=>{for(const n in e)t[n]=e[n];return t},Rn="numeric",Pn="ascii",jn="alpha",qn="asciinumeric",$n="alphanumeric",Zn="domain",Vn="emoji",Un="scheme",Wn="slashscheme",Gn="whitespace";function Kn(t,e){return t in e||(e[t]=[]),e[t]}function Jn(t,e,n){e[Rn]&&(e[qn]=!0,e[$n]=!0),e[Pn]&&(e[qn]=!0,e[jn]=!0),e[qn]&&(e[$n]=!0),e[jn]&&(e[$n]=!0),e[$n]&&(e[Zn]=!0),e[Vn]&&(e[Zn]=!0);for(const r in e){const e=Kn(r,n);e.indexOf(t)<0&&e.push(t)}}function Qn(t){void 0===t&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}Qn.groups={},Qn.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const n=e.jr[r][0],s=e.jr[r][1];if(s&&n.test(t))return s}return e.jd},has(t,e){return void 0===e&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,r)},tr(t,e,n,r){let s;return r=r||Qn.groups,e&&e.j?s=e:(s=new Qn(e),n&&r&&Jn(e,n,r)),this.jr.push([t,s]),s},ts(t,e,n,r){let s=this;const o=t.length;if(!o)return s;for(let i=0;i<o-1;i++)s=s.tt(t[i]);return s.tt(t[o-1],e,n,r)},tt(t,e,n,r){r=r||Qn.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const o=e;let i,a=s.go(t);if(a?(i=new Qn,Hn(i.j,a.j),i.jr.push.apply(i.jr,a.jr),i.jd=a.jd,i.t=a.t):i=new Qn,o){if(r)if(i.t&&"string"==typeof i.t){const t=Hn(function(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}(i.t,r),n);Jn(o,t,r)}else n&&Jn(o,n,r);i.t=o}return s.j[t]=i,i}};const Yn=(t,e,n,r,s)=>t.ta(e,n,r,s),Xn=(t,e,n,r,s)=>t.tr(e,n,r,s),tr=(t,e,n,r,s)=>t.ts(e,n,r,s),er=(t,e,n,r,s)=>t.tt(e,n,r,s),nr="WORD",rr="UWORD",sr="LOCALHOST",or="TLD",ir="UTLD",ar="SCHEME",lr="SLASH_SCHEME",cr="NUM",ur="WS",hr="NL",dr="OPENBRACE",pr="CLOSEBRACE",fr="OPENBRACKET",mr="CLOSEBRACKET",gr="OPENPAREN",kr="CLOSEPAREN",_r="OPENANGLEBRACKET",yr="CLOSEANGLEBRACKET",br="FULLWIDTHLEFTPAREN",Cr="FULLWIDTHRIGHTPAREN",Ar="LEFTCORNERBRACKET",Dr="RIGHTCORNERBRACKET",vr="LEFTWHITECORNERBRACKET",xr="RIGHTWHITECORNERBRACKET",Er="FULLWIDTHLESSTHAN",wr="FULLWIDTHGREATERTHAN",Fr="AMPERSAND",Sr="APOSTROPHE",Lr="ASTERISK",Tr="AT",Mr="BACKSLASH",zr="BACKTICK",Br="CARET",Ir="COLON",Nr="COMMA",Or="DOLLAR",Hr="DOT",Rr="EQUALS",Pr="EXCLAMATION",jr="HYPHEN",qr="PERCENT",$r="PIPE",Zr="PLUS",Vr="POUND",Ur="QUERY",Wr="QUOTE",Gr="SEMI",Kr="SLASH",Jr="TILDE",Qr="UNDERSCORE",Yr="EMOJI",Xr="SYM";var ts=Object.freeze({__proto__:null,WORD:nr,UWORD:rr,LOCALHOST:sr,TLD:or,UTLD:ir,SCHEME:ar,SLASH_SCHEME:lr,NUM:cr,WS:ur,NL:hr,OPENBRACE:dr,CLOSEBRACE:pr,OPENBRACKET:fr,CLOSEBRACKET:mr,OPENPAREN:gr,CLOSEPAREN:kr,OPENANGLEBRACKET:_r,CLOSEANGLEBRACKET:yr,FULLWIDTHLEFTPAREN:br,FULLWIDTHRIGHTPAREN:Cr,LEFTCORNERBRACKET:Ar,RIGHTCORNERBRACKET:Dr,LEFTWHITECORNERBRACKET:vr,RIGHTWHITECORNERBRACKET:xr,FULLWIDTHLESSTHAN:Er,FULLWIDTHGREATERTHAN:wr,AMPERSAND:Fr,APOSTROPHE:Sr,ASTERISK:Lr,AT:Tr,BACKSLASH:Mr,BACKTICK:zr,CARET:Br,COLON:Ir,COMMA:Nr,DOLLAR:Or,DOT:Hr,EQUALS:Rr,EXCLAMATION:Pr,HYPHEN:jr,PERCENT:qr,PIPE:$r,PLUS:Zr,POUND:Vr,QUERY:Ur,QUOTE:Wr,SEMI:Gr,SLASH:Kr,TILDE:Jr,UNDERSCORE:Qr,EMOJI:Yr,SYM:Xr});const es=/[a-z]/,ns=new RegExp("\\p{L}","u"),rs=new RegExp("\\p{Emoji}","u"),ss=/\d/,os=/\s/,is="\n",as="",ls="";let cs=null,us=null;function hs(t,e,n,r,s){let o;const i=e.length;for(let a=0;a<i-1;a++){const n=e[a];t.j[n]?o=t.j[n]:(o=new Qn(r),o.jr=s.slice(),t.j[n]=o),t=o}return o=new Qn(n),o.jr=s.slice(),t.j[e[i-1]]=o,o}function ds(t){const e=[],n=[];let r=0;for(;r<t.length;){let s=0;for(;"0123456789".indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let e=parseInt(t.substring(r,r+s),10);e>0;e--)n.pop();r+=s}else n.push(t[r]),r++}return e}const ps={defaultProtocol:"http",events:null,format:ms,formatHref:ms,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function fs(t,e){void 0===e&&(e=null);let n=Hn({},ps);t&&(n=Hn(n,t instanceof fs?t.o:t));const r=n.ignoreTags,s=[];for(let o=0;o<r.length;o++)s.push(r[o].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}function ms(t){return t}function gs(t,e){this.t="token",this.v=t,this.tk=e}function ks(t,e){class n extends gs{constructor(e,n){super(e,n),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}fs.prototype={o:ps,ignoreTags:[],defaultRender:t=>t,check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=null!=e;let s=this.o[t];return s?("object"==typeof s?(s=n.t in s?s[n.t]:ps[t],"function"==typeof s&&r&&(s=s(e,n))):"function"==typeof s&&r&&(s=s(e,n.t,n)),s):s},getObj(t,e,n){let r=this.o[t];return"function"==typeof r&&null!=e&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}},gs.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return void 0===t&&(t=ps.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),s=t.get("tagName",n,e),o=this.toFormattedString(t),i={},a=t.get("className",n,e),l=t.get("target",n,e),c=t.get("rel",n,e),u=t.getObj("attributes",n,e),h=t.getObj("events",n,e);return i.href=r,a&&(i.class=a),l&&(i.target=l),c&&(i.rel=c),u&&Hn(i,u),{tagName:s,attributes:i,content:o,eventListeners:h}}};const _s=ks("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),ys=ks("text"),bs=ks("nl"),Cs=ks("url",{isLink:!0,toHref(t){return void 0===t&&(t=ps.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==sr&&t[1].t===Ir}}),As=t=>new Qn(t);function Ds(t,e,n){const r=n[0].s,s=n[n.length-1].e;return new t(e.slice(r,s),n)}const vs="undefined"!=typeof console&&console&&console.warn||(()=>{}),xs={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Es(t,e){if(void 0===e&&(e=!1),xs.initialized&&vs(`linkifyjs: already initialized - will not register custom scheme "${t}" until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error('linkifyjs: incorrect scheme format.\n1. Must only contain digits, lowercase ASCII letters or "-"\n2. Cannot start or end with "-"\n3. "-" cannot repeat');xs.customSchemes.push([t,e])}function ws(){xs.scanner=function(t){void 0===t&&(t=[]);const e={};Qn.groups=e;const n=new Qn;null==cs&&(cs=ds(Nn)),null==us&&(us=ds(On)),er(n,"'",Sr),er(n,"{",dr),er(n,"}",pr),er(n,"[",fr),er(n,"]",mr),er(n,"(",gr),er(n,")",kr),er(n,"<",_r),er(n,">",yr),er(n,"",br),er(n,"",Cr),er(n,"",Ar),er(n,"",Dr),er(n,"",vr),er(n,"",xr),er(n,"",Er),er(n,"",wr),er(n,"&",Fr),er(n,"*",Lr),er(n,"@",Tr),er(n,"`",zr),er(n,"^",Br),er(n,":",Ir),er(n,",",Nr),er(n,"$",Or),er(n,".",Hr),er(n,"=",Rr),er(n,"!",Pr),er(n,"-",jr),er(n,"%",qr),er(n,"|",$r),er(n,"+",Zr),er(n,"#",Vr),er(n,"?",Ur),er(n,'"',Wr),er(n,"/",Kr),er(n,";",Gr),er(n,"~",Jr),er(n,"_",Qr),er(n,"\\",Mr);const r=Xn(n,ss,cr,{[Rn]:!0});Xn(r,ss,r);const s=Xn(n,es,nr,{[Pn]:!0});Xn(s,es,s);const o=Xn(n,ns,rr,{[jn]:!0});Xn(o,es),Xn(o,ns,o);const i=Xn(n,os,ur,{[Gn]:!0});er(n,is,hr,{[Gn]:!0}),er(i,is),Xn(i,os,i);const a=Xn(n,rs,Yr,{[Vn]:!0});Xn(a,rs,a),er(a,as,a);const l=er(a,ls);Xn(l,rs,a);const c=[[es,s]],u=[[es,null],[ns,o]];for(let h=0;h<cs.length;h++)hs(n,cs[h],or,nr,c);for(let h=0;h<us.length;h++)hs(n,us[h],ir,rr,u);Jn(or,{tld:!0,ascii:!0},e),Jn(ir,{utld:!0,alpha:!0},e),hs(n,"file",ar,nr,c),hs(n,"mailto",ar,nr,c),hs(n,"http",lr,nr,c),hs(n,"https",lr,nr,c),hs(n,"ftp",lr,nr,c),hs(n,"ftps",lr,nr,c),Jn(ar,{scheme:!0,ascii:!0},e),Jn(lr,{slashscheme:!0,ascii:!0},e),t=t.sort(((t,e)=>t[0]>e[0]?1:-1));for(let h=0;h<t.length;h++){const e=t[h][0],r=t[h][1]?{[Un]:!0}:{[Wn]:!0};e.indexOf("-")>=0?r[Zn]=!0:es.test(e)?ss.test(e)?r[qn]=!0:r[Pn]=!0:r[Rn]=!0,tr(n,e,e,r)}return tr(n,"localhost",sr,{ascii:!0}),n.jd=new Qn(Xr),{start:n,tokens:Hn({groups:e},ts)}}(xs.customSchemes);for(let t=0;t<xs.tokenQueue.length;t++)xs.tokenQueue[t][1]({scanner:xs.scanner});xs.parser=function(t){let{groups:e}=t;const n=e.domain.concat([Fr,Lr,Tr,Mr,zr,Br,Or,Rr,jr,cr,qr,$r,Zr,Vr,Kr,Xr,Jr,Qr]),r=[Sr,Ir,Nr,Hr,Pr,Ur,Wr,Gr,_r,yr,dr,pr,mr,fr,gr,kr,br,Cr,Ar,Dr,vr,xr,Er,wr],s=[Fr,Sr,Lr,Mr,zr,Br,Or,Rr,jr,dr,pr,qr,$r,Zr,Vr,Ur,Kr,Xr,Jr,Qr],o=As(),i=er(o,Jr);Yn(i,s,i),Yn(i,e.domain,i);const a=As(),l=As(),c=As();Yn(o,e.domain,a),Yn(o,e.scheme,l),Yn(o,e.slashscheme,c),Yn(a,s,i),Yn(a,e.domain,a);const u=er(a,Tr);er(i,Tr,u),er(l,Tr,u),er(c,Tr,u);const h=er(i,Hr);Yn(h,s,i),Yn(h,e.domain,i);const d=As();Yn(u,e.domain,d),Yn(d,e.domain,d);const p=er(d,Hr);Yn(p,e.domain,d);const f=As(_s);Yn(p,e.tld,f),Yn(p,e.utld,f),er(u,sr,f);const m=er(d,jr);Yn(m,e.domain,d),Yn(f,e.domain,d),er(f,Hr,p),er(f,jr,m);const g=er(f,Ir);Yn(g,e.numeric,_s);const k=er(a,jr),_=er(a,Hr);Yn(k,e.domain,a),Yn(_,s,i),Yn(_,e.domain,a);const y=As(Cs);Yn(_,e.tld,y),Yn(_,e.utld,y),Yn(y,e.domain,a),Yn(y,s,i),er(y,Hr,_),er(y,jr,k),er(y,Tr,u);const b=er(y,Ir),C=As(Cs);Yn(b,e.numeric,C);const A=As(Cs),D=As();Yn(A,n,A),Yn(A,r,D),Yn(D,n,A),Yn(D,r,D),er(y,Kr,A),er(C,Kr,A);const v=er(l,Ir),x=er(c,Ir),E=er(x,Kr),w=er(E,Kr);Yn(l,e.domain,a),er(l,Hr,_),er(l,jr,k),Yn(c,e.domain,a),er(c,Hr,_),er(c,jr,k),Yn(v,e.domain,A),er(v,Kr,A),Yn(w,e.domain,A),Yn(w,n,A),er(w,Kr,A);const F=[[dr,pr],[fr,mr],[gr,kr],[_r,yr],[br,Cr],[Ar,Dr],[vr,xr],[Er,wr]];for(let S=0;S<F.length;S++){const[t,e]=F[S],s=er(A,t);er(D,t,s),er(s,e,A);const o=As(Cs);Yn(s,n,o);const i=As();Yn(s,r),Yn(o,n,o),Yn(o,r,i),Yn(i,n,o),Yn(i,r,i),er(o,e,A),er(i,e,A)}return er(o,sr,y),er(o,hr,bs),{start:o,tokens:ts}}(xs.scanner.tokens);for(let t=0;t<xs.pluginQueue.length;t++)xs.pluginQueue[t][1]({scanner:xs.scanner,parser:xs.parser});xs.initialized=!0}function Fs(t){return xs.initialized||ws(),function(t,e,n){let r=n.length,s=0,o=[],i=[];for(;s<r;){let a=t,l=null,c=null,u=0,h=null,d=-1;for(;s<r&&!(l=a.go(n[s].t));)i.push(n[s++]);for(;s<r&&(c=l||a.go(n[s].t));)l=null,a=c,a.accepts()?(d=0,h=a):d>=0&&d++,s++,u++;if(d<0)s-=u,s<r&&(i.push(n[s]),s++);else{i.length>0&&(o.push(Ds(ys,e,i)),i=[]),s-=d,u-=d;const t=h.t,r=n.slice(s-u,s);o.push(Ds(t,e,r))}}return i.length>0&&o.push(Ds(ys,e,i)),o}(xs.parser.start,t,function(t,e){const n=function(t){const e=[],n=t.length;let r=0;for(;r<n;){let s,o=t.charCodeAt(r),i=o<55296||o>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(i),r+=i.length}return e}(e.replace(/[A-Z]/g,(t=>t.toLowerCase()))),r=n.length,s=[];let o=0,i=0;for(;i<r;){let a=t,l=null,c=0,u=null,h=-1,d=-1;for(;i<r&&(l=a.go(n[i]));)a=l,a.accepts()?(h=0,d=0,u=a):h>=0&&(h+=n[i].length,d++),c+=n[i].length,o+=n[i].length,i++;o-=h,i-=d,c-=h,s.push({t:u.t,v:e.slice(o-c,o),s:o-c,e:o})}return s}(xs.scanner.start,t))}function Ss(t,e,n){if(void 0===e&&(e=null),void 0===n&&(n=null),e&&"object"==typeof e){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new fs(n),s=Fs(t),o=[];for(let i=0;i<s.length;i++){const t=s[i];!t.isLink||e&&t.t!==e||!r.check(t)||o.push(t.toFormattedObject(r))}return o}const Ls=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function Ts(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach((t=>{const e="string"==typeof t?t:t.scheme;e&&n.push(e)})),!t||t.replace(Ls,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z+.-]+(?:[^a-z+.-:]|$))`,"i"))}const Ms=h.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.protocols.forEach((t=>{"string"!=typeof t?Es(t.scheme,t.optionalSlashes):Es(t)}))},onDestroy(){Qn.groups={},xs.scanner=null,xs.parser=null,xs.tokenQueue=[],xs.pluginQueue=[],xs.customSchemes=[],xs.initialized=!1},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:t=>!!t}),addAttributes(){return{href:{default:null,parseHTML:t=>t.getAttribute("href")},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!(!e||!Ts(e,this.options.protocols))&&null}}]},renderHTML({HTMLAttributes:t}){return Ts(t.href,this.options.protocols)?["a",c(this.options.HTMLAttributes,t),0]:["a",c(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>e().setMark(this.name,t).setMeta("preventAutolink",!0).run(),toggleLink:t=>({chain:e})=>e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[p({find:t=>{const e=[];if(t){const{validate:n}=this.options,r=Ss(t).filter((t=>t.isLink&&n(t.value)));r.length&&r.forEach((t=>e.push({text:t.value,data:{href:t.href},index:t.start})))}return e},type:this.type,getAttributes:t=>{var e;return{href:null===(e=t.data)||void 0===e?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[];var e;return this.options.autolink&&t.push((e={type:this.type,defaultProtocol:this.options.defaultProtocol,validate:this.options.validate},new _({key:new y("autolink"),appendTransaction:(t,n,r)=>{const s=t.some((t=>t.docChanged))&&!n.doc.eq(r.doc),o=t.some((t=>t.getMeta("preventAutolink")));if(!s||o)return;const{tr:i}=r,a=I(n.doc,[...t]);return N(a).forEach((({newRange:t})=>{const n=O(r.doc,t,(t=>t.isTextblock));let s,o;if(n.length>1?(s=n[0],o=r.doc.textBetween(s.pos,s.pos+s.node.nodeSize,void 0," ")):n.length&&r.doc.textBetween(t.from,t.to," "," ").endsWith(" ")&&(s=n[0],o=r.doc.textBetween(s.pos,t.to,void 0," ")),s&&o){const t=o.split(" ").filter((t=>""!==t));if(t.length<=0)return!1;const n=t[t.length-1],l=s.pos+o.lastIndexOf(n);if(!n)return!1;const c=Fs(n).map((t=>t.toObject(e.defaultProtocol)));if(!(1===(a=c).length?a[0].isLink:3===a.length&&a[1].isLink&&["()","[]"].includes(a[0].value+a[2].value)))return!1;c.filter((t=>t.isLink)).map((t=>({...t,from:l+t.start+1,to:l+t.end+1}))).filter((t=>!r.schema.marks.code||!r.doc.rangeHasMark(t.from,t.to,r.schema.marks.code))).filter((t=>e.validate(t.value))).forEach((t=>{H(t.from,t.to,r.doc).some((t=>t.mark.type===e.type))||i.addMark(t.from,t.to,e.type.create({href:t.href}))}))}var a})),i.steps.length?i:void 0}}))),!0===this.options.openOnClick&&t.push(function(t){return new _({key:new y("handleClickLink"),props:{handleClick:(e,n,r)=>{var s,o;if(0!==r.button)return!1;if(!e.editable)return!1;let i=r.target;const a=[];for(;"DIV"!==i.nodeName;)a.push(i),i=i.parentNode;if(!a.find((t=>"A"===t.nodeName)))return!1;const l=R(e.state,t.type.name),c=r.target,u=null!==(s=null==c?void 0:c.href)&&void 0!==s?s:l.href,h=null!==(o=null==c?void 0:c.target)&&void 0!==o?o:l.target;return!(!c||!u||(window.open(u,h),0))}}})}({type:this.type})),this.options.linkOnPaste&&t.push(function(t){return new _({key:new y("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:s}=e,{selection:o}=s,{empty:i}=o;if(i)return!1;let a="";r.content.forEach((t=>{a+=t.textContent}));const l=Ss(a,{defaultProtocol:t.defaultProtocol}).find((t=>t.isLink&&t.value===a));return!(!a||!l||(t.editor.commands.setMark(t.type,{href:l.href}),0))}}})}({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),zs=mn.extend({addInputRules(){return[new P({find:/^(?:---|-|___\s|\*\*\*\s)$/,handler:({state:t,range:e})=>{const{tr:n}=t,r=e.from,s=e.to;n.insert(r-1,this.type.create({})).delete(n.mapping.map(r),n.mapping.map(s))}})]}}),Bs=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,Is=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,Ns=De.extend({addInputRules(){return[d({find:Bs,type:this.type})]},addPasteRules(){return[p({find:Is,type:this.type})]}}),Os=/(?:^|\s)((?:\/)((?:[^/]+))(?:\/))$/,Hs=/(?:^|\s)((?:\/)((?:[^/]+))(?:\/))/g,Rs=bn.extend({addInputRules(){return[d({find:Os,type:this.type})]},addPasteRules(){return[p({find:Hs,type:this.type})]}}),Ps=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,js=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,qs=h.create({name:"highlight",addOptions:()=>({multicolor:!1,HTMLAttributes:{}}),addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML:()=>[{tag:"mark"}],renderHTML({HTMLAttributes:t}){return["mark",c(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[d({find:Ps,type:this.type})]},addPasteRules(){return[p({find:js,type:this.type})]}}),$s=/(?:^|\s)((?:=)((?:[^~=]+))(?:=))$/,Zs=/(?:^|\s)((?:=)((?:[^~=]+))(?:=))/g,Vs=qs.extend({addInputRules(){return[d({find:$s,type:this.type})]},addPasteRules(){return[p({find:Zs,type:this.type})]}}),Us=h.create({name:"underline",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>!!t.includes("underline")&&{}}],renderHTML({HTMLAttributes:t}){return["u",c(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),Ws=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,Gs=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,Ks=Us.extend({addInputRules(){return[d({find:Ws,type:this.type})]},addPasteRules(){return[p({find:Gs,type:this.type})]}}),Js=/(?:^|\s)((?:~)((?:[^~]+))(?:~))$/,Qs=/(?:^|\s)((?:~)((?:[^~]+))(?:~))/g,Ys=Sn.extend({addInputRules(){return[d({find:Js,type:this.type})]},addPasteRules(){return[p({find:Qs,type:this.type})]}}),Xs={};function to(t,e){"string"!=typeof e&&(e=to.defaultChars);const n=function(t){let e=Xs[t];if(e)return e;e=Xs[t]=[];for(let n=0;n<128;n++){const t=String.fromCharCode(n);e.push(t)}for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2)}return e}(e);return t.replace(/(%[a-f0-9]{2})+/gi,(function(t){let e="";for(let r=0,s=t.length;r<s;r+=3){const o=parseInt(t.slice(r+1,r+3),16);if(o<128)e+=n[o];else{if(192==(224&o)&&r+3<s){const n=parseInt(t.slice(r+4,r+6),16);if(128==(192&n)){const t=o<<6&1984|63&n;e+=t<128?"":String.fromCharCode(t),r+=3;continue}}if(224==(240&o)&&r+6<s){const n=parseInt(t.slice(r+4,r+6),16),s=parseInt(t.slice(r+7,r+9),16);if(128==(192&n)&&128==(192&s)){const t=o<<12&61440|n<<6&4032|63&s;e+=t<2048||t>=55296&&t<=57343?"":String.fromCharCode(t),r+=6;continue}}if(240==(248&o)&&r+9<s){const n=parseInt(t.slice(r+4,r+6),16),s=parseInt(t.slice(r+7,r+9),16),i=parseInt(t.slice(r+10,r+12),16);if(128==(192&n)&&128==(192&s)&&128==(192&i)){let t=o<<18&1835008|n<<12&258048|s<<6&4032|63&i;t<65536||t>1114111?e+="":(t-=65536,e+=String.fromCharCode(55296+(t>>10),56320+(1023&t))),r+=9;continue}}e+=""}}return e}))}to.defaultChars=";/?:@&=+$,#",to.componentChars="";const eo={};function no(t,e,n){"string"!=typeof e&&(n=e,e=no.defaultChars),void 0===n&&(n=!0);const r=function(t){let e=eo[t];if(e)return e;e=eo[t]=[];for(let n=0;n<128;n++){const t=String.fromCharCode(n);/^[0-9a-z]$/i.test(t)?e.push(t):e.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<t.length;n++)e[t.charCodeAt(n)]=t[n];return e}(e);let s="";for(let o=0,i=t.length;o<i;o++){const e=t.charCodeAt(o);if(n&&37===e&&o+2<i&&/^[0-9a-f]{2}$/i.test(t.slice(o+1,o+3)))s+=t.slice(o,o+3),o+=2;else if(e<128)s+=r[e];else if(e>=55296&&e<=57343){if(e>=55296&&e<=56319&&o+1<i){const e=t.charCodeAt(o+1);if(e>=56320&&e<=57343){s+=encodeURIComponent(t[o]+t[o+1]),o++;continue}}s+="%EF%BF%BD"}else s+=encodeURIComponent(t[o])}return s}function ro(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&-1!==t.hostname.indexOf(":")?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function so(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}no.defaultChars=";/?:@&=+$,-_.!~*'()#",no.componentChars="-_.!~*'()";const oo=/^([a-z0-9.+-]+:)/i,io=/:[0-9]*$/,ao=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,lo=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),co=["'"].concat(lo),uo=["%","/","?",";","#"].concat(co),ho=["/","?","#"],po=/^[+a-z0-9A-Z_-]{0,63}$/,fo=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,mo={javascript:!0,"javascript:":!0},go={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function ko(t,e){if(t&&t instanceof so)return t;const n=new so;return n.parse(t,e),n}so.prototype.parse=function(t,e){let n,r,s,o=t;if(o=o.trim(),!e&&1===t.split("#").length){const t=ao.exec(o);if(t)return this.pathname=t[1],t[2]&&(this.search=t[2]),this}let i=oo.exec(o);if(i&&(i=i[0],n=i.toLowerCase(),this.protocol=i,o=o.substr(i.length)),(e||i||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(s="//"===o.substr(0,2),!s||i&&mo[i]||(o=o.substr(2),this.slashes=!0)),!mo[i]&&(s||i&&!go[i])){let t,e,n=-1;for(let a=0;a<ho.length;a++)r=o.indexOf(ho[a]),-1!==r&&(-1===n||r<n)&&(n=r);e=-1===n?o.lastIndexOf("@"):o.lastIndexOf("@",n),-1!==e&&(t=o.slice(0,e),o=o.slice(e+1),this.auth=t),n=-1;for(let a=0;a<uo.length;a++)r=o.indexOf(uo[a]),-1!==r&&(-1===n||r<n)&&(n=r);-1===n&&(n=o.length),":"===o[n-1]&&n--;const s=o.slice(0,n);o=o.slice(n),this.parseHost(s),this.hostname=this.hostname||"";const i="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!i){const t=this.hostname.split(/\./);for(let e=0,n=t.length;e<n;e++){const n=t[e];if(n&&!n.match(po)){let r="";for(let t=0,e=n.length;t<e;t++)n.charCodeAt(t)>127?r+="x":r+=n[t];if(!r.match(po)){const r=t.slice(0,e),s=t.slice(e+1),i=n.match(fo);i&&(r.push(i[1]),s.unshift(i[2])),s.length&&(o=s.join(".")+o),this.hostname=r.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),i&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const a=o.indexOf("#");-1!==a&&(this.hash=o.substr(a),o=o.slice(0,a));const l=o.indexOf("?");return-1!==l&&(this.search=o.substr(l),o=o.slice(0,l)),o&&(this.pathname=o),go[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this},so.prototype.parseHost=function(t){let e=io.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const _o=Object.freeze(Object.defineProperty({__proto__:null,decode:to,encode:no,format:ro,parse:ko},Symbol.toStringTag,{value:"Module"})),yo=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,bo=/[\0-\x1F\x7F-\x9F]/,Co=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,Ao=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Do=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,vo=Object.freeze(Object.defineProperty({__proto__:null,Any:yo,Cc:bo,Cf:/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,P:Co,S:Ao,Z:Do},Symbol.toStringTag,{value:"Module"})),xo=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map((t=>t.charCodeAt(0)))),Eo=new Uint16Array("aglq\t\0\0p;os;t;t;uot;".split("").map((t=>t.charCodeAt(0))));var wo;const Fo=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),So=null!==(wo=String.fromCodePoint)&&void 0!==wo?wo:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t),e};var Lo,To;(To=Lo||(Lo={}))[To.NUM=35]="NUM",To[To.SEMI=59]="SEMI",To[To.EQUALS=61]="EQUALS",To[To.ZERO=48]="ZERO",To[To.NINE=57]="NINE",To[To.LOWER_A=97]="LOWER_A",To[To.LOWER_F=102]="LOWER_F",To[To.LOWER_X=120]="LOWER_X",To[To.LOWER_Z=122]="LOWER_Z",To[To.UPPER_A=65]="UPPER_A",To[To.UPPER_F=70]="UPPER_F",To[To.UPPER_Z=90]="UPPER_Z";var Mo,zo,Bo,Io,No,Oo;function Ho(t){return t>=Lo.ZERO&&t<=Lo.NINE}function Ro(t){return t===Lo.EQUALS||function(t){return t>=Lo.UPPER_A&&t<=Lo.UPPER_Z||t>=Lo.LOWER_A&&t<=Lo.LOWER_Z||Ho(t)}(t)}(zo=Mo||(Mo={}))[zo.VALUE_LENGTH=49152]="VALUE_LENGTH",zo[zo.BRANCH_LENGTH=16256]="BRANCH_LENGTH",zo[zo.JUMP_TABLE=127]="JUMP_TABLE",(Io=Bo||(Bo={}))[Io.EntityStart=0]="EntityStart",Io[Io.NumericStart=1]="NumericStart",Io[Io.NumericDecimal=2]="NumericDecimal",Io[Io.NumericHex=3]="NumericHex",Io[Io.NamedEntity=4]="NamedEntity",(Oo=No||(No={}))[Oo.Legacy=0]="Legacy",Oo[Oo.Strict=1]="Strict",Oo[Oo.Attribute=2]="Attribute";class Po{constructor(t,e,n){this.decodeTree=t,this.emitCodePoint=e,this.errors=n,this.state=Bo.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=No.Strict}startEntity(t){this.decodeMode=t,this.state=Bo.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,e){switch(this.state){case Bo.EntityStart:return t.charCodeAt(e)===Lo.NUM?(this.state=Bo.NumericStart,this.consumed+=1,this.stateNumericStart(t,e+1)):(this.state=Bo.NamedEntity,this.stateNamedEntity(t,e));case Bo.NumericStart:return this.stateNumericStart(t,e);case Bo.NumericDecimal:return this.stateNumericDecimal(t,e);case Bo.NumericHex:return this.stateNumericHex(t,e);case Bo.NamedEntity:return this.stateNamedEntity(t,e)}}stateNumericStart(t,e){return e>=t.length?-1:(32|t.charCodeAt(e))===Lo.LOWER_X?(this.state=Bo.NumericHex,this.consumed+=1,this.stateNumericHex(t,e+1)):(this.state=Bo.NumericDecimal,this.stateNumericDecimal(t,e))}addToNumericResult(t,e,n,r){if(e!==n){const s=n-e;this.result=this.result*Math.pow(r,s)+parseInt(t.substr(e,s),r),this.consumed+=s}}stateNumericHex(t,e){const n=e;for(;e<t.length;){const s=t.charCodeAt(e);if(!(Ho(s)||(r=s,r>=Lo.UPPER_A&&r<=Lo.UPPER_F||r>=Lo.LOWER_A&&r<=Lo.LOWER_F)))return this.addToNumericResult(t,n,e,16),this.emitNumericEntity(s,3);e+=1}var r;return this.addToNumericResult(t,n,e,16),-1}stateNumericDecimal(t,e){const n=e;for(;e<t.length;){const r=t.charCodeAt(e);if(!Ho(r))return this.addToNumericResult(t,n,e,10),this.emitNumericEntity(r,2);e+=1}return this.addToNumericResult(t,n,e,10),-1}emitNumericEntity(t,e){var n;if(this.consumed<=e)return null===(n=this.errors)||void 0===n||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Lo.SEMI)this.consumed+=1;else if(this.decodeMode===No.Strict)return 0;return this.emitCodePoint(function(t){var e;return t>=55296&&t<=57343||t>1114111?65533:null!==(e=Fo.get(t))&&void 0!==e?e:t}(this.result),this.consumed),this.errors&&(t!==Lo.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,e){const{decodeTree:n}=this;let r=n[this.treeIndex],s=(r&Mo.VALUE_LENGTH)>>14;for(;e<t.length;e++,this.excess++){const o=t.charCodeAt(e);if(this.treeIndex=qo(n,r,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return 0===this.result||this.decodeMode===No.Attribute&&(0===s||Ro(o))?0:this.emitNotTerminatedNamedEntity();if(r=n[this.treeIndex],s=(r&Mo.VALUE_LENGTH)>>14,0!==s){if(o===Lo.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==No.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:e,decodeTree:n}=this,r=(n[e]&Mo.VALUE_LENGTH)>>14;return this.emitNamedEntityData(e,r,this.consumed),null===(t=this.errors)||void 0===t||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,e,n){const{decodeTree:r}=this;return this.emitCodePoint(1===e?r[t]&~Mo.VALUE_LENGTH:r[t+1],n),3===e&&this.emitCodePoint(r[t+2],n),n}end(){var t;switch(this.state){case Bo.NamedEntity:return 0===this.result||this.decodeMode===No.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case Bo.NumericDecimal:return this.emitNumericEntity(0,2);case Bo.NumericHex:return this.emitNumericEntity(0,3);case Bo.NumericStart:return null===(t=this.errors)||void 0===t||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Bo.EntityStart:return 0}}}function jo(t){let e="";const n=new Po(t,(t=>e+=So(t)));return function(t,r){let s=0,o=0;for(;(o=t.indexOf("&",o))>=0;){e+=t.slice(s,o),n.startEntity(r);const i=n.write(t,o+1);if(i<0){s=o+n.end();break}s=o+i,o=0===i?s+1:s}const i=e+t.slice(s);return e="",i}}function qo(t,e,n,r){const s=(e&Mo.BRANCH_LENGTH)>>7,o=e&Mo.JUMP_TABLE;if(0===s)return 0!==o&&r===o?n:-1;if(o){const e=r-o;return e<0||e>=s?-1:t[n+e]-1}let i=n,a=i+s-1;for(;i<=a;){const e=i+a>>>1,n=t[e];if(n<r)i=e+1;else{if(!(n>r))return t[e+s];a=e-1}}return-1}const $o=jo(xo);function Zo(t,e=No.Legacy){return $o(t,e)}function Vo(t){return"[object String]"===function(t){return Object.prototype.toString.call(t)}(t)}jo(Eo);const Uo=Object.prototype.hasOwnProperty;function Wo(t){return Array.prototype.slice.call(arguments,1).forEach((function(e){if(e){if("object"!=typeof e)throw new TypeError(e+"must be object");Object.keys(e).forEach((function(n){t[n]=e[n]}))}})),t}function Go(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))}function Ko(t){return!(t>=55296&&t<=57343)&&(!(t>=64976&&t<=65007)&&(!!(65535&~t&&65534!=(65535&t))&&(!(t>=0&&t<=8)&&(11!==t&&(!(t>=14&&t<=31)&&(!(t>=127&&t<=159)&&!(t>1114111)))))))}function Jo(t){if(t>65535){const e=55296+((t-=65536)>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}const Qo=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,Yo=new RegExp(Qo.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),Xo=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function ti(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(Yo,(function(t,e,n){return e||function(t,e){if(35===e.charCodeAt(0)&&Xo.test(e)){const n="x"===e[1].toLowerCase()?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return Ko(n)?Jo(n):t}const n=Zo(t);return n!==t?n:t}(t,n)}))}const ei=/[&<>"]/,ni=/[&<>"]/g,ri={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function si(t){return ri[t]}function oi(t){return ei.test(t)?t.replace(ni,si):t}const ii=/[.?*+^$[\]\\(){}|-]/g;function ai(t){switch(t){case 9:case 32:return!0}return!1}function li(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function ci(t){return Co.test(t)||Ao.test(t)}function ui(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function hi(t){return t=t.trim().replace(/\s+/g," "),""==="".toLowerCase()&&(t=t.replace(//g,"")),t.toLowerCase().toUpperCase()}const di={mdurl:_o,ucmicro:vo},pi=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:Go,assign:Wo,escapeHtml:oi,escapeRE:function(t){return t.replace(ii,"\\$&")},fromCodePoint:Jo,has:function(t,e){return Uo.call(t,e)},isMdAsciiPunct:ui,isPunctChar:ci,isSpace:ai,isString:Vo,isValidEntityCode:Ko,isWhiteSpace:li,lib:di,normalizeReference:hi,unescapeAll:ti,unescapeMd:function(t){return t.indexOf("\\")<0?t:t.replace(Qo,"$1")}},Symbol.toStringTag,{value:"Module"}));const fi=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:function(t,e,n){let r,s=e;const o={ok:!1,pos:0,str:""};if(60===t.charCodeAt(s)){for(s++;s<n;){if(r=t.charCodeAt(s),10===r)return o;if(60===r)return o;if(62===r)return o.pos=s+1,o.str=ti(t.slice(e+1,s)),o.ok=!0,o;92===r&&s+1<n?s+=2:s++}return o}let i=0;for(;s<n&&(r=t.charCodeAt(s),32!==r)&&!(r<32||127===r);)if(92===r&&s+1<n){if(32===t.charCodeAt(s+1))break;s+=2}else{if(40===r&&(i++,i>32))return o;if(41===r){if(0===i)break;i--}s++}return e===s||0!==i||(o.str=ti(t.slice(e,s)),o.pos=s,o.ok=!0),o},parseLinkLabel:function(t,e,n){let r,s,o,i;const a=t.posMax,l=t.pos;for(t.pos=e+1,r=1;t.pos<a;){if(o=t.src.charCodeAt(t.pos),93===o&&(r--,0===r)){s=!0;break}if(i=t.pos,t.md.inline.skipToken(t),91===o)if(i===t.pos-1)r++;else if(n)return t.pos=l,-1}let c=-1;return s&&(c=t.pos),t.pos=l,c},parseLinkTitle:function(t,e,n,r){let s,o=e;const i={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(r)i.str=r.str,i.marker=r.marker;else{if(o>=n)return i;let r=t.charCodeAt(o);if(34!==r&&39!==r&&40!==r)return i;e++,o++,40===r&&(r=41),i.marker=r}for(;o<n;){if(s=t.charCodeAt(o),s===i.marker)return i.pos=o+1,i.str+=ti(t.slice(e,o)),i.ok=!0,i;if(40===s&&41===i.marker)return i;92===s&&o+1<n&&o++,o++}return i.can_continue=!0,i.str+=ti(t.slice(e,o)),i}},Symbol.toStringTag,{value:"Module"})),mi={};function gi(){this.rules=Wo({},mi)}function ki(){this.__rules__=[],this.__cache__=null}function _i(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}function yi(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}mi.code_inline=function(t,e,n,r,s){const o=t[e];return"<code"+s.renderAttrs(o)+">"+oi(o.content)+"</code>"},mi.code_block=function(t,e,n,r,s){const o=t[e];return"<pre"+s.renderAttrs(o)+"><code>"+oi(t[e].content)+"</code></pre>\n"},mi.fence=function(t,e,n,r,s){const o=t[e],i=o.info?ti(o.info).trim():"";let a,l="",c="";if(i){const t=i.split(/(\s+)/g);l=t[0],c=t.slice(2).join("")}if(a=n.highlight&&n.highlight(o.content,l,c)||oi(o.content),0===a.indexOf("<pre"))return a+"\n";if(i){const t=o.attrIndex("class"),e=o.attrs?o.attrs.slice():[];t<0?e.push(["class",n.langPrefix+l]):(e[t]=e[t].slice(),e[t][1]+=" "+n.langPrefix+l);const r={attrs:e};return`<pre><code${s.renderAttrs(r)}>${a}</code></pre>\n`}return`<pre><code${s.renderAttrs(o)}>${a}</code></pre>\n`},mi.image=function(t,e,n,r,s){const o=t[e];return o.attrs[o.attrIndex("alt")][1]=s.renderInlineAsText(o.children,n,r),s.renderToken(t,e,n)},mi.hardbreak=function(t,e,n){return n.xhtmlOut?"<br />\n":"<br>\n"},mi.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},mi.text=function(t,e){return oi(t[e].content)},mi.html_block=function(t,e){return t[e].content},mi.html_inline=function(t,e){return t[e].content},gi.prototype.renderAttrs=function(t){let e,n,r;if(!t.attrs)return"";for(r="",e=0,n=t.attrs.length;e<n;e++)r+=" "+oi(t.attrs[e][0])+'="'+oi(t.attrs[e][1])+'"';return r},gi.prototype.renderToken=function(t,e,n){const r=t[e];let s="";if(r.hidden)return"";r.block&&-1!==r.nesting&&e&&t[e-1].hidden&&(s+="\n"),s+=(-1===r.nesting?"</":"<")+r.tag,s+=this.renderAttrs(r),0===r.nesting&&n.xhtmlOut&&(s+=" /");let o=!1;if(r.block&&(o=!0,1===r.nesting&&e+1<t.length)){const n=t[e+1];("inline"===n.type||n.hidden||-1===n.nesting&&n.tag===r.tag)&&(o=!1)}return s+=o?">\n":">",s},gi.prototype.renderInline=function(t,e,n){let r="";const s=this.rules;for(let o=0,i=t.length;o<i;o++){const i=t[o].type;void 0!==s[i]?r+=s[i](t,o,e,n,this):r+=this.renderToken(t,o,e)}return r},gi.prototype.renderInlineAsText=function(t,e,n){let r="";for(let s=0,o=t.length;s<o;s++)switch(t[s].type){case"text":case"html_inline":case"html_block":r+=t[s].content;break;case"image":r+=this.renderInlineAsText(t[s].children,e,n);break;case"softbreak":case"hardbreak":r+="\n"}return r},gi.prototype.render=function(t,e,n){let r="";const s=this.rules;for(let o=0,i=t.length;o<i;o++){const i=t[o].type;"inline"===i?r+=this.renderInline(t[o].children,e,n):void 0!==s[i]?r+=s[i](t,o,e,n,this):r+=this.renderToken(t,o,e,n)}return r},ki.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1},ki.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach((function(t){t.enabled&&t.alt.forEach((function(t){e.indexOf(t)<0&&e.push(t)}))})),t.__cache__={},e.forEach((function(e){t.__cache__[e]=[],t.__rules__.forEach((function(n){n.enabled&&(e&&n.alt.indexOf(e)<0||t.__cache__[e].push(n.fn))}))}))},ki.prototype.at=function(t,e,n){const r=this.__find__(t),s=n||{};if(-1===r)throw new Error("Parser rule not found: "+t);this.__rules__[r].fn=e,this.__rules__[r].alt=s.alt||[],this.__cache__=null},ki.prototype.before=function(t,e,n,r){const s=this.__find__(t),o=r||{};if(-1===s)throw new Error("Parser rule not found: "+t);this.__rules__.splice(s,0,{name:e,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},ki.prototype.after=function(t,e,n,r){const s=this.__find__(t),o=r||{};if(-1===s)throw new Error("Parser rule not found: "+t);this.__rules__.splice(s+1,0,{name:e,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},ki.prototype.push=function(t,e,n){const r=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:r.alt||[]}),this.__cache__=null},ki.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach((function(t){const r=this.__find__(t);if(r<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[r].enabled=!0,n.push(t)}),this),this.__cache__=null,n},ki.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach((function(t){t.enabled=!1})),this.enable(t,e)},ki.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach((function(t){const r=this.__find__(t);if(r<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[r].enabled=!1,n.push(t)}),this),this.__cache__=null,n},ki.prototype.getRules=function(t){return null===this.__cache__&&this.__compile__(),this.__cache__[t]||[]},_i.prototype.attrIndex=function(t){if(!this.attrs)return-1;const e=this.attrs;for(let n=0,r=e.length;n<r;n++)if(e[n][0]===t)return n;return-1},_i.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]},_i.prototype.attrSet=function(t,e){const n=this.attrIndex(t),r=[t,e];n<0?this.attrPush(r):this.attrs[n]=r},_i.prototype.attrGet=function(t){const e=this.attrIndex(t);let n=null;return e>=0&&(n=this.attrs[e][1]),n},_i.prototype.attrJoin=function(t,e){const n=this.attrIndex(t);n<0?this.attrPush([t,e]):this.attrs[n][1]=this.attrs[n][1]+" "+e},yi.prototype.Token=_i;const bi=/\r\n?|\n/g,Ci=/\0/g;function Ai(t){return/^<\/a\s*>/i.test(t)}const Di=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,vi=/\((c|tm|r)\)/i,xi=/\((c|tm|r)\)/gi,Ei={c:"",r:"",tm:""};function wi(t,e){return Ei[e.toLowerCase()]}function Fi(t){let e=0;for(let n=t.length-1;n>=0;n--){const r=t[n];"text"!==r.type||e||(r.content=r.content.replace(xi,wi)),"link_open"===r.type&&"auto"===r.info&&e--,"link_close"===r.type&&"auto"===r.info&&e++}}function Si(t){let e=0;for(let n=t.length-1;n>=0;n--){const r=t[n];"text"!==r.type||e||Di.test(r.content)&&(r.content=r.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1").replace(/(^|\s)--(?=\s|$)/gm,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1")),"link_open"===r.type&&"auto"===r.info&&e--,"link_close"===r.type&&"auto"===r.info&&e++}}const Li=/['"]/,Ti=/['"]/g,Mi="";function zi(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}function Bi(t,e){let n;const r=[];for(let s=0;s<t.length;s++){const o=t[s],i=t[s].level;for(n=r.length-1;n>=0&&!(r[n].level<=i);n--);if(r.length=n+1,"text"!==o.type)continue;let a=o.content,l=0,c=a.length;t:for(;l<c;){Ti.lastIndex=l;const u=Ti.exec(a);if(!u)break;let h=!0,d=!0;l=u.index+1;const p="'"===u[0];let f=32;if(u.index-1>=0)f=a.charCodeAt(u.index-1);else for(n=s-1;n>=0&&("softbreak"!==t[n].type&&"hardbreak"!==t[n].type);n--)if(t[n].content){f=t[n].content.charCodeAt(t[n].content.length-1);break}let m=32;if(l<c)m=a.charCodeAt(l);else for(n=s+1;n<t.length&&("softbreak"!==t[n].type&&"hardbreak"!==t[n].type);n++)if(t[n].content){m=t[n].content.charCodeAt(0);break}const g=ui(f)||ci(String.fromCharCode(f)),k=ui(m)||ci(String.fromCharCode(m)),_=li(f),y=li(m);if(y?h=!1:k&&(_||g||(h=!1)),_?d=!1:g&&(y||k||(d=!1)),34===m&&'"'===u[0]&&f>=48&&f<=57&&(d=h=!1),h&&d&&(h=g,d=k),h||d){if(d)for(n=r.length-1;n>=0;n--){let h=r[n];if(r[n].level<i)break;if(h.single===p&&r[n].level===i){let i,d;h=r[n],p?(i=e.md.options.quotes[2],d=e.md.options.quotes[3]):(i=e.md.options.quotes[0],d=e.md.options.quotes[1]),o.content=zi(o.content,u.index,d),t[h.token].content=zi(t[h.token].content,h.pos,i),l+=d.length-1,h.token===s&&(l+=i.length-1),a=o.content,c=a.length,r.length=n;continue t}}h?r.push({token:s,pos:u.index,single:p,level:i}):d&&p&&(o.content=zi(o.content,u.index,Mi))}else p&&(o.content=zi(o.content,u.index,Mi))}}}const Ii=[["normalize",function(t){let e;e=t.src.replace(bi,"\n"),e=e.replace(Ci,""),t.src=e}],["block",function(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}],["inline",function(t){const e=t.tokens;for(let n=0,r=e.length;n<r;n++){const r=e[n];"inline"===r.type&&t.md.inline.parse(r.content,t.md,t.env,r.children)}}],["linkify",function(t){const e=t.tokens;var n;if(t.md.options.linkify)for(let r=0,s=e.length;r<s;r++){if("inline"!==e[r].type||!t.md.linkify.pretest(e[r].content))continue;let s=e[r].children,o=0;for(let i=s.length-1;i>=0;i--){const a=s[i];if("link_close"!==a.type){if("html_inline"===a.type&&(n=a.content,/^<a[>\s]/i.test(n)&&o>0&&o--,Ai(a.content)&&o++),!(o>0)&&"text"===a.type&&t.md.linkify.test(a.content)){const n=a.content;let o=t.md.linkify.match(n);const l=[];let c=a.level,u=0;o.length>0&&0===o[0].index&&i>0&&"text_special"===s[i-1].type&&(o=o.slice(1));for(let e=0;e<o.length;e++){const r=o[e].url,s=t.md.normalizeLink(r);if(!t.md.validateLink(s))continue;let i=o[e].text;i=o[e].schema?"mailto:"!==o[e].schema||/^mailto:/i.test(i)?t.md.normalizeLinkText(i):t.md.normalizeLinkText("mailto:"+i).replace(/^mailto:/,""):t.md.normalizeLinkText("http://"+i).replace(/^http:\/\//,"");const a=o[e].index;if(a>u){const e=new t.Token("text","",0);e.content=n.slice(u,a),e.level=c,l.push(e)}const h=new t.Token("link_open","a",1);h.attrs=[["href",s]],h.level=c++,h.markup="linkify",h.info="auto",l.push(h);const d=new t.Token("text","",0);d.content=i,d.level=c,l.push(d);const p=new t.Token("link_close","a",-1);p.level=--c,p.markup="linkify",p.info="auto",l.push(p),u=o[e].lastIndex}if(u<n.length){const e=new t.Token("text","",0);e.content=n.slice(u),e.level=c,l.push(e)}e[r].children=s=Go(s,i,l)}}else for(i--;s[i].level!==a.level&&"link_open"!==s[i].type;)i--}}}],["replacements",function(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&(vi.test(t.tokens[e].content)&&Fi(t.tokens[e].children),Di.test(t.tokens[e].content)&&Si(t.tokens[e].children))}],["smartquotes",function(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&Li.test(t.tokens[e].content)&&Bi(t.tokens[e].children,t)}],["text_join",function(t){let e,n;const r=t.tokens,s=r.length;for(let o=0;o<s;o++){if("inline"!==r[o].type)continue;const t=r[o].children,s=t.length;for(e=0;e<s;e++)"text_special"===t[e].type&&(t[e].type="text");for(e=n=0;e<s;e++)"text"===t[e].type&&e+1<s&&"text"===t[e+1].type?t[e+1].content=t[e].content+t[e+1].content:(e!==n&&(t[n]=t[e]),n++);e!==n&&(t.length=n)}}]];function Ni(){this.ruler=new ki;for(let t=0;t<Ii.length;t++)this.ruler.push(Ii[t][0],Ii[t][1])}function Oi(t,e,n,r){this.src=t,this.md=e,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const s=this.src;for(let o=0,i=0,a=0,l=0,c=s.length,u=!1;i<c;i++){const t=s.charCodeAt(i);if(!u){if(ai(t)){a++,9===t?l+=4-l%4:l++;continue}u=!0}10!==t&&i!==c-1||(10!==t&&i++,this.bMarks.push(o),this.eMarks.push(i),this.tShift.push(a),this.sCount.push(l),this.bsCount.push(0),u=!1,a=0,l=0,o=i+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Ni.prototype.process=function(t){const e=this.ruler.getRules("");for(let n=0,r=e.length;n<r;n++)e[n](t)},Ni.prototype.State=yi,Oi.prototype.push=function(t,e,n){const r=new _i(t,e,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r},Oi.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]},Oi.prototype.skipEmptyLines=function(t){for(let e=this.lineMax;t<e&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t},Oi.prototype.skipSpaces=function(t){for(let e=this.src.length;t<e;t++){if(!ai(this.src.charCodeAt(t)))break}return t},Oi.prototype.skipSpacesBack=function(t,e){if(t<=e)return t;for(;t>e;)if(!ai(this.src.charCodeAt(--t)))return t+1;return t},Oi.prototype.skipChars=function(t,e){for(let n=this.src.length;t<n&&this.src.charCodeAt(t)===e;t++);return t},Oi.prototype.skipCharsBack=function(t,e,n){if(t<=n)return t;for(;t>n;)if(e!==this.src.charCodeAt(--t))return t+1;return t},Oi.prototype.getLines=function(t,e,n,r){if(t>=e)return"";const s=new Array(e-t);for(let o=0,i=t;i<e;i++,o++){let t=0;const a=this.bMarks[i];let l,c=a;for(l=i+1<e||r?this.eMarks[i]+1:this.eMarks[i];c<l&&t<n;){const e=this.src.charCodeAt(c);if(ai(e))9===e?t+=4-(t+this.bsCount[i])%4:t++;else{if(!(c-a<this.tShift[i]))break;t++}c++}s[o]=t>n?new Array(t-n+1).join(" ")+this.src.slice(c,l):this.src.slice(c,l)}return s.join("")},Oi.prototype.Token=_i;function Hi(t,e){const n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];return t.src.slice(n,r)}function Ri(t){const e=[],n=t.length;let r=0,s=t.charCodeAt(r),o=!1,i=0,a="";for(;r<n;)124===s&&(o?(a+=t.substring(i,r-1),i=r):(e.push(a+t.substring(i,r)),a="",i=r+1)),o=92===s,r++,s=t.charCodeAt(r);return e.push(a+t.substring(i)),e}function Pi(t,e){const n=t.eMarks[e];let r=t.bMarks[e]+t.tShift[e];const s=t.src.charCodeAt(r++);if(42!==s&&45!==s&&43!==s)return-1;if(r<n){if(!ai(t.src.charCodeAt(r)))return-1}return r}function ji(t,e){const n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];let s=n;if(s+1>=r)return-1;let o=t.src.charCodeAt(s++);if(o<48||o>57)return-1;for(;;){if(s>=r)return-1;if(o=t.src.charCodeAt(s++),!(o>=48&&o<=57)){if(41===o||46===o)break;return-1}if(s-n>=10)return-1}return s<r&&(o=t.src.charCodeAt(s),!ai(o))?-1:s}const qi="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",$i="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",Zi=new RegExp("^(?:"+qi+"|"+$i+"|\x3c!---?>|\x3c!--(?:[^-]|-[^-]|--[^>])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Za-z][^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),Vi=new RegExp("^(?:"+qi+"|"+$i+")"),Ui=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"].join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Vi.source+"\\s*$"),/^$/,!1]];const Wi=[["table",function(t,e,n,r){if(e+2>n)return!1;let s=e+1;if(t.sCount[s]<t.blkIndent)return!1;if(t.sCount[s]-t.blkIndent>=4)return!1;let o=t.bMarks[s]+t.tShift[s];if(o>=t.eMarks[s])return!1;const i=t.src.charCodeAt(o++);if(124!==i&&45!==i&&58!==i)return!1;if(o>=t.eMarks[s])return!1;const a=t.src.charCodeAt(o++);if(124!==a&&45!==a&&58!==a&&!ai(a))return!1;if(45===i&&ai(a))return!1;for(;o<t.eMarks[s];){const e=t.src.charCodeAt(o);if(124!==e&&45!==e&&58!==e&&!ai(e))return!1;o++}let l=Hi(t,e+1),c=l.split("|");const u=[];for(let k=0;k<c.length;k++){const t=c[k].trim();if(!t){if(0===k||k===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(t))return!1;58===t.charCodeAt(t.length-1)?u.push(58===t.charCodeAt(0)?"center":"right"):58===t.charCodeAt(0)?u.push("left"):u.push("")}if(l=Hi(t,e).trim(),-1===l.indexOf("|"))return!1;if(t.sCount[e]-t.blkIndent>=4)return!1;c=Ri(l),c.length&&""===c[0]&&c.shift(),c.length&&""===c[c.length-1]&&c.pop();const h=c.length;if(0===h||h!==u.length)return!1;if(r)return!0;const d=t.parentType;t.parentType="table";const p=t.md.block.ruler.getRules("blockquote"),f=[e,0];t.push("table_open","table",1).map=f,t.push("thead_open","thead",1).map=[e,e+1],t.push("tr_open","tr",1).map=[e,e+1];for(let k=0;k<c.length;k++){const e=t.push("th_open","th",1);u[k]&&(e.attrs=[["style","text-align:"+u[k]]]);const n=t.push("inline","",0);n.content=c[k].trim(),n.children=[],t.push("th_close","th",-1)}let m;t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let g=0;for(s=e+2;s<n&&!(t.sCount[s]<t.blkIndent);s++){let r=!1;for(let e=0,o=p.length;e<o;e++)if(p[e](t,s,n,!0)){r=!0;break}if(r)break;if(l=Hi(t,s).trim(),!l)break;if(t.sCount[s]-t.blkIndent>=4)break;if(c=Ri(l),c.length&&""===c[0]&&c.shift(),c.length&&""===c[c.length-1]&&c.pop(),g+=h-c.length,g>65536)break;if(s===e+2){t.push("tbody_open","tbody",1).map=m=[e+2,0]}t.push("tr_open","tr",1).map=[s,s+1];for(let e=0;e<h;e++){const n=t.push("td_open","td",1);u[e]&&(n.attrs=[["style","text-align:"+u[e]]]);const r=t.push("inline","",0);r.content=c[e]?c[e].trim():"",r.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return m&&(t.push("tbody_close","tbody",-1),m[1]=s),t.push("table_close","table",-1),f[1]=s,t.parentType=d,t.line=s,!0},["paragraph","reference"]],["code",function(t,e,n){if(t.sCount[e]-t.blkIndent<4)return!1;let r=e+1,s=r;for(;r<n;)if(t.isEmpty(r))r++;else{if(!(t.sCount[r]-t.blkIndent>=4))break;r++,s=r}t.line=s;const o=t.push("code_block","code",0);return o.content=t.getLines(e,s,4+t.blkIndent,!1)+"\n",o.map=[e,t.line],!0}],["fence",function(t,e,n,r){let s=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(s+3>o)return!1;const i=t.src.charCodeAt(s);if(126!==i&&96!==i)return!1;let a=s;s=t.skipChars(s,i);let l=s-a;if(l<3)return!1;const c=t.src.slice(a,s),u=t.src.slice(s,o);if(96===i&&u.indexOf(String.fromCharCode(i))>=0)return!1;if(r)return!0;let h=e,d=!1;for(;(h++,!(h>=n))&&(s=a=t.bMarks[h]+t.tShift[h],o=t.eMarks[h],!(s<o&&t.sCount[h]<t.blkIndent));)if(t.src.charCodeAt(s)===i&&!(t.sCount[h]-t.blkIndent>=4||(s=t.skipChars(s,i),s-a<l||(s=t.skipSpaces(s),s<o)))){d=!0;break}l=t.sCount[e],t.line=h+(d?1:0);const p=t.push("fence","code",0);return p.info=u,p.content=t.getLines(e+1,h,l,!0),p.markup=c,p.map=[e,t.line],!0},["paragraph","reference","blockquote","list"]],["blockquote",function(t,e,n,r){let s=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];const i=t.lineMax;if(t.sCount[e]-t.blkIndent>=4)return!1;if(62!==t.src.charCodeAt(s))return!1;if(r)return!0;const a=[],l=[],c=[],u=[],h=t.md.block.ruler.getRules("blockquote"),d=t.parentType;t.parentType="blockquote";let p,f=!1;for(p=e;p<n;p++){const e=t.sCount[p]<t.blkIndent;if(s=t.bMarks[p]+t.tShift[p],o=t.eMarks[p],s>=o)break;if(62===t.src.charCodeAt(s++)&&!e){let e,n,r=t.sCount[p]+1;32===t.src.charCodeAt(s)?(s++,r++,n=!1,e=!0):9===t.src.charCodeAt(s)?(e=!0,(t.bsCount[p]+r)%4==3?(s++,r++,n=!1):n=!0):e=!1;let i=r;for(a.push(t.bMarks[p]),t.bMarks[p]=s;s<o;){const e=t.src.charCodeAt(s);if(!ai(e))break;9===e?i+=4-(i+t.bsCount[p]+(n?1:0))%4:i++,s++}f=s>=o,l.push(t.bsCount[p]),t.bsCount[p]=t.sCount[p]+1+(e?1:0),c.push(t.sCount[p]),t.sCount[p]=i-r,u.push(t.tShift[p]),t.tShift[p]=s-t.bMarks[p];continue}if(f)break;let r=!1;for(let s=0,o=h.length;s<o;s++)if(h[s](t,p,n,!0)){r=!0;break}if(r){t.lineMax=p,0!==t.blkIndent&&(a.push(t.bMarks[p]),l.push(t.bsCount[p]),u.push(t.tShift[p]),c.push(t.sCount[p]),t.sCount[p]-=t.blkIndent);break}a.push(t.bMarks[p]),l.push(t.bsCount[p]),u.push(t.tShift[p]),c.push(t.sCount[p]),t.sCount[p]=-1}const m=t.blkIndent;t.blkIndent=0;const g=t.push("blockquote_open","blockquote",1);g.markup=">";const k=[e,0];g.map=k,t.md.block.tokenize(t,e,p),t.push("blockquote_close","blockquote",-1).markup=">",t.lineMax=i,t.parentType=d,k[1]=t.line;for(let _=0;_<u.length;_++)t.bMarks[_+e]=a[_],t.tShift[_+e]=u[_],t.sCount[_+e]=c[_],t.bsCount[_+e]=l[_];return t.blkIndent=m,!0},["paragraph","reference","blockquote","list"]],["hr",function(t,e,n,r){const s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let o=t.bMarks[e]+t.tShift[e];const i=t.src.charCodeAt(o++);if(42!==i&&45!==i&&95!==i)return!1;let a=1;for(;o<s;){const e=t.src.charCodeAt(o++);if(e!==i&&!ai(e))return!1;e===i&&a++}if(a<3)return!1;if(r)return!0;t.line=e+1;const l=t.push("hr","hr",0);return l.map=[e,t.line],l.markup=Array(a+1).join(String.fromCharCode(i)),!0},["paragraph","reference","blockquote","list"]],["list",function(t,e,n,r){let s,o,i,a,l=e,c=!0;if(t.sCount[l]-t.blkIndent>=4)return!1;if(t.listIndent>=0&&t.sCount[l]-t.listIndent>=4&&t.sCount[l]<t.blkIndent)return!1;let u,h,d,p=!1;if(r&&"paragraph"===t.parentType&&t.sCount[l]>=t.blkIndent&&(p=!0),(d=ji(t,l))>=0){if(u=!0,i=t.bMarks[l]+t.tShift[l],h=Number(t.src.slice(i,d-1)),p&&1!==h)return!1}else{if(!((d=Pi(t,l))>=0))return!1;u=!1}if(p&&t.skipSpaces(d)>=t.eMarks[l])return!1;if(r)return!0;const f=t.src.charCodeAt(d-1),m=t.tokens.length;u?(a=t.push("ordered_list_open","ol",1),1!==h&&(a.attrs=[["start",h]])):a=t.push("bullet_list_open","ul",1);const g=[l,0];a.map=g,a.markup=String.fromCharCode(f);let k=!1;const _=t.md.block.ruler.getRules("list"),y=t.parentType;for(t.parentType="list";l<n;){o=d,s=t.eMarks[l];const e=t.sCount[l]+d-(t.bMarks[l]+t.tShift[l]);let r=e;for(;o<s;){const e=t.src.charCodeAt(o);if(9===e)r+=4-(r+t.bsCount[l])%4;else{if(32!==e)break;r++}o++}const h=o;let p;p=h>=s?1:r-e,p>4&&(p=1);const m=e+p;a=t.push("list_item_open","li",1),a.markup=String.fromCharCode(f);const g=[l,0];a.map=g,u&&(a.info=t.src.slice(i,d-1));const y=t.tight,b=t.tShift[l],C=t.sCount[l],A=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=m,t.tight=!0,t.tShift[l]=h-t.bMarks[l],t.sCount[l]=r,h>=s&&t.isEmpty(l+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,l,n,!0),t.tight&&!k||(c=!1),k=t.line-l>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=A,t.tShift[l]=b,t.sCount[l]=C,t.tight=y,a=t.push("list_item_close","li",-1),a.markup=String.fromCharCode(f),l=t.line,g[1]=l,l>=n)break;if(t.sCount[l]<t.blkIndent)break;if(t.sCount[l]-t.blkIndent>=4)break;let D=!1;for(let s=0,o=_.length;s<o;s++)if(_[s](t,l,n,!0)){D=!0;break}if(D)break;if(u){if(d=ji(t,l),d<0)break;i=t.bMarks[l]+t.tShift[l]}else if(d=Pi(t,l),d<0)break;if(f!==t.src.charCodeAt(d-1))break}return a=u?t.push("ordered_list_close","ol",-1):t.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(f),g[1]=l,t.line=l,t.parentType=y,c&&function(t,e){const n=t.level+2;for(let r=e+2,s=t.tokens.length-2;r<s;r++)t.tokens[r].level===n&&"paragraph_open"===t.tokens[r].type&&(t.tokens[r+2].hidden=!0,t.tokens[r].hidden=!0,r+=2)}(t,m),!0},["paragraph","reference","blockquote"]],["reference",function(t,e,n,r){let s=t.bMarks[e]+t.tShift[e],o=t.eMarks[e],i=e+1;if(t.sCount[e]-t.blkIndent>=4)return!1;if(91!==t.src.charCodeAt(s))return!1;function a(e){const n=t.lineMax;if(e>=n||t.isEmpty(e))return null;let r=!1;if(t.sCount[e]-t.blkIndent>3&&(r=!0),t.sCount[e]<0&&(r=!0),!r){const r=t.md.block.ruler.getRules("reference"),s=t.parentType;t.parentType="reference";let o=!1;for(let i=0,a=r.length;i<a;i++)if(r[i](t,e,n,!0)){o=!0;break}if(t.parentType=s,o)return null}const s=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];return t.src.slice(s,o+1)}let l=t.src.slice(s,o+1);o=l.length;let c=-1;for(s=1;s<o;s++){const t=l.charCodeAt(s);if(91===t)return!1;if(93===t){c=s;break}if(10===t){const t=a(i);null!==t&&(l+=t,o=l.length,i++)}else if(92===t&&(s++,s<o&&10===l.charCodeAt(s))){const t=a(i);null!==t&&(l+=t,o=l.length,i++)}}if(c<0||58!==l.charCodeAt(c+1))return!1;for(s=c+2;s<o;s++){const t=l.charCodeAt(s);if(10===t){const t=a(i);null!==t&&(l+=t,o=l.length,i++)}else if(!ai(t))break}const u=t.md.helpers.parseLinkDestination(l,s,o);if(!u.ok)return!1;const h=t.md.normalizeLink(u.str);if(!t.md.validateLink(h))return!1;s=u.pos;const d=s,p=i,f=s;for(;s<o;s++){const t=l.charCodeAt(s);if(10===t){const t=a(i);null!==t&&(l+=t,o=l.length,i++)}else if(!ai(t))break}let m,g=t.md.helpers.parseLinkTitle(l,s,o);for(;g.can_continue;){const e=a(i);if(null===e)break;l+=e,s=o,o=l.length,i++,g=t.md.helpers.parseLinkTitle(l,s,o,g)}for(s<o&&f!==s&&g.ok?(m=g.str,s=g.pos):(m="",s=d,i=p);s<o;){if(!ai(l.charCodeAt(s)))break;s++}if(s<o&&10!==l.charCodeAt(s)&&m)for(m="",s=d,i=p;s<o;){if(!ai(l.charCodeAt(s)))break;s++}if(s<o&&10!==l.charCodeAt(s))return!1;const k=hi(l.slice(1,c));return!!k&&(r||(void 0===t.env.references&&(t.env.references={}),void 0===t.env.references[k]&&(t.env.references[k]={title:m,href:h}),t.line=i),!0)}],["html_block",function(t,e,n,r){let s=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(!t.md.options.html)return!1;if(60!==t.src.charCodeAt(s))return!1;let i=t.src.slice(s,o),a=0;for(;a<Ui.length&&!Ui[a][0].test(i);a++);if(a===Ui.length)return!1;if(r)return Ui[a][2];let l=e+1;if(!Ui[a][1].test(i))for(;l<n&&!(t.sCount[l]<t.blkIndent);l++)if(s=t.bMarks[l]+t.tShift[l],o=t.eMarks[l],i=t.src.slice(s,o),Ui[a][1].test(i)){0!==i.length&&l++;break}t.line=l;const c=t.push("html_block","",0);return c.map=[e,l],c.content=t.getLines(e,l,t.blkIndent,!0),!0},["paragraph","reference","blockquote"]],["heading",function(t,e,n,r){let s=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let i=t.src.charCodeAt(s);if(35!==i||s>=o)return!1;let a=1;for(i=t.src.charCodeAt(++s);35===i&&s<o&&a<=6;)a++,i=t.src.charCodeAt(++s);if(a>6||s<o&&!ai(i))return!1;if(r)return!0;o=t.skipSpacesBack(o,s);const l=t.skipCharsBack(o,35,s);l>s&&ai(t.src.charCodeAt(l-1))&&(o=l),t.line=e+1;const c=t.push("heading_open","h"+String(a),1);c.markup="########".slice(0,a),c.map=[e,t.line];const u=t.push("inline","",0);return u.content=t.src.slice(s,o).trim(),u.map=[e,t.line],u.children=[],t.push("heading_close","h"+String(a),-1).markup="########".slice(0,a),!0},["paragraph","reference","blockquote"]],["lheading",function(t,e,n){const r=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const s=t.parentType;t.parentType="paragraph";let o,i=0,a=e+1;for(;a<n&&!t.isEmpty(a);a++){if(t.sCount[a]-t.blkIndent>3)continue;if(t.sCount[a]>=t.blkIndent){let e=t.bMarks[a]+t.tShift[a];const n=t.eMarks[a];if(e<n&&(o=t.src.charCodeAt(e),(45===o||61===o)&&(e=t.skipChars(e,o),e=t.skipSpaces(e),e>=n))){i=61===o?1:2;break}}if(t.sCount[a]<0)continue;let e=!1;for(let s=0,o=r.length;s<o;s++)if(r[s](t,a,n,!0)){e=!0;break}if(e)break}if(!i)return!1;const l=t.getLines(e,a,t.blkIndent,!1).trim();t.line=a+1;const c=t.push("heading_open","h"+String(i),1);c.markup=String.fromCharCode(o),c.map=[e,t.line];const u=t.push("inline","",0);return u.content=l,u.map=[e,t.line-1],u.children=[],t.push("heading_close","h"+String(i),-1).markup=String.fromCharCode(o),t.parentType=s,!0}],["paragraph",function(t,e,n){const r=t.md.block.ruler.getRules("paragraph"),s=t.parentType;let o=e+1;for(t.parentType="paragraph";o<n&&!t.isEmpty(o);o++){if(t.sCount[o]-t.blkIndent>3)continue;if(t.sCount[o]<0)continue;let e=!1;for(let s=0,i=r.length;s<i;s++)if(r[s](t,o,n,!0)){e=!0;break}if(e)break}const i=t.getLines(e,o,t.blkIndent,!1).trim();t.line=o,t.push("paragraph_open","p",1).map=[e,t.line];const a=t.push("inline","",0);return a.content=i,a.map=[e,t.line],a.children=[],t.push("paragraph_close","p",-1),t.parentType=s,!0}]];function Gi(){this.ruler=new ki;for(let t=0;t<Wi.length;t++)this.ruler.push(Wi[t][0],Wi[t][1],{alt:(Wi[t][2]||[]).slice()})}function Ki(t,e,n,r){this.src=t,this.env=n,this.md=e,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}function Ji(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}Gi.prototype.tokenize=function(t,e,n){const r=this.ruler.getRules(""),s=r.length,o=t.md.options.maxNesting;let i=e,a=!1;for(;i<n&&(t.line=i=t.skipEmptyLines(i),!(i>=n))&&!(t.sCount[i]<t.blkIndent);){if(t.level>=o){t.line=n;break}const e=t.line;let l=!1;for(let o=0;o<s;o++)if(l=r[o](t,i,n,!1),l){if(e>=t.line)throw new Error("block rule didn't increment state.line");break}if(!l)throw new Error("none of the block rules matched");t.tight=!a,t.isEmpty(t.line-1)&&(a=!0),i=t.line,i<n&&t.isEmpty(i)&&(a=!0,i++,t.line=i)}},Gi.prototype.parse=function(t,e,n,r){if(!t)return;const s=new this.State(t,e,n,r);this.tokenize(s,s.line,s.lineMax)},Gi.prototype.State=Oi,Ki.prototype.pushPending=function(){const t=new _i("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t},Ki.prototype.push=function(t,e,n){this.pending&&this.pushPending();const r=new _i(t,e,n);let s=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],s={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(s),r},Ki.prototype.scanDelims=function(t,e){const n=this.posMax,r=this.src.charCodeAt(t),s=t>0?this.src.charCodeAt(t-1):32;let o=t;for(;o<n&&this.src.charCodeAt(o)===r;)o++;const i=o-t,a=o<n?this.src.charCodeAt(o):32,l=ui(s)||ci(String.fromCharCode(s)),c=ui(a)||ci(String.fromCharCode(a)),u=li(s),h=li(a),d=!h&&(!c||u||l),p=!u&&(!l||h||c);return{can_open:d&&(e||!p||l),can_close:p&&(e||!d||c),length:i}},Ki.prototype.Token=_i;const Qi=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;const Yi=[];for(let m=0;m<256;m++)Yi.push(0);function Xi(t,e){let n;const r=[],s=e.length;for(let o=0;o<s;o++){const s=e[o];if(126!==s.marker)continue;if(-1===s.end)continue;const i=e[s.end];n=t.tokens[s.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=t.tokens[i.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="","text"===t.tokens[i.token-1].type&&"~"===t.tokens[i.token-1].content&&r.push(i.token-1)}for(;r.length;){const e=r.pop();let s=e+1;for(;s<t.tokens.length&&"s_close"===t.tokens[s].type;)s++;s--,e!==s&&(n=t.tokens[s],t.tokens[s]=t.tokens[e],t.tokens[e]=n)}}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(t){Yi[t.charCodeAt(0)]=1}));const ta={tokenize:function(t,e){const n=t.pos,r=t.src.charCodeAt(n);if(e)return!1;if(126!==r)return!1;const s=t.scanDelims(t.pos,!0);let o=s.length;const i=String.fromCharCode(r);if(o<2)return!1;let a;o%2&&(a=t.push("text","",0),a.content=i,o--);for(let l=0;l<o;l+=2)a=t.push("text","",0),a.content=i+i,t.delimiters.push({marker:r,length:0,token:t.tokens.length-1,end:-1,open:s.can_open,close:s.can_close});return t.pos+=s.length,!0},postProcess:function(t){const e=t.tokens_meta,n=t.tokens_meta.length;Xi(t,t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&Xi(t,e[r].delimiters)}};function ea(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(95!==r.marker&&42!==r.marker)continue;if(-1===r.end)continue;const s=e[r.end],o=n>0&&e[n-1].end===r.end+1&&e[n-1].marker===r.marker&&e[n-1].token===r.token-1&&e[r.end+1].token===s.token+1,i=String.fromCharCode(r.marker),a=t.tokens[r.token];a.type=o?"strong_open":"em_open",a.tag=o?"strong":"em",a.nesting=1,a.markup=o?i+i:i,a.content="";const l=t.tokens[s.token];l.type=o?"strong_close":"em_close",l.tag=o?"strong":"em",l.nesting=-1,l.markup=o?i+i:i,l.content="",o&&(t.tokens[e[n-1].token].content="",t.tokens[e[r.end+1].token].content="",n--)}}const na={tokenize:function(t,e){const n=t.pos,r=t.src.charCodeAt(n);if(e)return!1;if(95!==r&&42!==r)return!1;const s=t.scanDelims(t.pos,42===r);for(let o=0;o<s.length;o++){t.push("text","",0).content=String.fromCharCode(r),t.delimiters.push({marker:r,length:s.length,token:t.tokens.length-1,end:-1,open:s.can_open,close:s.can_close})}return t.pos+=s.length,!0},postProcess:function(t){const e=t.tokens_meta,n=t.tokens_meta.length;ea(t,t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&ea(t,e[r].delimiters)}};const ra=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,sa=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;const oa=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,ia=/^&([a-z][a-z0-9]{1,31});/i;function aa(t){const e={},n=t.length;if(!n)return;let r=0,s=-2;const o=[];for(let i=0;i<n;i++){const n=t[i];if(o.push(0),t[r].marker===n.marker&&s===n.token-1||(r=i),s=n.token,n.length=n.length||0,!n.close)continue;e.hasOwnProperty(n.marker)||(e[n.marker]=[-1,-1,-1,-1,-1,-1]);const a=e[n.marker][(n.open?3:0)+n.length%3];let l=r-o[r]-1,c=l;for(;l>a;l-=o[l]+1){const e=t[l];if(e.marker===n.marker&&(e.open&&e.end<0)){let r=!1;if((e.close||n.open)&&(e.length+n.length)%3==0&&(e.length%3==0&&n.length%3==0||(r=!0)),!r){const r=l>0&&!t[l-1].open?o[l-1]+1:0;o[i]=i-l+r,o[l]=r,n.open=!1,e.end=i,e.close=!1,c=-1,s=-2;break}}}-1!==c&&(e[n.marker][(n.open?3:0)+(n.length||0)%3]=c)}}const la=[["text",function(t,e){let n=t.pos;for(;n<t.posMax&&!Ji(t.src.charCodeAt(n));)n++;return n!==t.pos&&(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}],["linkify",function(t,e){if(!t.md.options.linkify)return!1;if(t.linkLevel>0)return!1;const n=t.pos;if(n+3>t.posMax)return!1;if(58!==t.src.charCodeAt(n))return!1;if(47!==t.src.charCodeAt(n+1))return!1;if(47!==t.src.charCodeAt(n+2))return!1;const r=t.pending.match(Qi);if(!r)return!1;const s=r[1],o=t.md.linkify.matchAtStart(t.src.slice(n-s.length));if(!o)return!1;let i=o.url;if(i.length<=s.length)return!1;i=i.replace(/\*+$/,"");const a=t.md.normalizeLink(i);if(!t.md.validateLink(a))return!1;if(!e){t.pending=t.pending.slice(0,-s.length);const e=t.push("link_open","a",1);e.attrs=[["href",a]],e.markup="linkify",e.info="auto";t.push("text","",0).content=t.md.normalizeLinkText(i);const n=t.push("link_close","a",-1);n.markup="linkify",n.info="auto"}return t.pos+=i.length-s.length,!0}],["newline",function(t,e){let n=t.pos;if(10!==t.src.charCodeAt(n))return!1;const r=t.pending.length-1,s=t.posMax;if(!e)if(r>=0&&32===t.pending.charCodeAt(r))if(r>=1&&32===t.pending.charCodeAt(r-1)){let e=r-1;for(;e>=1&&32===t.pending.charCodeAt(e-1);)e--;t.pending=t.pending.slice(0,e),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(n++;n<s&&ai(t.src.charCodeAt(n));)n++;return t.pos=n,!0}],["escape",function(t,e){let n=t.pos;const r=t.posMax;if(92!==t.src.charCodeAt(n))return!1;if(n++,n>=r)return!1;let s=t.src.charCodeAt(n);if(10===s){for(e||t.push("hardbreak","br",0),n++;n<r&&(s=t.src.charCodeAt(n),ai(s));)n++;return t.pos=n,!0}let o=t.src[n];if(s>=55296&&s<=56319&&n+1<r){const e=t.src.charCodeAt(n+1);e>=56320&&e<=57343&&(o+=t.src[n+1],n++)}const i="\\"+o;if(!e){const e=t.push("text_special","",0);s<256&&0!==Yi[s]?e.content=o:e.content=i,e.markup=i,e.info="escape"}return t.pos=n+1,!0}],["backticks",function(t,e){let n=t.pos;if(96!==t.src.charCodeAt(n))return!1;const r=n;n++;const s=t.posMax;for(;n<s&&96===t.src.charCodeAt(n);)n++;const o=t.src.slice(r,n),i=o.length;if(t.backticksScanned&&(t.backticks[i]||0)<=r)return e||(t.pending+=o),t.pos+=i,!0;let a,l=n;for(;-1!==(a=t.src.indexOf("`",l));){for(l=a+1;l<s&&96===t.src.charCodeAt(l);)l++;const r=l-a;if(r===i){if(!e){const e=t.push("code_inline","code",0);e.markup=o,e.content=t.src.slice(n,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=l,!0}t.backticks[r]=a}return t.backticksScanned=!0,e||(t.pending+=o),t.pos+=i,!0}],["strikethrough",ta.tokenize],["emphasis",na.tokenize],["link",function(t,e){let n,r,s,o,i="",a="",l=t.pos,c=!0;if(91!==t.src.charCodeAt(t.pos))return!1;const u=t.pos,h=t.posMax,d=t.pos+1,p=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(p<0)return!1;let f=p+1;if(f<h&&40===t.src.charCodeAt(f)){for(c=!1,f++;f<h&&(n=t.src.charCodeAt(f),ai(n)||10===n);f++);if(f>=h)return!1;if(l=f,s=t.md.helpers.parseLinkDestination(t.src,f,t.posMax),s.ok){for(i=t.md.normalizeLink(s.str),t.md.validateLink(i)?f=s.pos:i="",l=f;f<h&&(n=t.src.charCodeAt(f),ai(n)||10===n);f++);if(s=t.md.helpers.parseLinkTitle(t.src,f,t.posMax),f<h&&l!==f&&s.ok)for(a=s.str,f=s.pos;f<h&&(n=t.src.charCodeAt(f),ai(n)||10===n);f++);}(f>=h||41!==t.src.charCodeAt(f))&&(c=!0),f++}if(c){if(void 0===t.env.references)return!1;if(f<h&&91===t.src.charCodeAt(f)?(l=f+1,f=t.md.helpers.parseLinkLabel(t,f),f>=0?r=t.src.slice(l,f++):f=p+1):f=p+1,r||(r=t.src.slice(d,p)),o=t.env.references[hi(r)],!o)return t.pos=u,!1;i=o.href,a=o.title}if(!e){t.pos=d,t.posMax=p;const e=[["href",i]];t.push("link_open","a",1).attrs=e,a&&e.push(["title",a]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=f,t.posMax=h,!0}],["image",function(t,e){let n,r,s,o,i,a,l,c,u="";const h=t.pos,d=t.posMax;if(33!==t.src.charCodeAt(t.pos))return!1;if(91!==t.src.charCodeAt(t.pos+1))return!1;const p=t.pos+2,f=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(f<0)return!1;if(o=f+1,o<d&&40===t.src.charCodeAt(o)){for(o++;o<d&&(n=t.src.charCodeAt(o),ai(n)||10===n);o++);if(o>=d)return!1;for(c=o,a=t.md.helpers.parseLinkDestination(t.src,o,t.posMax),a.ok&&(u=t.md.normalizeLink(a.str),t.md.validateLink(u)?o=a.pos:u=""),c=o;o<d&&(n=t.src.charCodeAt(o),ai(n)||10===n);o++);if(a=t.md.helpers.parseLinkTitle(t.src,o,t.posMax),o<d&&c!==o&&a.ok)for(l=a.str,o=a.pos;o<d&&(n=t.src.charCodeAt(o),ai(n)||10===n);o++);else l="";if(o>=d||41!==t.src.charCodeAt(o))return t.pos=h,!1;o++}else{if(void 0===t.env.references)return!1;if(o<d&&91===t.src.charCodeAt(o)?(c=o+1,o=t.md.helpers.parseLinkLabel(t,o),o>=0?s=t.src.slice(c,o++):o=f+1):o=f+1,s||(s=t.src.slice(p,f)),i=t.env.references[hi(s)],!i)return t.pos=h,!1;u=i.href,l=i.title}if(!e){r=t.src.slice(p,f);const e=[];t.md.inline.parse(r,t.md,t.env,e);const n=t.push("image","img",0),s=[["src",u],["alt",""]];n.attrs=s,n.children=e,n.content=r,l&&s.push(["title",l])}return t.pos=o,t.posMax=d,!0}],["autolink",function(t,e){let n=t.pos;if(60!==t.src.charCodeAt(n))return!1;const r=t.pos,s=t.posMax;for(;;){if(++n>=s)return!1;const e=t.src.charCodeAt(n);if(60===e)return!1;if(62===e)break}const o=t.src.slice(r+1,n);if(sa.test(o)){const n=t.md.normalizeLink(o);if(!t.md.validateLink(n))return!1;if(!e){const e=t.push("link_open","a",1);e.attrs=[["href",n]],e.markup="autolink",e.info="auto";t.push("text","",0).content=t.md.normalizeLinkText(o);const r=t.push("link_close","a",-1);r.markup="autolink",r.info="auto"}return t.pos+=o.length+2,!0}if(ra.test(o)){const n=t.md.normalizeLink("mailto:"+o);if(!t.md.validateLink(n))return!1;if(!e){const e=t.push("link_open","a",1);e.attrs=[["href",n]],e.markup="autolink",e.info="auto";t.push("text","",0).content=t.md.normalizeLinkText(o);const r=t.push("link_close","a",-1);r.markup="autolink",r.info="auto"}return t.pos+=o.length+2,!0}return!1}],["html_inline",function(t,e){if(!t.md.options.html)return!1;const n=t.posMax,r=t.pos;if(60!==t.src.charCodeAt(r)||r+2>=n)return!1;const s=t.src.charCodeAt(r+1);if(33!==s&&63!==s&&47!==s&&!function(t){const e=32|t;return e>=97&&e<=122}(s))return!1;const o=t.src.slice(r).match(Zi);if(!o)return!1;if(!e){const e=t.push("html_inline","",0);e.content=o[0],i=e.content,/^<a[>\s]/i.test(i)&&t.linkLevel++,function(t){return/^<\/a\s*>/i.test(t)}(e.content)&&t.linkLevel--}var i;return t.pos+=o[0].length,!0}],["entity",function(t,e){const n=t.pos,r=t.posMax;if(38!==t.src.charCodeAt(n))return!1;if(n+1>=r)return!1;if(35===t.src.charCodeAt(n+1)){const r=t.src.slice(n).match(oa);if(r){if(!e){const e="x"===r[1][0].toLowerCase()?parseInt(r[1].slice(1),16):parseInt(r[1],10),n=t.push("text_special","",0);n.content=Ko(e)?Jo(e):Jo(65533),n.markup=r[0],n.info="entity"}return t.pos+=r[0].length,!0}}else{const r=t.src.slice(n).match(ia);if(r){const n=Zo(r[0]);if(n!==r[0]){if(!e){const e=t.push("text_special","",0);e.content=n,e.markup=r[0],e.info="entity"}return t.pos+=r[0].length,!0}}}return!1}]],ca=[["balance_pairs",function(t){const e=t.tokens_meta,n=t.tokens_meta.length;aa(t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&aa(e[r].delimiters)}],["strikethrough",ta.postProcess],["emphasis",na.postProcess],["fragments_join",function(t){let e,n,r=0;const s=t.tokens,o=t.tokens.length;for(e=n=0;e<o;e++)s[e].nesting<0&&r--,s[e].level=r,s[e].nesting>0&&r++,"text"===s[e].type&&e+1<o&&"text"===s[e+1].type?s[e+1].content=s[e].content+s[e+1].content:(e!==n&&(s[n]=s[e]),n++);e!==n&&(s.length=n)}]];function ua(){this.ruler=new ki;for(let t=0;t<la.length;t++)this.ruler.push(la[t][0],la[t][1]);this.ruler2=new ki;for(let t=0;t<ca.length;t++)this.ruler2.push(ca[t][0],ca[t][1])}function ha(t){return Array.prototype.slice.call(arguments,1).forEach((function(e){e&&Object.keys(e).forEach((function(n){t[n]=e[n]}))})),t}function da(t){return Object.prototype.toString.call(t)}function pa(t){return"[object Function]"===da(t)}function fa(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}ua.prototype.skipToken=function(t){const e=t.pos,n=this.ruler.getRules(""),r=n.length,s=t.md.options.maxNesting,o=t.cache;if(void 0!==o[e])return void(t.pos=o[e]);let i=!1;if(t.level<s){for(let a=0;a<r;a++)if(t.level++,i=n[a](t,!0),t.level--,i){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;i||t.pos++,o[e]=t.pos},ua.prototype.tokenize=function(t){const e=this.ruler.getRules(""),n=e.length,r=t.posMax,s=t.md.options.maxNesting;for(;t.pos<r;){const o=t.pos;let i=!1;if(t.level<s)for(let r=0;r<n;r++)if(i=e[r](t,!1),i){if(o>=t.pos)throw new Error("inline rule didn't increment state.pos");break}if(i){if(t.pos>=r)break}else t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()},ua.prototype.parse=function(t,e,n,r){const s=new this.State(t,e,n,r);this.tokenize(s);const o=this.ruler2.getRules(""),i=o.length;for(let a=0;a<i;a++)o[a](s)},ua.prototype.State=Ki;const ma={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};const ga={"http:":{validate:function(t,e,n){const r=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?e>=3&&":"===t[e-3]||e>=3&&"/"===t[e-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},ka="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",_a="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function ya(t){const e=t.re=function(t){const e={};t=t||{},e.src_Any=yo.source,e.src_Cc=bo.source,e.src_Z=Do.source,e.src_P=Co.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><]";return e.src_pseudo_letter="(?:(?![><]|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|[><]|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+"|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy='(^|[><]|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}(t.__opts__),n=t.__tlds__.slice();function r(t){return t.replace("%TLDS%",e.src_tlds)}t.onCompile(),t.__tlds_replaced__||n.push(ka),n.push(e.src_xn),e.src_tlds=n.join("|"),e.email_fuzzy=RegExp(r(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(r(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(r(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(r(e.tpl_host_fuzzy_test),"i");const s=[];function o(t,e){throw new Error('(LinkifyIt) Invalid schema "'+t+'": '+e)}t.__compiled__={},Object.keys(t.__schemas__).forEach((function(e){const n=t.__schemas__[e];if(null===n)return;const r={validate:null,link:null};if(t.__compiled__[e]=r,"[object Object]"===da(n))return!function(t){return"[object RegExp]"===da(t)}(n.validate)?pa(n.validate)?r.validate=n.validate:o(e,n):r.validate=function(t){return function(e,n){const r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}(n.validate),void(pa(n.normalize)?r.normalize=n.normalize:n.normalize?o(e,n):r.normalize=function(t,e){e.normalize(t)});!function(t){return"[object String]"===da(t)}(n)?o(e,n):s.push(e)})),s.forEach((function(e){t.__compiled__[t.__schemas__[e]]&&(t.__compiled__[e].validate=t.__compiled__[t.__schemas__[e]].validate,t.__compiled__[e].normalize=t.__compiled__[t.__schemas__[e]].normalize)})),t.__compiled__[""]={validate:null,normalize:function(t,e){e.normalize(t)}};const i=Object.keys(t.__compiled__).filter((function(e){return e.length>0&&t.__compiled__[e]})).map(fa).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+i+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+i+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),function(t){t.__index__=-1,t.__text_cache__=""}(t)}function ba(t,e){const n=t.__index__,r=t.__last_index__,s=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=s,this.text=s,this.url=s}function Ca(t,e){const n=new ba(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function Aa(t,e){if(!(this instanceof Aa))return new Aa(t,e);var n;e||(n=t,Object.keys(n||{}).reduce((function(t,e){return t||ma.hasOwnProperty(e)}),!1)&&(e=t,t={})),this.__opts__=ha({},ma,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=ha({},ga,t),this.__compiled__={},this.__tlds__=_a,this.__tlds_replaced__=!1,this.re={},ya(this)}Aa.prototype.add=function(t,e){return this.__schemas__[t]=e,ya(this),this},Aa.prototype.set=function(t){return this.__opts__=ha(this.__opts__,t),this},Aa.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let e,n,r,s,o,i,a,l,c;if(this.re.schema_test.test(t))for(a=this.re.schema_search,a.lastIndex=0;null!==(e=a.exec(t));)if(s=this.testSchemaAt(t,e[2],a.lastIndex),s){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+s;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=t.search(this.re.host_fuzzy_test),l>=0&&(this.__index__<0||l<this.__index__)&&null!==(n=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(c=t.indexOf("@"),c>=0&&null!==(r=t.match(this.re.email_fuzzy))&&(o=r.index+r[1].length,i=r.index+r[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&i>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=i))),this.__index__>=0},Aa.prototype.pretest=function(t){return this.re.pretest.test(t)},Aa.prototype.testSchemaAt=function(t,e,n){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(t,n,this):0},Aa.prototype.match=function(t){const e=[];let n=0;this.__index__>=0&&this.__text_cache__===t&&(e.push(Ca(this,n)),n=this.__last_index__);let r=n?t.slice(n):t;for(;this.test(r);)e.push(Ca(this,n)),r=r.slice(this.__last_index__),n+=this.__last_index__;return e.length?e:null},Aa.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const e=this.re.schema_at_start.exec(t);if(!e)return null;const n=this.testSchemaAt(t,e[2],e[0].length);return n?(this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+n,Ca(this,0)):null},Aa.prototype.tlds=function(t,e){return t=Array.isArray(t)?t:[t],e?(this.__tlds__=this.__tlds__.concat(t).sort().filter((function(t,e,n){return t!==n[e-1]})).reverse(),ya(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,ya(this),this)},Aa.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),"mailto:"!==t.schema||/^mailto:/i.test(t.url)||(t.url="mailto:"+t.url)},Aa.prototype.onCompile=function(){};const Da=2147483647,va=36,xa=/^xn--/,Ea=/[^\0-\x7F]/,wa=/[\x2E\u3002\uFF0E\uFF61]/g,Fa={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Sa=Math.floor,La=String.fromCharCode;function Ta(t){throw new RangeError(Fa[t])}function Ma(t,e){const n=t.split("@");let r="";n.length>1&&(r=n[0]+"@",t=n[1]);const s=function(t,e){const n=[];let r=t.length;for(;r--;)n[r]=e(t[r]);return n}((t=t.replace(wa,".")).split("."),e).join(".");return r+s}function za(t){const e=[];let n=0;const r=t.length;for(;n<r;){const s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const r=t.charCodeAt(n++);56320==(64512&r)?e.push(((1023&s)<<10)+(1023&r)+65536):(e.push(s),n--)}else e.push(s)}return e}const Ba=function(t,e){return t+22+75*(t<26)-((0!=e)<<5)},Ia=function(t,e,n){let r=0;for(t=n?Sa(t/700):t>>1,t+=Sa(t/e);t>455;r+=va)t=Sa(t/35);return Sa(r+36*t/(t+38))},Na=function(t){const e=[],n=t.length;let r=0,s=128,o=72,i=t.lastIndexOf("-");i<0&&(i=0);for(let l=0;l<i;++l)t.charCodeAt(l)>=128&&Ta("not-basic"),e.push(t.charCodeAt(l));for(let l=i>0?i+1:0;l<n;){const i=r;for(let e=1,s=va;;s+=va){l>=n&&Ta("invalid-input");const i=(a=t.charCodeAt(l++))>=48&&a<58?a-48+26:a>=65&&a<91?a-65:a>=97&&a<123?a-97:va;i>=va&&Ta("invalid-input"),i>Sa((Da-r)/e)&&Ta("overflow"),r+=i*e;const c=s<=o?1:s>=o+26?26:s-o;if(i<c)break;const u=va-c;e>Sa(Da/u)&&Ta("overflow"),e*=u}const c=e.length+1;o=Ia(r-i,c,0==i),Sa(r/c)>Da-s&&Ta("overflow"),s+=Sa(r/c),r%=c,e.splice(r++,0,s)}var a;return String.fromCodePoint(...e)},Oa=function(t){const e=[],n=(t=za(t)).length;let r=128,s=0,o=72;for(const l of t)l<128&&e.push(La(l));const i=e.length;let a=i;for(i&&e.push("-");a<n;){let n=Da;for(const e of t)e>=r&&e<n&&(n=e);const l=a+1;n-r>Sa((Da-s)/l)&&Ta("overflow"),s+=(n-r)*l,r=n;for(const c of t)if(c<r&&++s>Da&&Ta("overflow"),c===r){let t=s;for(let n=va;;n+=va){const r=n<=o?1:n>=o+26?26:n-o;if(t<r)break;const s=t-r,i=va-r;e.push(La(Ba(r+s%i,0))),t=Sa(s/i)}e.push(La(Ba(t,0))),o=Ia(s,l,a===i),s=0,++a}++s,++r}return e.join("")},Ha={version:"2.3.1",ucs2:{decode:za,encode:t=>String.fromCodePoint(...t)},decode:Na,encode:Oa,toASCII:function(t){return Ma(t,(function(t){return Ea.test(t)?"xn--"+Oa(t):t}))},toUnicode:function(t){return Ma(t,(function(t){return xa.test(t)?Na(t.slice(4).toLowerCase()):t}))}},Ra={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},zero:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},Pa=/^(vbscript|javascript|file|data):/,ja=/^data:image\/(gif|png|jpeg|webp);/;function qa(t){const e=t.trim().toLowerCase();return!Pa.test(e)||ja.test(e)}const $a=["http:","https:","mailto:"];function Za(t){const e=ko(t,!0);if(e.hostname&&(!e.protocol||$a.indexOf(e.protocol)>=0))try{e.hostname=Ha.toASCII(e.hostname)}catch(n){}return no(ro(e))}function Va(t){const e=ko(t,!0);if(e.hostname&&(!e.protocol||$a.indexOf(e.protocol)>=0))try{e.hostname=Ha.toUnicode(e.hostname)}catch(n){}return to(ro(e),to.defaultChars+"%")}function Ua(t,e){if(!(this instanceof Ua))return new Ua(t,e);e||Vo(t)||(e=t||{},t="default"),this.inline=new ua,this.block=new Gi,this.core=new Ni,this.renderer=new gi,this.linkify=new Aa,this.validateLink=qa,this.normalizeLink=Za,this.normalizeLinkText=Va,this.utils=pi,this.helpers=Wo({},fi),this.options={},this.configure(t),e&&this.set(e)}Ua.prototype.set=function(t){return Wo(this.options,t),this},Ua.prototype.configure=function(t){const e=this;if(Vo(t)){const e=t;if(!(t=Ra[e]))throw new Error('Wrong `markdown-it` preset "'+e+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach((function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)})),this},Ua.prototype.enable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach((function(e){n=n.concat(this[e].ruler.enable(t,!0))}),this),n=n.concat(this.inline.ruler2.enable(t,!0));const r=t.filter((function(t){return n.indexOf(t)<0}));if(r.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},Ua.prototype.disable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach((function(e){n=n.concat(this[e].ruler.disable(t,!0))}),this),n=n.concat(this.inline.ruler2.disable(t,!0));const r=t.filter((function(t){return n.indexOf(t)<0}));if(r.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},Ua.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this},Ua.prototype.parse=function(t,e){if("string"!=typeof t)throw new Error("Input data should be a String");const n=new this.core.State(t,this,e);return this.core.process(n),n.tokens},Ua.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)},Ua.prototype.parseInline=function(t,e){const n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens},Ua.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};const Wa=new j({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:()=>["p",0]},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["div",["hr"]]},heading:{attrs:{level:{default:1}},content:"(text | image)*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:t=>["h"+t.attrs.level,0]},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:t=>({params:t.getAttribute("data-params")||""})}],toDOM:t=>["pre",t.attrs.params?{"data-params":t.attrs.params}:{},["code",0]]},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs:t=>({order:t.hasAttribute("start")?+t.getAttribute("start"):1,tight:t.hasAttribute("data-tight")})}],toDOM:t=>["ol",{start:1==t.attrs.order?null:t.attrs.order,"data-tight":t.attrs.tight?"true":null},0]},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:t=>({tight:t.hasAttribute("data-tight")})}],toDOM:t=>["ul",{"data-tight":t.attrs.tight?"true":null},0]},list_item:{content:"block+",defining:!0,parseDOM:[{tag:"li"}],toDOM:()=>["li",0]},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:t=>({src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt")})}],toDOM:t=>["img",t.attrs]},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:t=>"em"==t.type.name}],toDOM:()=>["em"]},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:t=>"normal"!=t.style.fontWeight&&null},{style:"font-weight=400",clearMark:t=>"strong"==t.type.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}],toDOM:()=>["strong"]},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:t=>({href:t.getAttribute("href"),title:t.getAttribute("title")})}],toDOM:t=>["a",t.attrs]},code:{parseDOM:[{tag:"code"}],toDOM:()=>["code"]}}});class Ga{constructor(t,e){this.schema=t,this.tokenHandlers=e,this.stack=[{type:t.topNodeType,attrs:null,content:[],marks:q.none}]}top(){return this.stack[this.stack.length-1]}push(t){this.stack.length&&this.top().content.push(t)}addText(t){if(!t)return;let e,n=this.top(),r=n.content,s=r[r.length-1],o=this.schema.text(t,n.marks);s&&(e=function(t,e){if(t.isText&&e.isText&&q.sameSet(t.marks,e.marks))return t.withText(t.text+e.text)}(s,o))?r[r.length-1]=e:r.push(o)}openMark(t){let e=this.top();e.marks=t.addToSet(e.marks)}closeMark(t){let e=this.top();e.marks=t.removeFromSet(e.marks)}parseTokens(t){for(let e=0;e<t.length;e++){let n=t[e],r=this.tokenHandlers[n.type];if(!r)throw new Error("Token type `"+n.type+"` not supported by Markdown parser");r(this,n,t,e)}}addNode(t,e,n){let r=this.top(),s=t.createAndFill(e,n,r?r.marks:[]);return s?(this.push(s),s):null}openNode(t,e){this.stack.push({type:t,attrs:e,content:[],marks:q.none})}closeNode(){let t=this.stack.pop();return this.addNode(t.type,t.attrs,t.content)}}function Ka(t,e,n,r){return t.getAttrs?t.getAttrs(e,n,r):t.attrs instanceof Function?t.attrs(e):t.attrs}function Ja(t,e){return t.noCloseToken||"code_inline"==e||"code_block"==e||"fence"==e}function Qa(t){return"\n"==t[t.length-1]?t.slice(0,t.length-1):t}function Ya(){}function Xa(t,e){for(;++e<t.length;)if("list_item_open"!=t[e].type)return t[e].hidden;return!1}new class{constructor(t,e,n){this.schema=t,this.tokenizer=e,this.tokens=n,this.tokenHandlers=function(t,e){let n=Object.create(null);for(let r in e){let s=e[r];if(s.block){let e=t.nodeType(s.block);Ja(s,r)?n[r]=(t,n,r,o)=>{t.openNode(e,Ka(s,n,r,o)),t.addText(Qa(n.content)),t.closeNode()}:(n[r+"_open"]=(t,n,r,o)=>t.openNode(e,Ka(s,n,r,o)),n[r+"_close"]=t=>t.closeNode())}else if(s.node){let e=t.nodeType(s.node);n[r]=(t,n,r,o)=>t.addNode(e,Ka(s,n,r,o))}else if(s.mark){let e=t.marks[s.mark];Ja(s,r)?n[r]=(t,n,r,o)=>{t.openMark(e.create(Ka(s,n,r,o))),t.addText(Qa(n.content)),t.closeMark(e)}:(n[r+"_open"]=(t,n,r,o)=>t.openMark(e.create(Ka(s,n,r,o))),n[r+"_close"]=t=>t.closeMark(e))}else{if(!s.ignore)throw new RangeError("Unrecognized parsing spec "+JSON.stringify(s));Ja(s,r)?n[r]=Ya:(n[r+"_open"]=Ya,n[r+"_close"]=Ya)}}return n.text=(t,e)=>t.addText(e.content),n.inline=(t,e)=>t.parseTokens(e.children),n.softbreak=n.softbreak||(t=>t.addText(" ")),n}(t,n)}parse(t,e={}){let n,r=new Ga(this.schema,this.tokenHandlers);r.parseTokens(this.tokenizer.parse(t,e));do{n=r.closeNode()}while(r.stack.length);return n||this.schema.topNodeType.createAndFill()}}(Wa,Ua("commonmark",{html:!1}),{blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list",getAttrs:(t,e,n)=>({tight:Xa(e,n)})},ordered_list:{block:"ordered_list",getAttrs:(t,e,n)=>({order:+t.attrGet("start")||1,tight:Xa(e,n)})},heading:{block:"heading",getAttrs:t=>({level:+t.tag.slice(1)})},code_block:{block:"code_block",noCloseToken:!0},fence:{block:"code_block",getAttrs:t=>({params:t.info||""}),noCloseToken:!0},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:t=>({src:t.attrGet("src"),title:t.attrGet("title")||null,alt:t.children[0]&&t.children[0].content||null})},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:t=>({href:t.attrGet("href"),title:t.attrGet("title")||null})},code_inline:{mark:"code",noCloseToken:!0}});const tl={open:"",close:"",mixable:!0};const el=new class{constructor(t,e,n={}){this.nodes=t,this.marks=e,this.options=n}serialize(t,e={}){e=Object.assign({},this.options,e);let n=new rl(this.nodes,this.marks,e);return n.renderContent(t),n.out}}({blockquote(t,e){t.wrapBlock("> ",null,e,(()=>t.renderContent(e)))},code_block(t,e){const n=e.textContent.match(/`{3,}/gm),r=n?n.sort().slice(-1)[0]+"`":"```";t.write(r+(e.attrs.params||"")+"\n"),t.text(e.textContent,!1),t.write("\n"),t.write(r),t.closeBlock(e)},heading(t,e){t.write(t.repeat("#",e.attrs.level)+" "),t.renderInline(e,!1),t.closeBlock(e)},horizontal_rule(t,e){t.write(e.attrs.markup||"---"),t.closeBlock(e)},bullet_list(t,e){t.renderList(e,"  ",(()=>(e.attrs.bullet||"*")+" "))},ordered_list(t,e){let n=e.attrs.order||1,r=String(n+e.childCount-1).length,s=t.repeat(" ",r+2);t.renderList(e,s,(e=>{let s=String(n+e);return t.repeat(" ",r-s.length)+s+". "}))},list_item(t,e){t.renderContent(e)},paragraph(t,e){t.renderInline(e),t.closeBlock(e)},image(t,e){t.write("!["+t.esc(e.attrs.alt||"")+"]("+e.attrs.src.replace(/[\(\)]/g,"\\$&")+(e.attrs.title?' "'+e.attrs.title.replace(/"/g,'\\"')+'"':"")+")")},hard_break(t,e,n,r){for(let s=r+1;s<n.childCount;s++)if(n.child(s).type!=e.type)return void t.write("\\\n")},text(t,e){t.text(e.text,!t.inAutolink)}},{em:{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},link:{open:(t,e,n,r)=>(t.inAutolink=function(t,e,n){if(t.attrs.title||!/^\w+:/.test(t.attrs.href))return!1;let r=e.child(n);return!(!r.isText||r.text!=t.attrs.href||r.marks[r.marks.length-1]!=t)&&(n==e.childCount-1||!t.isInSet(e.child(n+1).marks))}(e,n,r),t.inAutolink?"<":"["),close(t,e,n,r){let{inAutolink:s}=t;return t.inAutolink=void 0,s?">":"]("+e.attrs.href.replace(/[\(\)"]/g,"\\$&")+(e.attrs.title?` "${e.attrs.title.replace(/"/g,'\\"')}"`:"")+")"},mixable:!0},code:{open:(t,e,n,r)=>nl(n.child(r),-1),close:(t,e,n,r)=>nl(n.child(r-1),1),escape:!1}});function nl(t,e){let n,r=/`+/g,s=0;if(t.isText)for(;n=r.exec(t.text);)s=Math.max(s,n[0].length);let o=s>0&&e>0?" `":"`";for(let i=0;i<s;i++)o+="`";return s>0&&e<0&&(o+=" "),o}let rl=class{constructor(t,e,n){this.nodes=t,this.marks=e,this.options=n,this.delim="",this.out="",this.closed=null,this.inAutolink=void 0,this.atBlockStart=!1,this.inTightList=!1,void 0===this.options.tightLists&&(this.options.tightLists=!1),void 0===this.options.hardBreakNodeName&&(this.options.hardBreakNodeName="hard_break")}flushClose(t=2){if(this.closed){if(this.atBlank()||(this.out+="\n"),t>1){let e=this.delim,n=/\s+$/.exec(e);n&&(e=e.slice(0,e.length-n[0].length));for(let r=1;r<t;r++)this.out+=e+"\n"}this.closed=null}}getMark(t){let e=this.marks[t];if(!e){if(!1!==this.options.strict)throw new Error(`Mark type \`${t}\` not supported by Markdown renderer`);e=tl}return e}wrapBlock(t,e,n,r){let s=this.delim;this.write(null!=e?e:t),this.delim+=t,r(),this.delim=s,this.closeBlock(n)}atBlank(){return/(^|\n)$/.test(this.out)}ensureNewLine(){this.atBlank()||(this.out+="\n")}write(t){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),t&&(this.out+=t)}closeBlock(t){this.closed=t}text(t,e=!0){let n=t.split("\n");for(let r=0;r<n.length;r++)this.write(),!e&&"["==n[r][0]&&/(^|[^\\])\!$/.test(this.out)&&(this.out=this.out.slice(0,this.out.length-1)+"\\!"),this.out+=e?this.esc(n[r],this.atBlockStart):n[r],r!=n.length-1&&(this.out+="\n")}render(t,e,n){if(this.nodes[t.type.name])this.nodes[t.type.name](this,t,e,n);else{if(!1!==this.options.strict)throw new Error("Token type `"+t.type.name+"` not supported by Markdown renderer");t.type.isLeaf||(t.type.inlineContent?this.renderInline(t):this.renderContent(t),t.isBlock&&this.closeBlock(t))}}renderContent(t){t.forEach(((e,n,r)=>this.render(e,t,r)))}renderInline(t,e=!0){this.atBlockStart=e;let n=[],r="",s=(e,s,o)=>{let i=e?e.marks:[];e&&e.type.name===this.options.hardBreakNodeName&&(i=i.filter((e=>{if(o+1==t.childCount)return!1;let n=t.child(o+1);return e.isInSet(n.marks)&&(!n.isText||/\S/.test(n.text))})));let a=r;if(r="",e&&e.isText&&i.some((t=>{let e=this.getMark(t.type.name);return e&&e.expelEnclosingWhitespace&&!t.isInSet(n)}))){let[t,r,s]=/^(\s*)(.*)$/m.exec(e.text);r&&(a+=r,(e=s?e.withText(s):null)||(i=n))}if(e&&e.isText&&i.some((e=>{let n=this.getMark(e.type.name);return n&&n.expelEnclosingWhitespace&&(o==t.childCount-1||!e.isInSet(t.child(o+1).marks))}))){let[t,s,o]=/^(.*?)(\s*)$/m.exec(e.text);o&&(r=o,(e=s?e.withText(s):null)||(i=n))}let l=i.length?i[i.length-1]:null,c=l&&!1===this.getMark(l.type.name).escape,u=i.length-(c?1:0);t:for(let t=0;t<u;t++){let e=i[t];if(!this.getMark(e.type.name).mixable)break;for(let r=0;r<n.length;r++){let s=n[r];if(!this.getMark(s.type.name).mixable)break;if(e.eq(s)){t>r?i=i.slice(0,r).concat(e).concat(i.slice(r,t)).concat(i.slice(t+1,u)):r>t&&(i=i.slice(0,t).concat(i.slice(t+1,r)).concat(e).concat(i.slice(r,u)));continue t}}}let h=0;for(;h<Math.min(n.length,u)&&i[h].eq(n[h]);)++h;for(;h<n.length;)this.text(this.markString(n.pop(),!1,t,o),!1);if(a&&this.text(a),e){for(;n.length<u;){let e=i[n.length];n.push(e),this.text(this.markString(e,!0,t,o),!1),this.atBlockStart=!1}c&&e.isText?this.text(this.markString(l,!0,t,o)+e.text+this.markString(l,!1,t,o+1),!1):this.render(e,t,o),this.atBlockStart=!1}(null==e?void 0:e.isText)&&e.nodeSize>0&&(this.atBlockStart=!1)};t.forEach(s),s(null,0,t.childCount),this.atBlockStart=!1}renderList(t,e,n){this.closed&&this.closed.type==t.type?this.flushClose(3):this.inTightList&&this.flushClose(1);let r=void 0!==t.attrs.tight?t.attrs.tight:this.options.tightLists,s=this.inTightList;this.inTightList=r,t.forEach(((s,o,i)=>{i&&r&&this.flushClose(1),this.wrapBlock(e,n(i),t,(()=>this.render(s,t,i)))})),this.inTightList=s}esc(t,e=!1){return t=t.replace(/[`*\\~\[\]_]/g,((e,n)=>"_"==e&&n>0&&n+1<t.length&&t[n-1].match(/\w/)&&t[n+1].match(/\w/)?e:"\\"+e)),e&&(t=t.replace(/^(\+[ ]|[\-*>])/,"\\$&").replace(/^(\s*)(#{1,6})(\s|$)/,"$1\\$2$3").replace(/^(\s*\d+)\.\s/,"$1\\. ")),this.options.escapeExtraCharacters&&(t=t.replace(this.options.escapeExtraCharacters,"\\$&")),t}quote(t){let e=-1==t.indexOf('"')?'""':-1==t.indexOf("'")?"''":"()";return e[0]+t+e[1]}repeat(t,e){let n="";for(let r=0;r<e;r++)n+=t;return n}markString(t,e,n,r){let s=this.getMark(t.type.name),o=e?s.open:s.close;return"string"==typeof o?o:o(this,t,n,r)}getEnclosingWhitespace(t){return{leading:(t.match(/^(\s+)/)||[void 0])[0],trailing:(t.match(/(\s+)$/)||[void 0])[0]}}};const sl={};function ol(t,e){"string"!=typeof e&&(e=ol.defaultChars);const n=function(t){let e=sl[t];if(e)return e;e=sl[t]=[];for(let n=0;n<128;n++){const t=String.fromCharCode(n);e.push(t)}for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2)}return e}(e);return t.replace(/(%[a-f0-9]{2})+/gi,(function(t){let e="";for(let r=0,s=t.length;r<s;r+=3){const o=parseInt(t.slice(r+1,r+3),16);if(o<128)e+=n[o];else{if(192==(224&o)&&r+3<s){const n=parseInt(t.slice(r+4,r+6),16);if(128==(192&n)){const t=o<<6&1984|63&n;e+=t<128?"":String.fromCharCode(t),r+=3;continue}}if(224==(240&o)&&r+6<s){const n=parseInt(t.slice(r+4,r+6),16),s=parseInt(t.slice(r+7,r+9),16);if(128==(192&n)&&128==(192&s)){const t=o<<12&61440|n<<6&4032|63&s;e+=t<2048||t>=55296&&t<=57343?"":String.fromCharCode(t),r+=6;continue}}if(240==(248&o)&&r+9<s){const n=parseInt(t.slice(r+4,r+6),16),s=parseInt(t.slice(r+7,r+9),16),i=parseInt(t.slice(r+10,r+12),16);if(128==(192&n)&&128==(192&s)&&128==(192&i)){let t=o<<18&1835008|n<<12&258048|s<<6&4032|63&i;t<65536||t>1114111?e+="":(t-=65536,e+=String.fromCharCode(55296+(t>>10),56320+(1023&t))),r+=9;continue}}e+=""}}return e}))}ol.defaultChars=";/?:@&=+$,#",ol.componentChars="";const il={};function al(t,e,n){"string"!=typeof e&&(n=e,e=al.defaultChars),void 0===n&&(n=!0);const r=function(t){let e=il[t];if(e)return e;e=il[t]=[];for(let n=0;n<128;n++){const t=String.fromCharCode(n);/^[0-9a-z]$/i.test(t)?e.push(t):e.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<t.length;n++)e[t.charCodeAt(n)]=t[n];return e}(e);let s="";for(let o=0,i=t.length;o<i;o++){const e=t.charCodeAt(o);if(n&&37===e&&o+2<i&&/^[0-9a-f]{2}$/i.test(t.slice(o+1,o+3)))s+=t.slice(o,o+3),o+=2;else if(e<128)s+=r[e];else if(e>=55296&&e<=57343){if(e>=55296&&e<=56319&&o+1<i){const e=t.charCodeAt(o+1);if(e>=56320&&e<=57343){s+=encodeURIComponent(t[o]+t[o+1]),o++;continue}}s+="%EF%BF%BD"}else s+=encodeURIComponent(t[o])}return s}function ll(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&-1!==t.hostname.indexOf(":")?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function cl(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}al.defaultChars=";/?:@&=+$,-_.!~*'()#",al.componentChars="-_.!~*'()";const ul=/^([a-z0-9.+-]+:)/i,hl=/:[0-9]*$/,dl=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,pl=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),fl=["'"].concat(pl),ml=["%","/","?",";","#"].concat(fl),gl=["/","?","#"],kl=/^[+a-z0-9A-Z_-]{0,63}$/,_l=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,yl={javascript:!0,"javascript:":!0},bl={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Cl(t,e){if(t&&t instanceof cl)return t;const n=new cl;return n.parse(t,e),n}cl.prototype.parse=function(t,e){let n,r,s,o=t;if(o=o.trim(),!e&&1===t.split("#").length){const t=dl.exec(o);if(t)return this.pathname=t[1],t[2]&&(this.search=t[2]),this}let i=ul.exec(o);if(i&&(i=i[0],n=i.toLowerCase(),this.protocol=i,o=o.substr(i.length)),(e||i||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(s="//"===o.substr(0,2),!s||i&&yl[i]||(o=o.substr(2),this.slashes=!0)),!yl[i]&&(s||i&&!bl[i])){let t,e,n=-1;for(let a=0;a<gl.length;a++)r=o.indexOf(gl[a]),-1!==r&&(-1===n||r<n)&&(n=r);e=-1===n?o.lastIndexOf("@"):o.lastIndexOf("@",n),-1!==e&&(t=o.slice(0,e),o=o.slice(e+1),this.auth=t),n=-1;for(let a=0;a<ml.length;a++)r=o.indexOf(ml[a]),-1!==r&&(-1===n||r<n)&&(n=r);-1===n&&(n=o.length),":"===o[n-1]&&n--;const s=o.slice(0,n);o=o.slice(n),this.parseHost(s),this.hostname=this.hostname||"";const i="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!i){const t=this.hostname.split(/\./);for(let e=0,n=t.length;e<n;e++){const n=t[e];if(n&&!n.match(kl)){let r="";for(let t=0,e=n.length;t<e;t++)n.charCodeAt(t)>127?r+="x":r+=n[t];if(!r.match(kl)){const r=t.slice(0,e),s=t.slice(e+1),i=n.match(_l);i&&(r.push(i[1]),s.unshift(i[2])),s.length&&(o=s.join(".")+o),this.hostname=r.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),i&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const a=o.indexOf("#");-1!==a&&(this.hash=o.substr(a),o=o.slice(0,a));const l=o.indexOf("?");return-1!==l&&(this.search=o.substr(l),o=o.slice(0,l)),o&&(this.pathname=o),bl[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this},cl.prototype.parseHost=function(t){let e=hl.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const Al=Object.freeze(Object.defineProperty({__proto__:null,decode:ol,encode:al,format:ll,parse:Cl},Symbol.toStringTag,{value:"Module"})),Dl=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,vl=/[\0-\x1F\x7F-\x9F]/,xl=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,El=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,wl=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,Fl=Object.freeze(Object.defineProperty({__proto__:null,Any:Dl,Cc:vl,Cf:/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,P:xl,S:El,Z:wl},Symbol.toStringTag,{value:"Module"}));function Sl(t){return"[object String]"===function(t){return Object.prototype.toString.call(t)}(t)}const Ll=Object.prototype.hasOwnProperty;function Tl(t){return Array.prototype.slice.call(arguments,1).forEach((function(e){if(e){if("object"!=typeof e)throw new TypeError(e+"must be object");Object.keys(e).forEach((function(n){t[n]=e[n]}))}})),t}function Ml(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))}function zl(t){return!(t>=55296&&t<=57343)&&(!(t>=64976&&t<=65007)&&(!!(65535&~t&&65534!=(65535&t))&&(!(t>=0&&t<=8)&&(11!==t&&(!(t>=14&&t<=31)&&(!(t>=127&&t<=159)&&!(t>1114111)))))))}function Bl(t){if(t>65535){const e=55296+((t-=65536)>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}const Il=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,Nl=new RegExp(Il.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),Ol=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function Hl(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(Nl,(function(t,e,n){return e||function(t,e){if(35===e.charCodeAt(0)&&Ol.test(e)){const n="x"===e[1].toLowerCase()?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return zl(n)?Bl(n):t}const n=Zo(t);return n!==t?n:t}(t,n)}))}const Rl=/[&<>"]/,Pl=/[&<>"]/g,jl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function ql(t){return jl[t]}function $l(t){return Rl.test(t)?t.replace(Pl,ql):t}const Zl=/[.?*+^$[\]\\(){}|-]/g;function Vl(t){switch(t){case 9:case 32:return!0}return!1}function Ul(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function Wl(t){return xl.test(t)||El.test(t)}function Gl(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function Kl(t){return t=t.trim().replace(/\s+/g," "),""==="".toLowerCase()&&(t=t.replace(//g,"")),t.toLowerCase().toUpperCase()}const Jl={mdurl:Al,ucmicro:Fl},Ql=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:Ml,assign:Tl,escapeHtml:$l,escapeRE:function(t){return t.replace(Zl,"\\$&")},fromCodePoint:Bl,has:function(t,e){return Ll.call(t,e)},isMdAsciiPunct:Gl,isPunctChar:Wl,isSpace:Vl,isString:Sl,isValidEntityCode:zl,isWhiteSpace:Ul,lib:Jl,normalizeReference:Kl,unescapeAll:Hl,unescapeMd:function(t){return t.indexOf("\\")<0?t:t.replace(Il,"$1")}},Symbol.toStringTag,{value:"Module"}));const Yl=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:function(t,e,n){let r,s=e;const o={ok:!1,pos:0,str:""};if(60===t.charCodeAt(s)){for(s++;s<n;){if(r=t.charCodeAt(s),10===r)return o;if(60===r)return o;if(62===r)return o.pos=s+1,o.str=Hl(t.slice(e+1,s)),o.ok=!0,o;92===r&&s+1<n?s+=2:s++}return o}let i=0;for(;s<n&&(r=t.charCodeAt(s),32!==r)&&!(r<32||127===r);)if(92===r&&s+1<n){if(32===t.charCodeAt(s+1))break;s+=2}else{if(40===r&&(i++,i>32))return o;if(41===r){if(0===i)break;i--}s++}return e===s||0!==i||(o.str=Hl(t.slice(e,s)),o.pos=s,o.ok=!0),o},parseLinkLabel:function(t,e,n){let r,s,o,i;const a=t.posMax,l=t.pos;for(t.pos=e+1,r=1;t.pos<a;){if(o=t.src.charCodeAt(t.pos),93===o&&(r--,0===r)){s=!0;break}if(i=t.pos,t.md.inline.skipToken(t),91===o)if(i===t.pos-1)r++;else if(n)return t.pos=l,-1}let c=-1;return s&&(c=t.pos),t.pos=l,c},parseLinkTitle:function(t,e,n,r){let s,o=e;const i={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(r)i.str=r.str,i.marker=r.marker;else{if(o>=n)return i;let r=t.charCodeAt(o);if(34!==r&&39!==r&&40!==r)return i;e++,o++,40===r&&(r=41),i.marker=r}for(;o<n;){if(s=t.charCodeAt(o),s===i.marker)return i.pos=o+1,i.str+=Hl(t.slice(e,o)),i.ok=!0,i;if(40===s&&41===i.marker)return i;92===s&&o+1<n&&o++,o++}return i.can_continue=!0,i.str+=Hl(t.slice(e,o)),i}},Symbol.toStringTag,{value:"Module"})),Xl={};function tc(){this.rules=Tl({},Xl)}function ec(){this.__rules__=[],this.__cache__=null}function nc(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}function rc(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}Xl.code_inline=function(t,e,n,r,s){const o=t[e];return"<code"+s.renderAttrs(o)+">"+$l(o.content)+"</code>"},Xl.code_block=function(t,e,n,r,s){const o=t[e];return"<pre"+s.renderAttrs(o)+"><code>"+$l(t[e].content)+"</code></pre>\n"},Xl.fence=function(t,e,n,r,s){const o=t[e],i=o.info?Hl(o.info).trim():"";let a,l="",c="";if(i){const t=i.split(/(\s+)/g);l=t[0],c=t.slice(2).join("")}if(a=n.highlight&&n.highlight(o.content,l,c)||$l(o.content),0===a.indexOf("<pre"))return a+"\n";if(i){const t=o.attrIndex("class"),e=o.attrs?o.attrs.slice():[];t<0?e.push(["class",n.langPrefix+l]):(e[t]=e[t].slice(),e[t][1]+=" "+n.langPrefix+l);const r={attrs:e};return`<pre><code${s.renderAttrs(r)}>${a}</code></pre>\n`}return`<pre><code${s.renderAttrs(o)}>${a}</code></pre>\n`},Xl.image=function(t,e,n,r,s){const o=t[e];return o.attrs[o.attrIndex("alt")][1]=s.renderInlineAsText(o.children,n,r),s.renderToken(t,e,n)},Xl.hardbreak=function(t,e,n){return n.xhtmlOut?"<br />\n":"<br>\n"},Xl.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},Xl.text=function(t,e){return $l(t[e].content)},Xl.html_block=function(t,e){return t[e].content},Xl.html_inline=function(t,e){return t[e].content},tc.prototype.renderAttrs=function(t){let e,n,r;if(!t.attrs)return"";for(r="",e=0,n=t.attrs.length;e<n;e++)r+=" "+$l(t.attrs[e][0])+'="'+$l(t.attrs[e][1])+'"';return r},tc.prototype.renderToken=function(t,e,n){const r=t[e];let s="";if(r.hidden)return"";r.block&&-1!==r.nesting&&e&&t[e-1].hidden&&(s+="\n"),s+=(-1===r.nesting?"</":"<")+r.tag,s+=this.renderAttrs(r),0===r.nesting&&n.xhtmlOut&&(s+=" /");let o=!1;if(r.block&&(o=!0,1===r.nesting&&e+1<t.length)){const n=t[e+1];("inline"===n.type||n.hidden||-1===n.nesting&&n.tag===r.tag)&&(o=!1)}return s+=o?">\n":">",s},tc.prototype.renderInline=function(t,e,n){let r="";const s=this.rules;for(let o=0,i=t.length;o<i;o++){const i=t[o].type;void 0!==s[i]?r+=s[i](t,o,e,n,this):r+=this.renderToken(t,o,e)}return r},tc.prototype.renderInlineAsText=function(t,e,n){let r="";for(let s=0,o=t.length;s<o;s++)switch(t[s].type){case"text":case"html_inline":case"html_block":r+=t[s].content;break;case"image":r+=this.renderInlineAsText(t[s].children,e,n);break;case"softbreak":case"hardbreak":r+="\n"}return r},tc.prototype.render=function(t,e,n){let r="";const s=this.rules;for(let o=0,i=t.length;o<i;o++){const i=t[o].type;"inline"===i?r+=this.renderInline(t[o].children,e,n):void 0!==s[i]?r+=s[i](t,o,e,n,this):r+=this.renderToken(t,o,e,n)}return r},ec.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1},ec.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach((function(t){t.enabled&&t.alt.forEach((function(t){e.indexOf(t)<0&&e.push(t)}))})),t.__cache__={},e.forEach((function(e){t.__cache__[e]=[],t.__rules__.forEach((function(n){n.enabled&&(e&&n.alt.indexOf(e)<0||t.__cache__[e].push(n.fn))}))}))},ec.prototype.at=function(t,e,n){const r=this.__find__(t),s=n||{};if(-1===r)throw new Error("Parser rule not found: "+t);this.__rules__[r].fn=e,this.__rules__[r].alt=s.alt||[],this.__cache__=null},ec.prototype.before=function(t,e,n,r){const s=this.__find__(t),o=r||{};if(-1===s)throw new Error("Parser rule not found: "+t);this.__rules__.splice(s,0,{name:e,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},ec.prototype.after=function(t,e,n,r){const s=this.__find__(t),o=r||{};if(-1===s)throw new Error("Parser rule not found: "+t);this.__rules__.splice(s+1,0,{name:e,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},ec.prototype.push=function(t,e,n){const r=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:r.alt||[]}),this.__cache__=null},ec.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach((function(t){const r=this.__find__(t);if(r<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[r].enabled=!0,n.push(t)}),this),this.__cache__=null,n},ec.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach((function(t){t.enabled=!1})),this.enable(t,e)},ec.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach((function(t){const r=this.__find__(t);if(r<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[r].enabled=!1,n.push(t)}),this),this.__cache__=null,n},ec.prototype.getRules=function(t){return null===this.__cache__&&this.__compile__(),this.__cache__[t]||[]},nc.prototype.attrIndex=function(t){if(!this.attrs)return-1;const e=this.attrs;for(let n=0,r=e.length;n<r;n++)if(e[n][0]===t)return n;return-1},nc.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]},nc.prototype.attrSet=function(t,e){const n=this.attrIndex(t),r=[t,e];n<0?this.attrPush(r):this.attrs[n]=r},nc.prototype.attrGet=function(t){const e=this.attrIndex(t);let n=null;return e>=0&&(n=this.attrs[e][1]),n},nc.prototype.attrJoin=function(t,e){const n=this.attrIndex(t);n<0?this.attrPush([t,e]):this.attrs[n][1]=this.attrs[n][1]+" "+e},rc.prototype.Token=nc;const sc=/\r\n?|\n/g,oc=/\0/g;function ic(t){return/^<\/a\s*>/i.test(t)}const ac=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,lc=/\((c|tm|r)\)/i,cc=/\((c|tm|r)\)/gi,uc={c:"",r:"",tm:""};function hc(t,e){return uc[e.toLowerCase()]}function dc(t){let e=0;for(let n=t.length-1;n>=0;n--){const r=t[n];"text"!==r.type||e||(r.content=r.content.replace(cc,hc)),"link_open"===r.type&&"auto"===r.info&&e--,"link_close"===r.type&&"auto"===r.info&&e++}}function pc(t){let e=0;for(let n=t.length-1;n>=0;n--){const r=t[n];"text"!==r.type||e||ac.test(r.content)&&(r.content=r.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1").replace(/(^|\s)--(?=\s|$)/gm,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1")),"link_open"===r.type&&"auto"===r.info&&e--,"link_close"===r.type&&"auto"===r.info&&e++}}const fc=/['"]/,mc=/['"]/g,gc="";function kc(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}function _c(t,e){let n;const r=[];for(let s=0;s<t.length;s++){const o=t[s],i=t[s].level;for(n=r.length-1;n>=0&&!(r[n].level<=i);n--);if(r.length=n+1,"text"!==o.type)continue;let a=o.content,l=0,c=a.length;t:for(;l<c;){mc.lastIndex=l;const u=mc.exec(a);if(!u)break;let h=!0,d=!0;l=u.index+1;const p="'"===u[0];let f=32;if(u.index-1>=0)f=a.charCodeAt(u.index-1);else for(n=s-1;n>=0&&("softbreak"!==t[n].type&&"hardbreak"!==t[n].type);n--)if(t[n].content){f=t[n].content.charCodeAt(t[n].content.length-1);break}let m=32;if(l<c)m=a.charCodeAt(l);else for(n=s+1;n<t.length&&("softbreak"!==t[n].type&&"hardbreak"!==t[n].type);n++)if(t[n].content){m=t[n].content.charCodeAt(0);break}const g=Gl(f)||Wl(String.fromCharCode(f)),k=Gl(m)||Wl(String.fromCharCode(m)),_=Ul(f),y=Ul(m);if(y?h=!1:k&&(_||g||(h=!1)),_?d=!1:g&&(y||k||(d=!1)),34===m&&'"'===u[0]&&f>=48&&f<=57&&(d=h=!1),h&&d&&(h=g,d=k),h||d){if(d)for(n=r.length-1;n>=0;n--){let h=r[n];if(r[n].level<i)break;if(h.single===p&&r[n].level===i){let i,d;h=r[n],p?(i=e.md.options.quotes[2],d=e.md.options.quotes[3]):(i=e.md.options.quotes[0],d=e.md.options.quotes[1]),o.content=kc(o.content,u.index,d),t[h.token].content=kc(t[h.token].content,h.pos,i),l+=d.length-1,h.token===s&&(l+=i.length-1),a=o.content,c=a.length,r.length=n;continue t}}h?r.push({token:s,pos:u.index,single:p,level:i}):d&&p&&(o.content=kc(o.content,u.index,gc))}else p&&(o.content=kc(o.content,u.index,gc))}}}const yc=[["normalize",function(t){let e;e=t.src.replace(sc,"\n"),e=e.replace(oc,""),t.src=e}],["block",function(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}],["inline",function(t){const e=t.tokens;for(let n=0,r=e.length;n<r;n++){const r=e[n];"inline"===r.type&&t.md.inline.parse(r.content,t.md,t.env,r.children)}}],["linkify",function(t){const e=t.tokens;var n;if(t.md.options.linkify)for(let r=0,s=e.length;r<s;r++){if("inline"!==e[r].type||!t.md.linkify.pretest(e[r].content))continue;let s=e[r].children,o=0;for(let i=s.length-1;i>=0;i--){const a=s[i];if("link_close"!==a.type){if("html_inline"===a.type&&(n=a.content,/^<a[>\s]/i.test(n)&&o>0&&o--,ic(a.content)&&o++),!(o>0)&&"text"===a.type&&t.md.linkify.test(a.content)){const n=a.content;let o=t.md.linkify.match(n);const l=[];let c=a.level,u=0;o.length>0&&0===o[0].index&&i>0&&"text_special"===s[i-1].type&&(o=o.slice(1));for(let e=0;e<o.length;e++){const r=o[e].url,s=t.md.normalizeLink(r);if(!t.md.validateLink(s))continue;let i=o[e].text;i=o[e].schema?"mailto:"!==o[e].schema||/^mailto:/i.test(i)?t.md.normalizeLinkText(i):t.md.normalizeLinkText("mailto:"+i).replace(/^mailto:/,""):t.md.normalizeLinkText("http://"+i).replace(/^http:\/\//,"");const a=o[e].index;if(a>u){const e=new t.Token("text","",0);e.content=n.slice(u,a),e.level=c,l.push(e)}const h=new t.Token("link_open","a",1);h.attrs=[["href",s]],h.level=c++,h.markup="linkify",h.info="auto",l.push(h);const d=new t.Token("text","",0);d.content=i,d.level=c,l.push(d);const p=new t.Token("link_close","a",-1);p.level=--c,p.markup="linkify",p.info="auto",l.push(p),u=o[e].lastIndex}if(u<n.length){const e=new t.Token("text","",0);e.content=n.slice(u),e.level=c,l.push(e)}e[r].children=s=Ml(s,i,l)}}else for(i--;s[i].level!==a.level&&"link_open"!==s[i].type;)i--}}}],["replacements",function(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&(lc.test(t.tokens[e].content)&&dc(t.tokens[e].children),ac.test(t.tokens[e].content)&&pc(t.tokens[e].children))}],["smartquotes",function(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&fc.test(t.tokens[e].content)&&_c(t.tokens[e].children,t)}],["text_join",function(t){let e,n;const r=t.tokens,s=r.length;for(let o=0;o<s;o++){if("inline"!==r[o].type)continue;const t=r[o].children,s=t.length;for(e=0;e<s;e++)"text_special"===t[e].type&&(t[e].type="text");for(e=n=0;e<s;e++)"text"===t[e].type&&e+1<s&&"text"===t[e+1].type?t[e+1].content=t[e].content+t[e+1].content:(e!==n&&(t[n]=t[e]),n++);e!==n&&(t.length=n)}}]];function bc(){this.ruler=new ec;for(let t=0;t<yc.length;t++)this.ruler.push(yc[t][0],yc[t][1])}function Cc(t,e,n,r){this.src=t,this.md=e,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const s=this.src;for(let o=0,i=0,a=0,l=0,c=s.length,u=!1;i<c;i++){const t=s.charCodeAt(i);if(!u){if(Vl(t)){a++,9===t?l+=4-l%4:l++;continue}u=!0}10!==t&&i!==c-1||(10!==t&&i++,this.bMarks.push(o),this.eMarks.push(i),this.tShift.push(a),this.sCount.push(l),this.bsCount.push(0),u=!1,a=0,l=0,o=i+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}bc.prototype.process=function(t){const e=this.ruler.getRules("");for(let n=0,r=e.length;n<r;n++)e[n](t)},bc.prototype.State=rc,Cc.prototype.push=function(t,e,n){const r=new nc(t,e,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r},Cc.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]},Cc.prototype.skipEmptyLines=function(t){for(let e=this.lineMax;t<e&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t},Cc.prototype.skipSpaces=function(t){for(let e=this.src.length;t<e;t++){if(!Vl(this.src.charCodeAt(t)))break}return t},Cc.prototype.skipSpacesBack=function(t,e){if(t<=e)return t;for(;t>e;)if(!Vl(this.src.charCodeAt(--t)))return t+1;return t},Cc.prototype.skipChars=function(t,e){for(let n=this.src.length;t<n&&this.src.charCodeAt(t)===e;t++);return t},Cc.prototype.skipCharsBack=function(t,e,n){if(t<=n)return t;for(;t>n;)if(e!==this.src.charCodeAt(--t))return t+1;return t},Cc.prototype.getLines=function(t,e,n,r){if(t>=e)return"";const s=new Array(e-t);for(let o=0,i=t;i<e;i++,o++){let t=0;const a=this.bMarks[i];let l,c=a;for(l=i+1<e||r?this.eMarks[i]+1:this.eMarks[i];c<l&&t<n;){const e=this.src.charCodeAt(c);if(Vl(e))9===e?t+=4-(t+this.bsCount[i])%4:t++;else{if(!(c-a<this.tShift[i]))break;t++}c++}s[o]=t>n?new Array(t-n+1).join(" ")+this.src.slice(c,l):this.src.slice(c,l)}return s.join("")},Cc.prototype.Token=nc;function Ac(t,e){const n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];return t.src.slice(n,r)}function Dc(t){const e=[],n=t.length;let r=0,s=t.charCodeAt(r),o=!1,i=0,a="";for(;r<n;)124===s&&(o?(a+=t.substring(i,r-1),i=r):(e.push(a+t.substring(i,r)),a="",i=r+1)),o=92===s,r++,s=t.charCodeAt(r);return e.push(a+t.substring(i)),e}function vc(t,e){const n=t.eMarks[e];let r=t.bMarks[e]+t.tShift[e];const s=t.src.charCodeAt(r++);if(42!==s&&45!==s&&43!==s)return-1;if(r<n){if(!Vl(t.src.charCodeAt(r)))return-1}return r}function xc(t,e){const n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];let s=n;if(s+1>=r)return-1;let o=t.src.charCodeAt(s++);if(o<48||o>57)return-1;for(;;){if(s>=r)return-1;if(o=t.src.charCodeAt(s++),!(o>=48&&o<=57)){if(41===o||46===o)break;return-1}if(s-n>=10)return-1}return s<r&&(o=t.src.charCodeAt(s),!Vl(o))?-1:s}const Ec="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",wc="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",Fc=new RegExp("^(?:"+Ec+"|"+wc+"|\x3c!---?>|\x3c!--(?:[^-]|-[^-]|--[^>])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Za-z][^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),Sc=new RegExp("^(?:"+Ec+"|"+wc+")"),Lc=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"].join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Sc.source+"\\s*$"),/^$/,!1]];const Tc=[["table",function(t,e,n,r){if(e+2>n)return!1;let s=e+1;if(t.sCount[s]<t.blkIndent)return!1;if(t.sCount[s]-t.blkIndent>=4)return!1;let o=t.bMarks[s]+t.tShift[s];if(o>=t.eMarks[s])return!1;const i=t.src.charCodeAt(o++);if(124!==i&&45!==i&&58!==i)return!1;if(o>=t.eMarks[s])return!1;const a=t.src.charCodeAt(o++);if(124!==a&&45!==a&&58!==a&&!Vl(a))return!1;if(45===i&&Vl(a))return!1;for(;o<t.eMarks[s];){const e=t.src.charCodeAt(o);if(124!==e&&45!==e&&58!==e&&!Vl(e))return!1;o++}let l=Ac(t,e+1),c=l.split("|");const u=[];for(let k=0;k<c.length;k++){const t=c[k].trim();if(!t){if(0===k||k===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(t))return!1;58===t.charCodeAt(t.length-1)?u.push(58===t.charCodeAt(0)?"center":"right"):58===t.charCodeAt(0)?u.push("left"):u.push("")}if(l=Ac(t,e).trim(),-1===l.indexOf("|"))return!1;if(t.sCount[e]-t.blkIndent>=4)return!1;c=Dc(l),c.length&&""===c[0]&&c.shift(),c.length&&""===c[c.length-1]&&c.pop();const h=c.length;if(0===h||h!==u.length)return!1;if(r)return!0;const d=t.parentType;t.parentType="table";const p=t.md.block.ruler.getRules("blockquote"),f=[e,0];t.push("table_open","table",1).map=f,t.push("thead_open","thead",1).map=[e,e+1],t.push("tr_open","tr",1).map=[e,e+1];for(let k=0;k<c.length;k++){const e=t.push("th_open","th",1);u[k]&&(e.attrs=[["style","text-align:"+u[k]]]);const n=t.push("inline","",0);n.content=c[k].trim(),n.children=[],t.push("th_close","th",-1)}let m;t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let g=0;for(s=e+2;s<n&&!(t.sCount[s]<t.blkIndent);s++){let r=!1;for(let e=0,o=p.length;e<o;e++)if(p[e](t,s,n,!0)){r=!0;break}if(r)break;if(l=Ac(t,s).trim(),!l)break;if(t.sCount[s]-t.blkIndent>=4)break;if(c=Dc(l),c.length&&""===c[0]&&c.shift(),c.length&&""===c[c.length-1]&&c.pop(),g+=h-c.length,g>65536)break;if(s===e+2){t.push("tbody_open","tbody",1).map=m=[e+2,0]}t.push("tr_open","tr",1).map=[s,s+1];for(let e=0;e<h;e++){const n=t.push("td_open","td",1);u[e]&&(n.attrs=[["style","text-align:"+u[e]]]);const r=t.push("inline","",0);r.content=c[e]?c[e].trim():"",r.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return m&&(t.push("tbody_close","tbody",-1),m[1]=s),t.push("table_close","table",-1),f[1]=s,t.parentType=d,t.line=s,!0},["paragraph","reference"]],["code",function(t,e,n){if(t.sCount[e]-t.blkIndent<4)return!1;let r=e+1,s=r;for(;r<n;)if(t.isEmpty(r))r++;else{if(!(t.sCount[r]-t.blkIndent>=4))break;r++,s=r}t.line=s;const o=t.push("code_block","code",0);return o.content=t.getLines(e,s,4+t.blkIndent,!1)+"\n",o.map=[e,t.line],!0}],["fence",function(t,e,n,r){let s=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(s+3>o)return!1;const i=t.src.charCodeAt(s);if(126!==i&&96!==i)return!1;let a=s;s=t.skipChars(s,i);let l=s-a;if(l<3)return!1;const c=t.src.slice(a,s),u=t.src.slice(s,o);if(96===i&&u.indexOf(String.fromCharCode(i))>=0)return!1;if(r)return!0;let h=e,d=!1;for(;(h++,!(h>=n))&&(s=a=t.bMarks[h]+t.tShift[h],o=t.eMarks[h],!(s<o&&t.sCount[h]<t.blkIndent));)if(t.src.charCodeAt(s)===i&&!(t.sCount[h]-t.blkIndent>=4||(s=t.skipChars(s,i),s-a<l||(s=t.skipSpaces(s),s<o)))){d=!0;break}l=t.sCount[e],t.line=h+(d?1:0);const p=t.push("fence","code",0);return p.info=u,p.content=t.getLines(e+1,h,l,!0),p.markup=c,p.map=[e,t.line],!0},["paragraph","reference","blockquote","list"]],["blockquote",function(t,e,n,r){let s=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];const i=t.lineMax;if(t.sCount[e]-t.blkIndent>=4)return!1;if(62!==t.src.charCodeAt(s))return!1;if(r)return!0;const a=[],l=[],c=[],u=[],h=t.md.block.ruler.getRules("blockquote"),d=t.parentType;t.parentType="blockquote";let p,f=!1;for(p=e;p<n;p++){const e=t.sCount[p]<t.blkIndent;if(s=t.bMarks[p]+t.tShift[p],o=t.eMarks[p],s>=o)break;if(62===t.src.charCodeAt(s++)&&!e){let e,n,r=t.sCount[p]+1;32===t.src.charCodeAt(s)?(s++,r++,n=!1,e=!0):9===t.src.charCodeAt(s)?(e=!0,(t.bsCount[p]+r)%4==3?(s++,r++,n=!1):n=!0):e=!1;let i=r;for(a.push(t.bMarks[p]),t.bMarks[p]=s;s<o;){const e=t.src.charCodeAt(s);if(!Vl(e))break;9===e?i+=4-(i+t.bsCount[p]+(n?1:0))%4:i++,s++}f=s>=o,l.push(t.bsCount[p]),t.bsCount[p]=t.sCount[p]+1+(e?1:0),c.push(t.sCount[p]),t.sCount[p]=i-r,u.push(t.tShift[p]),t.tShift[p]=s-t.bMarks[p];continue}if(f)break;let r=!1;for(let s=0,o=h.length;s<o;s++)if(h[s](t,p,n,!0)){r=!0;break}if(r){t.lineMax=p,0!==t.blkIndent&&(a.push(t.bMarks[p]),l.push(t.bsCount[p]),u.push(t.tShift[p]),c.push(t.sCount[p]),t.sCount[p]-=t.blkIndent);break}a.push(t.bMarks[p]),l.push(t.bsCount[p]),u.push(t.tShift[p]),c.push(t.sCount[p]),t.sCount[p]=-1}const m=t.blkIndent;t.blkIndent=0;const g=t.push("blockquote_open","blockquote",1);g.markup=">";const k=[e,0];g.map=k,t.md.block.tokenize(t,e,p),t.push("blockquote_close","blockquote",-1).markup=">",t.lineMax=i,t.parentType=d,k[1]=t.line;for(let _=0;_<u.length;_++)t.bMarks[_+e]=a[_],t.tShift[_+e]=u[_],t.sCount[_+e]=c[_],t.bsCount[_+e]=l[_];return t.blkIndent=m,!0},["paragraph","reference","blockquote","list"]],["hr",function(t,e,n,r){const s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let o=t.bMarks[e]+t.tShift[e];const i=t.src.charCodeAt(o++);if(42!==i&&45!==i&&95!==i)return!1;let a=1;for(;o<s;){const e=t.src.charCodeAt(o++);if(e!==i&&!Vl(e))return!1;e===i&&a++}if(a<3)return!1;if(r)return!0;t.line=e+1;const l=t.push("hr","hr",0);return l.map=[e,t.line],l.markup=Array(a+1).join(String.fromCharCode(i)),!0},["paragraph","reference","blockquote","list"]],["list",function(t,e,n,r){let s,o,i,a,l=e,c=!0;if(t.sCount[l]-t.blkIndent>=4)return!1;if(t.listIndent>=0&&t.sCount[l]-t.listIndent>=4&&t.sCount[l]<t.blkIndent)return!1;let u,h,d,p=!1;if(r&&"paragraph"===t.parentType&&t.sCount[l]>=t.blkIndent&&(p=!0),(d=xc(t,l))>=0){if(u=!0,i=t.bMarks[l]+t.tShift[l],h=Number(t.src.slice(i,d-1)),p&&1!==h)return!1}else{if(!((d=vc(t,l))>=0))return!1;u=!1}if(p&&t.skipSpaces(d)>=t.eMarks[l])return!1;if(r)return!0;const f=t.src.charCodeAt(d-1),m=t.tokens.length;u?(a=t.push("ordered_list_open","ol",1),1!==h&&(a.attrs=[["start",h]])):a=t.push("bullet_list_open","ul",1);const g=[l,0];a.map=g,a.markup=String.fromCharCode(f);let k=!1;const _=t.md.block.ruler.getRules("list"),y=t.parentType;for(t.parentType="list";l<n;){o=d,s=t.eMarks[l];const e=t.sCount[l]+d-(t.bMarks[l]+t.tShift[l]);let r=e;for(;o<s;){const e=t.src.charCodeAt(o);if(9===e)r+=4-(r+t.bsCount[l])%4;else{if(32!==e)break;r++}o++}const h=o;let p;p=h>=s?1:r-e,p>4&&(p=1);const m=e+p;a=t.push("list_item_open","li",1),a.markup=String.fromCharCode(f);const g=[l,0];a.map=g,u&&(a.info=t.src.slice(i,d-1));const y=t.tight,b=t.tShift[l],C=t.sCount[l],A=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=m,t.tight=!0,t.tShift[l]=h-t.bMarks[l],t.sCount[l]=r,h>=s&&t.isEmpty(l+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,l,n,!0),t.tight&&!k||(c=!1),k=t.line-l>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=A,t.tShift[l]=b,t.sCount[l]=C,t.tight=y,a=t.push("list_item_close","li",-1),a.markup=String.fromCharCode(f),l=t.line,g[1]=l,l>=n)break;if(t.sCount[l]<t.blkIndent)break;if(t.sCount[l]-t.blkIndent>=4)break;let D=!1;for(let s=0,o=_.length;s<o;s++)if(_[s](t,l,n,!0)){D=!0;break}if(D)break;if(u){if(d=xc(t,l),d<0)break;i=t.bMarks[l]+t.tShift[l]}else if(d=vc(t,l),d<0)break;if(f!==t.src.charCodeAt(d-1))break}return a=u?t.push("ordered_list_close","ol",-1):t.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(f),g[1]=l,t.line=l,t.parentType=y,c&&function(t,e){const n=t.level+2;for(let r=e+2,s=t.tokens.length-2;r<s;r++)t.tokens[r].level===n&&"paragraph_open"===t.tokens[r].type&&(t.tokens[r+2].hidden=!0,t.tokens[r].hidden=!0,r+=2)}(t,m),!0},["paragraph","reference","blockquote"]],["reference",function(t,e,n,r){let s=t.bMarks[e]+t.tShift[e],o=t.eMarks[e],i=e+1;if(t.sCount[e]-t.blkIndent>=4)return!1;if(91!==t.src.charCodeAt(s))return!1;function a(e){const n=t.lineMax;if(e>=n||t.isEmpty(e))return null;let r=!1;if(t.sCount[e]-t.blkIndent>3&&(r=!0),t.sCount[e]<0&&(r=!0),!r){const r=t.md.block.ruler.getRules("reference"),s=t.parentType;t.parentType="reference";let o=!1;for(let i=0,a=r.length;i<a;i++)if(r[i](t,e,n,!0)){o=!0;break}if(t.parentType=s,o)return null}const s=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];return t.src.slice(s,o+1)}let l=t.src.slice(s,o+1);o=l.length;let c=-1;for(s=1;s<o;s++){const t=l.charCodeAt(s);if(91===t)return!1;if(93===t){c=s;break}if(10===t){const t=a(i);null!==t&&(l+=t,o=l.length,i++)}else if(92===t&&(s++,s<o&&10===l.charCodeAt(s))){const t=a(i);null!==t&&(l+=t,o=l.length,i++)}}if(c<0||58!==l.charCodeAt(c+1))return!1;for(s=c+2;s<o;s++){const t=l.charCodeAt(s);if(10===t){const t=a(i);null!==t&&(l+=t,o=l.length,i++)}else if(!Vl(t))break}const u=t.md.helpers.parseLinkDestination(l,s,o);if(!u.ok)return!1;const h=t.md.normalizeLink(u.str);if(!t.md.validateLink(h))return!1;s=u.pos;const d=s,p=i,f=s;for(;s<o;s++){const t=l.charCodeAt(s);if(10===t){const t=a(i);null!==t&&(l+=t,o=l.length,i++)}else if(!Vl(t))break}let m,g=t.md.helpers.parseLinkTitle(l,s,o);for(;g.can_continue;){const e=a(i);if(null===e)break;l+=e,s=o,o=l.length,i++,g=t.md.helpers.parseLinkTitle(l,s,o,g)}for(s<o&&f!==s&&g.ok?(m=g.str,s=g.pos):(m="",s=d,i=p);s<o;){if(!Vl(l.charCodeAt(s)))break;s++}if(s<o&&10!==l.charCodeAt(s)&&m)for(m="",s=d,i=p;s<o;){if(!Vl(l.charCodeAt(s)))break;s++}if(s<o&&10!==l.charCodeAt(s))return!1;const k=Kl(l.slice(1,c));return!!k&&(r||(void 0===t.env.references&&(t.env.references={}),void 0===t.env.references[k]&&(t.env.references[k]={title:m,href:h}),t.line=i),!0)}],["html_block",function(t,e,n,r){let s=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(!t.md.options.html)return!1;if(60!==t.src.charCodeAt(s))return!1;let i=t.src.slice(s,o),a=0;for(;a<Lc.length&&!Lc[a][0].test(i);a++);if(a===Lc.length)return!1;if(r)return Lc[a][2];let l=e+1;if(!Lc[a][1].test(i))for(;l<n&&!(t.sCount[l]<t.blkIndent);l++)if(s=t.bMarks[l]+t.tShift[l],o=t.eMarks[l],i=t.src.slice(s,o),Lc[a][1].test(i)){0!==i.length&&l++;break}t.line=l;const c=t.push("html_block","",0);return c.map=[e,l],c.content=t.getLines(e,l,t.blkIndent,!0),!0},["paragraph","reference","blockquote"]],["heading",function(t,e,n,r){let s=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let i=t.src.charCodeAt(s);if(35!==i||s>=o)return!1;let a=1;for(i=t.src.charCodeAt(++s);35===i&&s<o&&a<=6;)a++,i=t.src.charCodeAt(++s);if(a>6||s<o&&!Vl(i))return!1;if(r)return!0;o=t.skipSpacesBack(o,s);const l=t.skipCharsBack(o,35,s);l>s&&Vl(t.src.charCodeAt(l-1))&&(o=l),t.line=e+1;const c=t.push("heading_open","h"+String(a),1);c.markup="########".slice(0,a),c.map=[e,t.line];const u=t.push("inline","",0);return u.content=t.src.slice(s,o).trim(),u.map=[e,t.line],u.children=[],t.push("heading_close","h"+String(a),-1).markup="########".slice(0,a),!0},["paragraph","reference","blockquote"]],["lheading",function(t,e,n){const r=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const s=t.parentType;t.parentType="paragraph";let o,i=0,a=e+1;for(;a<n&&!t.isEmpty(a);a++){if(t.sCount[a]-t.blkIndent>3)continue;if(t.sCount[a]>=t.blkIndent){let e=t.bMarks[a]+t.tShift[a];const n=t.eMarks[a];if(e<n&&(o=t.src.charCodeAt(e),(45===o||61===o)&&(e=t.skipChars(e,o),e=t.skipSpaces(e),e>=n))){i=61===o?1:2;break}}if(t.sCount[a]<0)continue;let e=!1;for(let s=0,o=r.length;s<o;s++)if(r[s](t,a,n,!0)){e=!0;break}if(e)break}if(!i)return!1;const l=t.getLines(e,a,t.blkIndent,!1).trim();t.line=a+1;const c=t.push("heading_open","h"+String(i),1);c.markup=String.fromCharCode(o),c.map=[e,t.line];const u=t.push("inline","",0);return u.content=l,u.map=[e,t.line-1],u.children=[],t.push("heading_close","h"+String(i),-1).markup=String.fromCharCode(o),t.parentType=s,!0}],["paragraph",function(t,e,n){const r=t.md.block.ruler.getRules("paragraph"),s=t.parentType;let o=e+1;for(t.parentType="paragraph";o<n&&!t.isEmpty(o);o++){if(t.sCount[o]-t.blkIndent>3)continue;if(t.sCount[o]<0)continue;let e=!1;for(let s=0,i=r.length;s<i;s++)if(r[s](t,o,n,!0)){e=!0;break}if(e)break}const i=t.getLines(e,o,t.blkIndent,!1).trim();t.line=o,t.push("paragraph_open","p",1).map=[e,t.line];const a=t.push("inline","",0);return a.content=i,a.map=[e,t.line],a.children=[],t.push("paragraph_close","p",-1),t.parentType=s,!0}]];function Mc(){this.ruler=new ec;for(let t=0;t<Tc.length;t++)this.ruler.push(Tc[t][0],Tc[t][1],{alt:(Tc[t][2]||[]).slice()})}function zc(t,e,n,r){this.src=t,this.env=n,this.md=e,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}function Bc(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}Mc.prototype.tokenize=function(t,e,n){const r=this.ruler.getRules(""),s=r.length,o=t.md.options.maxNesting;let i=e,a=!1;for(;i<n&&(t.line=i=t.skipEmptyLines(i),!(i>=n))&&!(t.sCount[i]<t.blkIndent);){if(t.level>=o){t.line=n;break}const e=t.line;let l=!1;for(let o=0;o<s;o++)if(l=r[o](t,i,n,!1),l){if(e>=t.line)throw new Error("block rule didn't increment state.line");break}if(!l)throw new Error("none of the block rules matched");t.tight=!a,t.isEmpty(t.line-1)&&(a=!0),i=t.line,i<n&&t.isEmpty(i)&&(a=!0,i++,t.line=i)}},Mc.prototype.parse=function(t,e,n,r){if(!t)return;const s=new this.State(t,e,n,r);this.tokenize(s,s.line,s.lineMax)},Mc.prototype.State=Cc,zc.prototype.pushPending=function(){const t=new nc("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t},zc.prototype.push=function(t,e,n){this.pending&&this.pushPending();const r=new nc(t,e,n);let s=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],s={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(s),r},zc.prototype.scanDelims=function(t,e){const n=this.posMax,r=this.src.charCodeAt(t),s=t>0?this.src.charCodeAt(t-1):32;let o=t;for(;o<n&&this.src.charCodeAt(o)===r;)o++;const i=o-t,a=o<n?this.src.charCodeAt(o):32,l=Gl(s)||Wl(String.fromCharCode(s)),c=Gl(a)||Wl(String.fromCharCode(a)),u=Ul(s),h=Ul(a),d=!h&&(!c||u||l),p=!u&&(!l||h||c);return{can_open:d&&(e||!p||l),can_close:p&&(e||!d||c),length:i}},zc.prototype.Token=nc;const Ic=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;const Nc=[];for(let m=0;m<256;m++)Nc.push(0);function Oc(t,e){let n;const r=[],s=e.length;for(let o=0;o<s;o++){const s=e[o];if(126!==s.marker)continue;if(-1===s.end)continue;const i=e[s.end];n=t.tokens[s.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=t.tokens[i.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="","text"===t.tokens[i.token-1].type&&"~"===t.tokens[i.token-1].content&&r.push(i.token-1)}for(;r.length;){const e=r.pop();let s=e+1;for(;s<t.tokens.length&&"s_close"===t.tokens[s].type;)s++;s--,e!==s&&(n=t.tokens[s],t.tokens[s]=t.tokens[e],t.tokens[e]=n)}}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(t){Nc[t.charCodeAt(0)]=1}));const Hc={tokenize:function(t,e){const n=t.pos,r=t.src.charCodeAt(n);if(e)return!1;if(126!==r)return!1;const s=t.scanDelims(t.pos,!0);let o=s.length;const i=String.fromCharCode(r);if(o<2)return!1;let a;o%2&&(a=t.push("text","",0),a.content=i,o--);for(let l=0;l<o;l+=2)a=t.push("text","",0),a.content=i+i,t.delimiters.push({marker:r,length:0,token:t.tokens.length-1,end:-1,open:s.can_open,close:s.can_close});return t.pos+=s.length,!0},postProcess:function(t){const e=t.tokens_meta,n=t.tokens_meta.length;Oc(t,t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&Oc(t,e[r].delimiters)}};function Rc(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(95!==r.marker&&42!==r.marker)continue;if(-1===r.end)continue;const s=e[r.end],o=n>0&&e[n-1].end===r.end+1&&e[n-1].marker===r.marker&&e[n-1].token===r.token-1&&e[r.end+1].token===s.token+1,i=String.fromCharCode(r.marker),a=t.tokens[r.token];a.type=o?"strong_open":"em_open",a.tag=o?"strong":"em",a.nesting=1,a.markup=o?i+i:i,a.content="";const l=t.tokens[s.token];l.type=o?"strong_close":"em_close",l.tag=o?"strong":"em",l.nesting=-1,l.markup=o?i+i:i,l.content="",o&&(t.tokens[e[n-1].token].content="",t.tokens[e[r.end+1].token].content="",n--)}}const Pc={tokenize:function(t,e){const n=t.pos,r=t.src.charCodeAt(n);if(e)return!1;if(95!==r&&42!==r)return!1;const s=t.scanDelims(t.pos,42===r);for(let o=0;o<s.length;o++){t.push("text","",0).content=String.fromCharCode(r),t.delimiters.push({marker:r,length:s.length,token:t.tokens.length-1,end:-1,open:s.can_open,close:s.can_close})}return t.pos+=s.length,!0},postProcess:function(t){const e=t.tokens_meta,n=t.tokens_meta.length;Rc(t,t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&Rc(t,e[r].delimiters)}};const jc=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,qc=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;const $c=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Zc=/^&([a-z][a-z0-9]{1,31});/i;function Vc(t){const e={},n=t.length;if(!n)return;let r=0,s=-2;const o=[];for(let i=0;i<n;i++){const n=t[i];if(o.push(0),t[r].marker===n.marker&&s===n.token-1||(r=i),s=n.token,n.length=n.length||0,!n.close)continue;e.hasOwnProperty(n.marker)||(e[n.marker]=[-1,-1,-1,-1,-1,-1]);const a=e[n.marker][(n.open?3:0)+n.length%3];let l=r-o[r]-1,c=l;for(;l>a;l-=o[l]+1){const e=t[l];if(e.marker===n.marker&&(e.open&&e.end<0)){let r=!1;if((e.close||n.open)&&(e.length+n.length)%3==0&&(e.length%3==0&&n.length%3==0||(r=!0)),!r){const r=l>0&&!t[l-1].open?o[l-1]+1:0;o[i]=i-l+r,o[l]=r,n.open=!1,e.end=i,e.close=!1,c=-1,s=-2;break}}}-1!==c&&(e[n.marker][(n.open?3:0)+(n.length||0)%3]=c)}}const Uc=[["text",function(t,e){let n=t.pos;for(;n<t.posMax&&!Bc(t.src.charCodeAt(n));)n++;return n!==t.pos&&(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}],["linkify",function(t,e){if(!t.md.options.linkify)return!1;if(t.linkLevel>0)return!1;const n=t.pos;if(n+3>t.posMax)return!1;if(58!==t.src.charCodeAt(n))return!1;if(47!==t.src.charCodeAt(n+1))return!1;if(47!==t.src.charCodeAt(n+2))return!1;const r=t.pending.match(Ic);if(!r)return!1;const s=r[1],o=t.md.linkify.matchAtStart(t.src.slice(n-s.length));if(!o)return!1;let i=o.url;if(i.length<=s.length)return!1;i=i.replace(/\*+$/,"");const a=t.md.normalizeLink(i);if(!t.md.validateLink(a))return!1;if(!e){t.pending=t.pending.slice(0,-s.length);const e=t.push("link_open","a",1);e.attrs=[["href",a]],e.markup="linkify",e.info="auto";t.push("text","",0).content=t.md.normalizeLinkText(i);const n=t.push("link_close","a",-1);n.markup="linkify",n.info="auto"}return t.pos+=i.length-s.length,!0}],["newline",function(t,e){let n=t.pos;if(10!==t.src.charCodeAt(n))return!1;const r=t.pending.length-1,s=t.posMax;if(!e)if(r>=0&&32===t.pending.charCodeAt(r))if(r>=1&&32===t.pending.charCodeAt(r-1)){let e=r-1;for(;e>=1&&32===t.pending.charCodeAt(e-1);)e--;t.pending=t.pending.slice(0,e),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(n++;n<s&&Vl(t.src.charCodeAt(n));)n++;return t.pos=n,!0}],["escape",function(t,e){let n=t.pos;const r=t.posMax;if(92!==t.src.charCodeAt(n))return!1;if(n++,n>=r)return!1;let s=t.src.charCodeAt(n);if(10===s){for(e||t.push("hardbreak","br",0),n++;n<r&&(s=t.src.charCodeAt(n),Vl(s));)n++;return t.pos=n,!0}let o=t.src[n];if(s>=55296&&s<=56319&&n+1<r){const e=t.src.charCodeAt(n+1);e>=56320&&e<=57343&&(o+=t.src[n+1],n++)}const i="\\"+o;if(!e){const e=t.push("text_special","",0);s<256&&0!==Nc[s]?e.content=o:e.content=i,e.markup=i,e.info="escape"}return t.pos=n+1,!0}],["backticks",function(t,e){let n=t.pos;if(96!==t.src.charCodeAt(n))return!1;const r=n;n++;const s=t.posMax;for(;n<s&&96===t.src.charCodeAt(n);)n++;const o=t.src.slice(r,n),i=o.length;if(t.backticksScanned&&(t.backticks[i]||0)<=r)return e||(t.pending+=o),t.pos+=i,!0;let a,l=n;for(;-1!==(a=t.src.indexOf("`",l));){for(l=a+1;l<s&&96===t.src.charCodeAt(l);)l++;const r=l-a;if(r===i){if(!e){const e=t.push("code_inline","code",0);e.markup=o,e.content=t.src.slice(n,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=l,!0}t.backticks[r]=a}return t.backticksScanned=!0,e||(t.pending+=o),t.pos+=i,!0}],["strikethrough",Hc.tokenize],["emphasis",Pc.tokenize],["link",function(t,e){let n,r,s,o,i="",a="",l=t.pos,c=!0;if(91!==t.src.charCodeAt(t.pos))return!1;const u=t.pos,h=t.posMax,d=t.pos+1,p=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(p<0)return!1;let f=p+1;if(f<h&&40===t.src.charCodeAt(f)){for(c=!1,f++;f<h&&(n=t.src.charCodeAt(f),Vl(n)||10===n);f++);if(f>=h)return!1;if(l=f,s=t.md.helpers.parseLinkDestination(t.src,f,t.posMax),s.ok){for(i=t.md.normalizeLink(s.str),t.md.validateLink(i)?f=s.pos:i="",l=f;f<h&&(n=t.src.charCodeAt(f),Vl(n)||10===n);f++);if(s=t.md.helpers.parseLinkTitle(t.src,f,t.posMax),f<h&&l!==f&&s.ok)for(a=s.str,f=s.pos;f<h&&(n=t.src.charCodeAt(f),Vl(n)||10===n);f++);}(f>=h||41!==t.src.charCodeAt(f))&&(c=!0),f++}if(c){if(void 0===t.env.references)return!1;if(f<h&&91===t.src.charCodeAt(f)?(l=f+1,f=t.md.helpers.parseLinkLabel(t,f),f>=0?r=t.src.slice(l,f++):f=p+1):f=p+1,r||(r=t.src.slice(d,p)),o=t.env.references[Kl(r)],!o)return t.pos=u,!1;i=o.href,a=o.title}if(!e){t.pos=d,t.posMax=p;const e=[["href",i]];t.push("link_open","a",1).attrs=e,a&&e.push(["title",a]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=f,t.posMax=h,!0}],["image",function(t,e){let n,r,s,o,i,a,l,c,u="";const h=t.pos,d=t.posMax;if(33!==t.src.charCodeAt(t.pos))return!1;if(91!==t.src.charCodeAt(t.pos+1))return!1;const p=t.pos+2,f=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(f<0)return!1;if(o=f+1,o<d&&40===t.src.charCodeAt(o)){for(o++;o<d&&(n=t.src.charCodeAt(o),Vl(n)||10===n);o++);if(o>=d)return!1;for(c=o,a=t.md.helpers.parseLinkDestination(t.src,o,t.posMax),a.ok&&(u=t.md.normalizeLink(a.str),t.md.validateLink(u)?o=a.pos:u=""),c=o;o<d&&(n=t.src.charCodeAt(o),Vl(n)||10===n);o++);if(a=t.md.helpers.parseLinkTitle(t.src,o,t.posMax),o<d&&c!==o&&a.ok)for(l=a.str,o=a.pos;o<d&&(n=t.src.charCodeAt(o),Vl(n)||10===n);o++);else l="";if(o>=d||41!==t.src.charCodeAt(o))return t.pos=h,!1;o++}else{if(void 0===t.env.references)return!1;if(o<d&&91===t.src.charCodeAt(o)?(c=o+1,o=t.md.helpers.parseLinkLabel(t,o),o>=0?s=t.src.slice(c,o++):o=f+1):o=f+1,s||(s=t.src.slice(p,f)),i=t.env.references[Kl(s)],!i)return t.pos=h,!1;u=i.href,l=i.title}if(!e){r=t.src.slice(p,f);const e=[];t.md.inline.parse(r,t.md,t.env,e);const n=t.push("image","img",0),s=[["src",u],["alt",""]];n.attrs=s,n.children=e,n.content=r,l&&s.push(["title",l])}return t.pos=o,t.posMax=d,!0}],["autolink",function(t,e){let n=t.pos;if(60!==t.src.charCodeAt(n))return!1;const r=t.pos,s=t.posMax;for(;;){if(++n>=s)return!1;const e=t.src.charCodeAt(n);if(60===e)return!1;if(62===e)break}const o=t.src.slice(r+1,n);if(qc.test(o)){const n=t.md.normalizeLink(o);if(!t.md.validateLink(n))return!1;if(!e){const e=t.push("link_open","a",1);e.attrs=[["href",n]],e.markup="autolink",e.info="auto";t.push("text","",0).content=t.md.normalizeLinkText(o);const r=t.push("link_close","a",-1);r.markup="autolink",r.info="auto"}return t.pos+=o.length+2,!0}if(jc.test(o)){const n=t.md.normalizeLink("mailto:"+o);if(!t.md.validateLink(n))return!1;if(!e){const e=t.push("link_open","a",1);e.attrs=[["href",n]],e.markup="autolink",e.info="auto";t.push("text","",0).content=t.md.normalizeLinkText(o);const r=t.push("link_close","a",-1);r.markup="autolink",r.info="auto"}return t.pos+=o.length+2,!0}return!1}],["html_inline",function(t,e){if(!t.md.options.html)return!1;const n=t.posMax,r=t.pos;if(60!==t.src.charCodeAt(r)||r+2>=n)return!1;const s=t.src.charCodeAt(r+1);if(33!==s&&63!==s&&47!==s&&!function(t){const e=32|t;return e>=97&&e<=122}(s))return!1;const o=t.src.slice(r).match(Fc);if(!o)return!1;if(!e){const e=t.push("html_inline","",0);e.content=o[0],i=e.content,/^<a[>\s]/i.test(i)&&t.linkLevel++,function(t){return/^<\/a\s*>/i.test(t)}(e.content)&&t.linkLevel--}var i;return t.pos+=o[0].length,!0}],["entity",function(t,e){const n=t.pos,r=t.posMax;if(38!==t.src.charCodeAt(n))return!1;if(n+1>=r)return!1;if(35===t.src.charCodeAt(n+1)){const r=t.src.slice(n).match($c);if(r){if(!e){const e="x"===r[1][0].toLowerCase()?parseInt(r[1].slice(1),16):parseInt(r[1],10),n=t.push("text_special","",0);n.content=zl(e)?Bl(e):Bl(65533),n.markup=r[0],n.info="entity"}return t.pos+=r[0].length,!0}}else{const r=t.src.slice(n).match(Zc);if(r){const n=Zo(r[0]);if(n!==r[0]){if(!e){const e=t.push("text_special","",0);e.content=n,e.markup=r[0],e.info="entity"}return t.pos+=r[0].length,!0}}}return!1}]],Wc=[["balance_pairs",function(t){const e=t.tokens_meta,n=t.tokens_meta.length;Vc(t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&Vc(e[r].delimiters)}],["strikethrough",Hc.postProcess],["emphasis",Pc.postProcess],["fragments_join",function(t){let e,n,r=0;const s=t.tokens,o=t.tokens.length;for(e=n=0;e<o;e++)s[e].nesting<0&&r--,s[e].level=r,s[e].nesting>0&&r++,"text"===s[e].type&&e+1<o&&"text"===s[e+1].type?s[e+1].content=s[e].content+s[e+1].content:(e!==n&&(s[n]=s[e]),n++);e!==n&&(s.length=n)}]];function Gc(){this.ruler=new ec;for(let t=0;t<Uc.length;t++)this.ruler.push(Uc[t][0],Uc[t][1]);this.ruler2=new ec;for(let t=0;t<Wc.length;t++)this.ruler2.push(Wc[t][0],Wc[t][1])}function Kc(t){return Array.prototype.slice.call(arguments,1).forEach((function(e){e&&Object.keys(e).forEach((function(n){t[n]=e[n]}))})),t}function Jc(t){return Object.prototype.toString.call(t)}function Qc(t){return"[object Function]"===Jc(t)}function Yc(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}Gc.prototype.skipToken=function(t){const e=t.pos,n=this.ruler.getRules(""),r=n.length,s=t.md.options.maxNesting,o=t.cache;if(void 0!==o[e])return void(t.pos=o[e]);let i=!1;if(t.level<s){for(let a=0;a<r;a++)if(t.level++,i=n[a](t,!0),t.level--,i){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;i||t.pos++,o[e]=t.pos},Gc.prototype.tokenize=function(t){const e=this.ruler.getRules(""),n=e.length,r=t.posMax,s=t.md.options.maxNesting;for(;t.pos<r;){const o=t.pos;let i=!1;if(t.level<s)for(let r=0;r<n;r++)if(i=e[r](t,!1),i){if(o>=t.pos)throw new Error("inline rule didn't increment state.pos");break}if(i){if(t.pos>=r)break}else t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()},Gc.prototype.parse=function(t,e,n,r){const s=new this.State(t,e,n,r);this.tokenize(s);const o=this.ruler2.getRules(""),i=o.length;for(let a=0;a<i;a++)o[a](s)},Gc.prototype.State=zc;const Xc={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};const tu={"http:":{validate:function(t,e,n){const r=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?e>=3&&":"===t[e-3]||e>=3&&"/"===t[e-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},eu="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",nu="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function ru(t){const e=t.re=function(t){const e={};t=t||{},e.src_Any=Dl.source,e.src_Cc=vl.source,e.src_Z=wl.source,e.src_P=xl.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><]";return e.src_pseudo_letter="(?:(?![><]|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|[><]|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+"|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy='(^|[><]|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}(t.__opts__),n=t.__tlds__.slice();function r(t){return t.replace("%TLDS%",e.src_tlds)}t.onCompile(),t.__tlds_replaced__||n.push(eu),n.push(e.src_xn),e.src_tlds=n.join("|"),e.email_fuzzy=RegExp(r(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(r(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(r(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(r(e.tpl_host_fuzzy_test),"i");const s=[];function o(t,e){throw new Error('(LinkifyIt) Invalid schema "'+t+'": '+e)}t.__compiled__={},Object.keys(t.__schemas__).forEach((function(e){const n=t.__schemas__[e];if(null===n)return;const r={validate:null,link:null};if(t.__compiled__[e]=r,"[object Object]"===Jc(n))return!function(t){return"[object RegExp]"===Jc(t)}(n.validate)?Qc(n.validate)?r.validate=n.validate:o(e,n):r.validate=function(t){return function(e,n){const r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}(n.validate),void(Qc(n.normalize)?r.normalize=n.normalize:n.normalize?o(e,n):r.normalize=function(t,e){e.normalize(t)});!function(t){return"[object String]"===Jc(t)}(n)?o(e,n):s.push(e)})),s.forEach((function(e){t.__compiled__[t.__schemas__[e]]&&(t.__compiled__[e].validate=t.__compiled__[t.__schemas__[e]].validate,t.__compiled__[e].normalize=t.__compiled__[t.__schemas__[e]].normalize)})),t.__compiled__[""]={validate:null,normalize:function(t,e){e.normalize(t)}};const i=Object.keys(t.__compiled__).filter((function(e){return e.length>0&&t.__compiled__[e]})).map(Yc).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+i+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+i+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),function(t){t.__index__=-1,t.__text_cache__=""}(t)}function su(t,e){const n=t.__index__,r=t.__last_index__,s=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=s,this.text=s,this.url=s}function ou(t,e){const n=new su(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function iu(t,e){if(!(this instanceof iu))return new iu(t,e);var n;e||(n=t,Object.keys(n||{}).reduce((function(t,e){return t||Xc.hasOwnProperty(e)}),!1)&&(e=t,t={})),this.__opts__=Kc({},Xc,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Kc({},tu,t),this.__compiled__={},this.__tlds__=nu,this.__tlds_replaced__=!1,this.re={},ru(this)}iu.prototype.add=function(t,e){return this.__schemas__[t]=e,ru(this),this},iu.prototype.set=function(t){return this.__opts__=Kc(this.__opts__,t),this},iu.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let e,n,r,s,o,i,a,l,c;if(this.re.schema_test.test(t))for(a=this.re.schema_search,a.lastIndex=0;null!==(e=a.exec(t));)if(s=this.testSchemaAt(t,e[2],a.lastIndex),s){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+s;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=t.search(this.re.host_fuzzy_test),l>=0&&(this.__index__<0||l<this.__index__)&&null!==(n=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(c=t.indexOf("@"),c>=0&&null!==(r=t.match(this.re.email_fuzzy))&&(o=r.index+r[1].length,i=r.index+r[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&i>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=i))),this.__index__>=0},iu.prototype.pretest=function(t){return this.re.pretest.test(t)},iu.prototype.testSchemaAt=function(t,e,n){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(t,n,this):0},iu.prototype.match=function(t){const e=[];let n=0;this.__index__>=0&&this.__text_cache__===t&&(e.push(ou(this,n)),n=this.__last_index__);let r=n?t.slice(n):t;for(;this.test(r);)e.push(ou(this,n)),r=r.slice(this.__last_index__),n+=this.__last_index__;return e.length?e:null},iu.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const e=this.re.schema_at_start.exec(t);if(!e)return null;const n=this.testSchemaAt(t,e[2],e[0].length);return n?(this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+n,ou(this,0)):null},iu.prototype.tlds=function(t,e){return t=Array.isArray(t)?t:[t],e?(this.__tlds__=this.__tlds__.concat(t).sort().filter((function(t,e,n){return t!==n[e-1]})).reverse(),ru(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,ru(this),this)},iu.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),"mailto:"!==t.schema||/^mailto:/i.test(t.url)||(t.url="mailto:"+t.url)},iu.prototype.onCompile=function(){};const au={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},zero:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},lu=/^(vbscript|javascript|file|data):/,cu=/^data:image\/(gif|png|jpeg|webp);/;function uu(t){const e=t.trim().toLowerCase();return!lu.test(e)||cu.test(e)}const hu=["http:","https:","mailto:"];function du(t){const e=Cl(t,!0);if(e.hostname&&(!e.protocol||hu.indexOf(e.protocol)>=0))try{e.hostname=Ha.toASCII(e.hostname)}catch(n){}return al(ll(e))}function pu(t){const e=Cl(t,!0);if(e.hostname&&(!e.protocol||hu.indexOf(e.protocol)>=0))try{e.hostname=Ha.toUnicode(e.hostname)}catch(n){}return ol(ll(e),ol.defaultChars+"%")}function fu(t,e){if(!(this instanceof fu))return new fu(t,e);e||Sl(t)||(e=t||{},t="default"),this.inline=new Gc,this.block=new Mc,this.core=new bc,this.renderer=new tc,this.linkify=new iu,this.validateLink=uu,this.normalizeLink=du,this.normalizeLinkText=pu,this.utils=Ql,this.helpers=Tl({},Yl),this.options={},this.configure(t),e&&this.set(e)}var mu,gu;fu.prototype.set=function(t){return Tl(this.options,t),this},fu.prototype.configure=function(t){const e=this;if(Sl(t)){const e=t;if(!(t=au[e]))throw new Error('Wrong `markdown-it` preset "'+e+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach((function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)})),this},fu.prototype.enable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach((function(e){n=n.concat(this[e].ruler.enable(t,!0))}),this),n=n.concat(this.inline.ruler2.enable(t,!0));const r=t.filter((function(t){return n.indexOf(t)<0}));if(r.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},fu.prototype.disable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach((function(e){n=n.concat(this[e].ruler.disable(t,!0))}),this),n=n.concat(this.inline.ruler2.disable(t,!0));const r=t.filter((function(t){return n.indexOf(t)<0}));if(r.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},fu.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this},fu.prototype.parse=function(t,e){if("string"!=typeof t)throw new Error("Input data should be a String");const n=new this.core.State(t,this,e);return this.core.process(n),n.tokens},fu.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)},fu.prototype.parseInline=function(t,e){const n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens},fu.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};const ku=Jt(function(){if(gu)return mu;gu=1;var t=!0,e=!1,n=!1;function r(t,e,n){var r=t.attrIndex(e),s=[e,n];r<0?t.attrPush(s):t.attrs[r]=s}function s(t,e){for(var n=t[e].level-1,r=e-1;r>=0;r--)if(t[r].level===n)return r;return-1}function o(t,e){return"inline"===t[e].type&&function(t){return"paragraph_open"===t.type}(t[e-1])&&function(t){return"list_item_open"===t.type}(t[e-2])&&function(t){return 0===t.content.indexOf("[ ] ")||0===t.content.indexOf("[x] ")||0===t.content.indexOf("[X] ")}(t[e])}function i(r,s){if(r.children.unshift(function(e,n){var r=new n("html_inline","",0),s=t?' disabled="" ':"";0===e.content.indexOf("[ ] ")?r.content='<input class="task-list-item-checkbox"'+s+'type="checkbox">':0!==e.content.indexOf("[x] ")&&0!==e.content.indexOf("[X] ")||(r.content='<input class="task-list-item-checkbox" checked=""'+s+'type="checkbox">');return r}(r,s)),r.children[1].content=r.children[1].content.slice(3),r.content=r.content.slice(3),e)if(n){r.children.pop();var o="task-item-"+Math.ceil(1e7*Math.random()-1e3);r.children[0].content=r.children[0].content.slice(0,-1)+' id="'+o+'">',r.children.push(function(t,e,n){var r=new n("html_inline","",0);return r.content='<label class="task-list-item-label" for="'+e+'">'+t+"</label>",r.attrs=[{for:e}],r}(r.content,o,s))}else r.children.unshift(function(t){var e=new t("html_inline","",0);return e.content="<label>",e}(s)),r.children.push(function(t){var e=new t("html_inline","",0);return e.content="</label>",e}(s))}return mu=function(a,l){l&&(t=!l.enabled,e=!!l.label,n=!!l.labelAfter),a.core.ruler.after("inline","github-task-lists",(function(e){for(var n=e.tokens,a=2;a<n.length;a++)o(n,a)&&(i(n[a],e.Token),r(n[a-2],"class","task-list-item"+(t?"":" enabled")),r(n[s(n,a-2)],"class","contains-task-list"))}))}}());var _u=Object.defineProperty,yu=(t,e,n)=>(((t,e,n)=>{e in t?_u(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(t,"symbol"!=typeof e?e+"":e,n),n);const bu=A.create({name:"markdownTightLists",addOptions:()=>({tight:!0,tightClass:"tight",listTypes:["bulletList","orderedList"]}),addGlobalAttributes(){return[{types:this.options.listTypes,attributes:{tight:{default:this.options.tight,parseHTML:t=>"true"===t.getAttribute("data-tight")||!t.querySelector("p"),renderHTML:t=>({class:t.tight?this.options.tightClass:null,"data-tight":t.tight?"true":null})}}}]},addCommands(){var t=this;return{toggleTight:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return n=>{let{editor:r,commands:s}=n;return t.options.listTypes.some((t=>function(t){if(!r.isActive(t))return!1;const n=r.getAttributes(t);return s.updateAttributes(t,{tight:null!=e?e:!(null!=n&&n.tight)})}(t)))}}}}}),Cu=fu();function Au(t,e){Cu.inline.State.prototype.scanDelims.call({src:t,posMax:t.length});return new Cu.inline.State(t,null,null,[]).scanDelims(e,!0)}function Du(t,e,n,r){let s=t.substring(0,n)+t.substring(n+e.length);return s=s.substring(0,n+r)+e+s.substring(n+r),s}function vu(t,e,n,r){let s={text:t,from:n,to:r};return s=function(t,e,n,r){let s=n,o=t;for(;s<r&&!Au(o,s).can_open;)o=Du(o,e,s,1),s++;return{text:o,from:s,to:r}}(s.text,e,s.from,s.to),s=function(t,e,n,r){let s=r,o=t;for(;s>n&&!Au(o,s).can_close;)o=Du(o,e,s,-1),s--;return{text:o,from:n,to:s}}(s.text,e,s.from,s.to),s.to-s.from<e.length+1&&(s.text=s.text.substring(0,s.from)+s.text.substring(s.to+e.length)),s.text}class xu extends rl{constructor(t,e,n){super(t,e,null!=n?n:{}),yu(this,"inTable",!1),this.inlines=[]}render(t,e,n){super.render(t,e,n);const r=this.inlines[this.inlines.length-1];if(null!=r&&r.start&&null!=r&&r.end){const{delimiter:t,start:e,end:n}=this.normalizeInline(r);this.out=vu(this.out,t,e,n),this.inlines.pop()}}markString(t,e,n,r){const s=this.marks[t.type.name];if(s.expelEnclosingWhitespace)if(e)this.inlines.push({start:this.out.length,delimiter:s.open});else{const t=this.inlines.pop();this.inlines.push({...t,end:this.out.length})}return super.markString(t,e,n,r)}normalizeInline(t){let{start:e,end:n}=t;for(;this.out.charAt(e).match(/\s/);)e++;return{...t,start:e}}}const Eu=h.create({name:"markdownHTMLMark",addStorage:()=>({markdown:{serialize:{open(t,e){var n,r;return this.editor.storage.markdown.options.html?null!==(n=null===(r=wu(e))||void 0===r?void 0:r[0])&&void 0!==n?n:"":(console.warn(`Tiptap Markdown: "${e.type.name}" mark is only available in html mode`),"")},close(t,e){var n,r;return this.editor.storage.markdown.options.html&&null!==(n=null===(r=wu(e))||void 0===r?void 0:r[1])&&void 0!==n?n:""}},parse:{}}})});function wu(t){const e=t.type.schema,n=e.text(" ",[t]),r=$(x.from(n),e).match(/^(<.*?>) (<\/.*?>)$/);return r?[r[1],r[2]]:null}function Fu(t){const e=`<body>${t}</body>`;return(new window.DOMParser).parseFromString(e,"text/html").body}const Su=l.create({name:"markdownHTMLNode",addStorage:()=>({markdown:{serialize(t,e,n){this.editor.storage.markdown.options.html?t.write(function(t,e){const n=t.type.schema,r=$(x.from(t),n);if(t.isBlock&&(e instanceof x||e.type.name===n.topNodeType.name))return function(t){const e=Fu(t),n=e.firstElementChild;return n.innerHTML=n.innerHTML.trim()?`\n${n.innerHTML}\n`:"\n",n.outerHTML}(r);return r}(e,n)):(console.warn(`Tiptap Markdown: "${e.type.name}" node is only available in html mode`),t.write(`[${e.type.name}]`)),e.isBlock&&t.closeBlock(e)},parse:{}}})});const Lu=l.create({name:"blockquote"}).extend({addStorage:()=>({markdown:{serialize:el.nodes.blockquote,parse:{}}})}),Tu=l.create({name:"bulletList"}).extend({addStorage:()=>({markdown:{serialize(t,e){return t.renderList(e,"  ",(()=>(this.editor.storage.markdown.options.bulletListMarker||"-")+" "))},parse:{}}})}),Mu=l.create({name:"codeBlock"}).extend({addStorage:()=>({markdown:{serialize(t,e){t.write("```"+(e.attrs.language||"")+"\n"),t.text(e.textContent,!1),t.ensureNewLine(),t.write("```"),t.closeBlock(e)},parse:{setup(t){var e;t.set({langPrefix:null!==(e=this.options.languageClassPrefix)&&void 0!==e?e:"language-"})},updateDOM(t){t.innerHTML=t.innerHTML.replace(/\n<\/code><\/pre>/g,"</code></pre>")}}}})}),zu=l.create({name:"hardBreak"}).extend({addStorage:()=>({markdown:{serialize(t,e,n,r){for(let s=r+1;s<n.childCount;s++)if(n.child(s).type!=e.type)return void t.write(t.inTable?Su.storage.markdown.serialize.call(this,t,e,n):"\\\n")},parse:{}}})}),Bu=l.create({name:"heading"}).extend({addStorage:()=>({markdown:{serialize:el.nodes.heading,parse:{}}})}),Iu=l.create({name:"horizontalRule"}).extend({addStorage:()=>({markdown:{serialize:el.nodes.horizontal_rule,parse:{}}})}),Nu=l.create({name:"image"}).extend({addStorage:()=>({markdown:{serialize:el.nodes.image,parse:{}}})}),Ou=l.create({name:"listItem"}).extend({addStorage:()=>({markdown:{serialize:el.nodes.list_item,parse:{}}})});const Hu=l.create({name:"orderedList"}).extend({addStorage:()=>({markdown:{serialize(t,e,n,r){const s=e.attrs.start||1,o=String(s+e.childCount-1).length,i=t.repeat(" ",o+2),a=function(t,e,n){let r=0;for(;n-r>0&&e.child(n-r-1).type.name===t.type.name;r++);return r}(e,n,r),l=a%2?") ":". ";t.renderList(e,i,(e=>{const n=String(s+e);return t.repeat(" ",o-n.length)+n+l}))},parse:{}}})}),Ru=l.create({name:"paragraph"}).extend({addStorage:()=>({markdown:{serialize:el.nodes.paragraph,parse:{}}})});function Pu(t){var e,n;return null!==(e=null==t||null===(n=t.content)||void 0===n?void 0:n.content)&&void 0!==e?e:[]}const ju=l.create({name:"table"}).extend({addStorage:()=>({markdown:{serialize(t,e,n){!function(t){const e=Pu(t),n=e[0],r=e.slice(1);if(Pu(n).some((t=>"tableHeader"!==t.type.name||qu(t)||t.childCount>1)))return!1;if(r.some((t=>Pu(t).some((t=>"tableHeader"===t.type.name||qu(t)||t.childCount>1)))))return!1;return!0}(e)?Su.storage.markdown.serialize.call(this,t,e,n):(t.inTable=!0,e.forEach(((e,n,r)=>{if(t.write("| "),e.forEach(((e,n,r)=>{r&&t.write(" | ");const s=e.firstChild;s.textContent.trim()&&t.renderInline(s)})),t.write(" |"),t.ensureNewLine(),!r){const n=Array.from({length:e.childCount}).map((()=>"---")).join(" | ");t.write(`| ${n} |`),t.ensureNewLine()}})),t.closeBlock(e),t.inTable=!1)},parse:{}}})});function qu(t){return t.attrs.colspan>1||t.attrs.rowspan>1}const $u=l.create({name:"taskItem"}).extend({addStorage:()=>({markdown:{serialize(t,e){const n=e.attrs.checked?"[x]":"[ ]";t.write(`${n} `),t.renderContent(e)},parse:{updateDOM(t){[...t.querySelectorAll(".task-list-item")].forEach((t=>{const e=t.querySelector("input");t.setAttribute("data-type","taskItem"),e&&(t.setAttribute("data-checked",e.checked),e.remove())}))}}}})}),Zu=l.create({name:"taskList"}).extend({addStorage:()=>({markdown:{serialize:Tu.storage.markdown.serialize,parse:{setup(t){t.use(ku)},updateDOM(t){[...t.querySelectorAll(".contains-task-list")].forEach((t=>{t.setAttribute("data-type","taskList")}))}}}})}),Vu=l.create({name:"text"}).extend({addStorage:()=>({markdown:{serialize(t,e){var n;t.text(null==(n=e.text)?void 0:n.replace(/</g,"&lt;").replace(/>/g,"&gt;"))},parse:{}}})}),Uu=h.create({name:"bold"}).extend({addStorage:()=>({markdown:{serialize:el.marks.strong,parse:{}}})}),Wu=h.create({name:"code"}).extend({addStorage:()=>({markdown:{serialize:el.marks.code,parse:{}}})}),Gu=h.create({name:"italic"}).extend({addStorage:()=>({markdown:{serialize:el.marks.em,parse:{}}})}),Ku=h.create({name:"link"}).extend({addStorage:()=>({markdown:{serialize:el.marks.link,parse:{}}})}),Ju=h.create({name:"strike"}).extend({addStorage:()=>({markdown:{serialize:{open:"~~",close:"~~",expelEnclosingWhitespace:!0},parse:{}}})}),Qu=[Lu,Tu,Mu,zu,Bu,Iu,Su,Nu,Ou,Hu,Ru,ju,$u,Zu,Vu,Uu,Wu,Eu,Gu,Ku,Ju];function Yu(t){var e,n;const r=null===(e=t.storage)||void 0===e?void 0:e.markdown,s=null===(n=Qu.find((e=>e.name===t.name)))||void 0===n?void 0:n.storage.markdown;return r||s?{...s,...r}:null}class Xu{constructor(t){yu(this,"editor",null),this.editor=t}serialize(t){const e=new xu(this.nodes,this.marks,{hardBreakNodeName:zu.name});return e.renderContent(t),e.out}get nodes(){var t;return{...Object.fromEntries(Object.keys(this.editor.schema.nodes).map((t=>[t,this.serializeNode(Su)]))),...Object.fromEntries(null!==(t=this.editor.extensionManager.extensions.filter((t=>"node"===t.type&&this.serializeNode(t))).map((t=>[t.name,this.serializeNode(t)])))&&void 0!==t?t:[])}}get marks(){var t;return{...Object.fromEntries(Object.keys(this.editor.schema.marks).map((t=>[t,this.serializeMark(Eu)]))),...Object.fromEntries(null!==(t=this.editor.extensionManager.extensions.filter((t=>"mark"===t.type&&this.serializeMark(t))).map((t=>[t.name,this.serializeMark(t)])))&&void 0!==t?t:[])}}serializeNode(t){var e;return null===(e=Yu(t))||void 0===e||null===(e=e.serialize)||void 0===e?void 0:e.bind({editor:this.editor,options:t.options})}serializeMark(t){var e;const n=null===(e=Yu(t))||void 0===e?void 0:e.serialize;return n?{...n,open:"function"==typeof n.open?n.open.bind({editor:this.editor,options:t.options}):n.open,close:"function"==typeof n.close?n.close.bind({editor:this.editor,options:t.options}):n.close}:null}}class th{constructor(t,e){yu(this,"editor",null),yu(this,"md",null);let{html:n,linkify:r,breaks:s}=e;this.editor=t,this.md=this.withPatchedRenderer(fu({html:n,linkify:r,breaks:s}))}parse(t){let{inline:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof t){this.editor.extensionManager.extensions.forEach((t=>{var e;return null===(e=Yu(t))||void 0===e||null===(e=e.parse)||void 0===e||null===(e=e.setup)||void 0===e?void 0:e.call({editor:this.editor,options:t.options},this.md)}));const n=Fu(this.md.render(t));return this.editor.extensionManager.extensions.forEach((t=>{var e;return null===(e=Yu(t))||void 0===e||null===(e=e.parse)||void 0===e||null===(e=e.updateDOM)||void 0===e?void 0:e.call({editor:this.editor,options:t.options},n)})),this.normalizeDOM(n,{inline:e,content:t}),n.innerHTML}return t}normalizeDOM(t,e){let{inline:n,content:r}=e;return this.normalizeBlocks(t),t.querySelectorAll("*").forEach((t=>{var e;(null===(e=t.nextSibling)||void 0===e?void 0:e.nodeType)!==Node.TEXT_NODE||t.closest("pre")||(t.nextSibling.textContent=t.nextSibling.textContent.replace(/^\n/,""))})),n&&this.normalizeInline(t,r),t}normalizeBlocks(t){const e=Object.values(this.editor.schema.nodes).filter((t=>t.isBlock)).map((t=>{var e;return null===(e=t.spec.parseDOM)||void 0===e?void 0:e.map((t=>t.tag))})).flat().filter(Boolean).join(",");e&&[...t.querySelectorAll(e)].forEach((t=>{t.parentElement.matches("p")&&function(t){const e=t.parentElement,n=e.cloneNode();for(;e.firstChild&&e.firstChild!==t;)n.appendChild(e.firstChild);n.childNodes.length>0&&e.parentElement.insertBefore(n,e),e.parentElement.insertBefore(t,e),0===e.childNodes.length&&e.remove()}(t)}))}normalizeInline(t,e){var n;if(null!==(n=t.firstElementChild)&&void 0!==n&&n.matches("p")){var r,s,o,i;const n=t.firstElementChild,{nextElementSibling:a}=n,l=null!==(r=null===(s=e.match(/^\s+/))||void 0===s?void 0:s[0])&&void 0!==r?r:"",c=a?"":null!==(o=null===(i=e.match(/\s+$/))||void 0===i?void 0:i[0])&&void 0!==o?o:"";if(e.match(/^\n\n/))return void(n.innerHTML=`${n.innerHTML}${c}`);!function(t){const e=t.parentNode;for(;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)}(n),t.innerHTML=`${l}${t.innerHTML}${c}`}}withPatchedRenderer(t){const e=t=>function(){const e=t(...arguments);return"\n"===e?e:"\n"===e[e.length-1]?e.slice(0,-1):e};return t.renderer.rules.hardbreak=e(t.renderer.rules.hardbreak),t.renderer.rules.softbreak=e(t.renderer.rules.softbreak),t.renderer.rules.fence=e(t.renderer.rules.fence),t.renderer.rules.code_block=e(t.renderer.rules.code_block),t.renderer.renderToken=e(t.renderer.renderToken.bind(t.renderer)),t}}const eh=A.create({name:"markdownClipboard",addOptions:()=>({transformPastedText:!1,transformCopiedText:!1}),addProseMirrorPlugins(){return[new _({key:new y("markdownClipboard"),props:{clipboardTextParser:(t,e,n)=>{if(n||!this.options.transformPastedText)return null;const r=this.editor.storage.markdown.parser.parse(t,{inline:!0});return Z.fromSchema(this.editor.schema).parseSlice(Fu(r),{preserveWhitespace:!0,context:e})},clipboardTextSerializer:t=>this.options.transformCopiedText?this.editor.storage.markdown.serializer.serialize(t.content):null}})]}}),nh=A.create({name:"markdown",priority:50,addOptions:()=>({html:!0,tightLists:!0,tightListClass:"tight",bulletListMarker:"-",linkify:!1,breaks:!1,transformPastedText:!1,transformCopiedText:!1}),addCommands(){const t=V.Commands.config.addCommands();return{setContent:(e,n,r)=>s=>t.setContent(s.editor.storage.markdown.parser.parse(e),n,r)(s),insertContentAt:(e,n,r)=>s=>t.insertContentAt(e,s.editor.storage.markdown.parser.parse(n,{inline:!0}),r)(s)}},onBeforeCreate(){this.editor.storage.markdown={options:{...this.options},parser:new th(this.editor,this.options),serializer:new Xu(this.editor),getMarkdown:()=>this.editor.storage.markdown.serializer.serialize(this.editor.state.doc)},this.editor.options.initialContent=this.editor.options.content,this.editor.options.content=this.editor.storage.markdown.parser.parse(this.editor.options.content)},onCreate(){this.editor.options.content=this.editor.options.initialContent,delete this.editor.options.initialContent},addStorage:()=>({}),addExtensions(){return[bu.configure({tight:this.options.tightLists,tightClass:this.options.tightListClass}),eh.configure({transformPastedText:this.options.transformPastedText,transformCopiedText:this.options.transformCopiedText})]}}),rh=Be.extend({content:`${U} block*`});const sh=n({name:"NotesEditorTitleBackLinks",components:{NotesEditorBackLinks:n({name:"NotesEditorBackLinks",components:{NotesEditorLinkPreview:Yt,BaseDropdown:Lt,BaseDropdownContent:Bt},inject:["activeNote"],setup:()=>({notesStore:W(),notesViewStateStore:Qt()}),computed:{activeNoteBackLinks(){return this.notesStore.getBackLinks[this.activeNote.linkKey]??[]}},methods:{setActiveNote(t){t.deleted?this.notesViewStateStore.setActiveView("deleted"):this.notesViewStateStore.setActiveView("list"),this.notesStore.activeItemId=t.id}}},(function(){var t=this,e=t._self._c;return t.activeNoteBackLinks.length>0?e("div",{staticClass:"notes-editor-back-links",attrs:{"data-test":"note-back-links"}},[e("base-dropdown",{attrs:{hover:!0},scopedSlots:t._u([{key:"toggle",fn:function(){return[e("inline-svg",{staticClass:"icon icon-back-link",attrs:{src:Xt}})]},proxy:!0}],null,!1,154415150)},[e("template",{slot:"contentOverride"},[e("base-dropdown-content",{staticClass:"notes-editor-back-links-tooltip-content"},[e("span",[t._v("Linked to this note")]),e("a",{attrs:{href:"https://get.momentumdash.help/hc/en-us/articles/17665906818839",target:"_blank"}},[t._v("Learn more")])])],1)],2),e("div",{staticClass:"notes-editor-back-links-items"},t._l(t.activeNoteBackLinks,(function(n){return e("button",{key:n.id,staticClass:"notes-editor-back-links-item",attrs:{"data-test":"note-back-links-item"},on:{click:function(e){return t.setActiveNote(n)}}},[e("notes-editor-link-preview",{attrs:{note:n}})],1)})),0)],1):t._e()}),[],!1,null,"012fdebc").exports,NodeViewWrapper:G,NodeViewContent:K},inject:["activeNote"],props:{...J},computed:{placeholder(){return this.activeNote.draft?Q.New:Q.None}}},(function(){var t=this._self._c;return t("node-view-wrapper",{ref:"nodeViewWrapper",staticClass:"notes-editor-title-node-view"},[t("node-view-content",{staticClass:"title",attrs:{as:"h1","data-placeholder":this.placeholder}}),t("notes-editor-back-links",{attrs:{contenteditable:"false"}})],1)}),[],!1,null,"ec614a5a").exports,oh=We.extend({name:U,content:"text*",marks:"",group:U,addAttributes:()=>({levels:[1]}),addCommands:()=>({}),addNodeView:()=>Y(sh)}),ih=(()=>{const t=[Mn.configure({showOnlyCurrent:!1}),zs,Ns,Rs,Vs,Ks,Ys,zn,In,Ms],e=[Tn.configure({document:!1,horizontalRule:!1,dropcursor:!1,bold:!1,italic:!1,strike:!1}),rh,oh,nh.configure({transformPastedText:!0}),X.configure({renderHTMLWithDOMContent:!0}),...t],n=[Tn.configure({horizontalRule:!1,dropcursor:!1,bold:!1,italic:!1,strike:!1}),X,...t],r=new tt({content:"",editable:!0,extensions:e}),s=Gt("notesEditor",{state:()=>({cursor:{x:"0px",y:"0px",width:"0px",height:"0px",left:"0px",right:"0px",top:"0px"},controlStates:{bold:!1,italic:!1,strike:!1,bulletList:!1,orderedList:!1,heading:{1:{options:{level:1},value:!1},2:{options:{level:2},value:!1}},link:!1,highlight:!1,underline:!1},selection:{from:0,to:0},bodyEmpty:!0,editor:r}),actions:{updateSelection(){this.selection=r.state.selection},updateCursorDetails(){const t=et(r.view,this.selection.from,this.selection.to),e=r.view.dom.getBoundingClientRect();this.cursor={x:t.x-e.x+"px",y:t.y-e.y+"px",width:`${t.width}px`,height:`${t.height}px`,left:t.left-e.left+"px",right:e.right-t.right+"px",top:t.top-e.top+"px"}},updateControlStates(){Object.entries(this.controlStates).forEach((([t,e])=>{"heading"!==t?this.controlStates[t]=this.editor.isActive(t):Object.values(e).forEach((e=>{e.value=this.editor.isActive(t,e.options)}))}))},updateEditorBodyEmpty(){var t;const e=this.editor.state.doc;this.bodyEmpty=e.childCount<=2&&""===(null==(t=e.lastChild)?void 0:t.textContent)},setContent(t,e,s=!0){var o,i;const a=nt(e,n),l={type:U,...t?{content:[{type:"text",text:t}]}:{}};null==(o=a.content)||o.unshift(l),""===e&&(null==(i=a.content)||i.splice(-1,1)),r.commands.setContent(a,!1),s&&this.resetHistory(),this.updateEditorBodyEmpty()},getTitleBodyNodes(){const t=r.state.doc.child(0);return[t,r.state.doc.cut(t.nodeSize)]},getTitleContent(){try{const[t]=this.getTitleBodyNodes();return t.textContent}catch(t){return console.log(t),rt.BodyOrTitleText}},getBodyHTMLContent(t=!1){try{const[,e]=this.getTitleBodyNodes();return t?$(e.content,r.schema):st(e.toJSON(),n)}catch(e){return console.log(e),rt.BodyHTML}},getBodyTextContent(){try{const[,t]=this.getTitleBodyNodes();return t.textContent}catch(t){return console.log(t),rt.BodyOrTitleText}},getLinkedKeys(){const t=new Set;return r.state.doc.descendants((e=>{e.type.name===X.name&&t.add(e.attrs.key)})),[...t]},getSelectedText(){const{from:t,to:e}=this.selection;return r.state.selection.from!==t||r.state.selection.to!==e?"":r.state.doc.textBetween(t,e," ")??""},getSelectedHTML(){const{from:t,to:e}=this.selection;return r.state.selection.from!==t||r.state.selection.to!==e?"":$(r.state.doc.cut(t,e).content,r.schema)},resetHistory(){const t=ot.create({doc:r.state.doc,plugins:r.state.plugins,schema:r.state.schema});r.view.updateState(t)},setEditable(t){r.setEditable(t,!1)},updatePlaceholder(){const t=r.extensionManager.extensions.find((t=>"placeholder"===t.name));if(!t)return;const e=lt[Math.round(Math.random()*(lt.length-1))]??"";t.options.placeholder=()=>e},resetSelection(){var t;r.commands.setTextSelection(0),null==(t=window.getSelection())||t.removeAllRanges()},ensureAtLeastParagraphInBody(){var t;(null==(t=r.state.doc.lastChild)?void 0:t.type.name)===U&&r.commands.command((({tr:t,dispatch:e,editor:n})=>{if(!e)return!0;const r=it({type:"paragraph"},n.schema);return t.setMeta("addToHistory",!1),t.replaceWith(n.state.doc.content.size,n.state.doc.content.size,r),!0}))},focus(){try{const t=r.state.doc.child(0),e=r.state.doc.cut(t.nodeSize);""===t.textContent&&""===e.textContent?r.commands.focus(0):r.commands.focus(t.nodeSize+1)}catch(t){console.error(t),r.commands.focus()}},blur(){r.commands.blur()},toggleBold(){r.chain().focus().toggleBold().run()},toggleItalic(){r.chain().focus().toggleItalic().run()},toggleStrike(){r.chain().focus().toggleStrike().run()},toggleUnderline(){r.chain().focus().toggleUnderline().run()},toggleHighlight(){r.chain().focus().toggleHighlight().run()},toggleBulletList(){r.chain().focus().toggleBulletList().run()},toggleOrderedList(){r.chain().focus().toggleOrderedList().run()},toggleHeading(t){r.chain().focus().toggleHeading({level:t}).run()},unsetAllMarks(){r.chain().focus().unsetAllMarks().run()},createNoteLink(t,e){r.chain().focus().insertContentAt(e,[{type:X.name,attrs:{key:t}}]).run()}}}),o=s();return r.on("selectionUpdate",(()=>{o.updateSelection(),o.updateControlStates()})),r.on("update",(()=>{o.updateEditorBodyEmpty(),o.ensureAtLeastParagraphInBody(),o.updateControlStates()})),o.updatePlaceholder(),yt([()=>bt.windowDimensions.width,()=>bt.windowDimensions.height],(()=>o.updateCursorDetails()),{debounce:at}),s})(),ah=((t=ct().noteAiService)=>Gt("notesAi",{state:()=>({data:[],activeIndex:0,activeAction:null,activeActionLabel:null,languages:{data:[],loading:!1,loaded:!1},loading:!1,loaded:!1,error:null}),getters:{activeHistoryData:t=>t.data[t.activeIndex]??{result:""}},actions:{async runActiveRequest(e){if(e&&(this.activeAction=()=>t.request(e.id,e.type,e.data),this.activeActionLabel=e.type),!this.activeAction||!this.activeActionLabel)throw new Error("Unable to run active action! No current or previous action and label defined.");let n={result:""},r=null;try{this.loading=!0,this.error=null,n=await this.activeAction(),""===n.result?r=new te:this.appendToHistory(n)}catch(s){r=s}finally{this.loading=!1,this.loaded=!0}return r&&(this.error=Kt(r,{default:i.ErrorAiRequestHistory})),n},appendToHistory(t){this.activeIndex=this.data.length,this.data.push(t)},async getLanguages(){this.languages.loading||this.languages.loaded||(this.languages.loading=!0,this.languages.data=await t.getLanguages(),this.languages.loading=!1,this.languages.loaded=!0)},reset(){this.activeAction=null,this.activeActionLabel=null,this.loading=!1,this.loaded=!1,this.error=null,this.activeIndex=0,this.data=[]}}}))();var lh=(t=>(t.Hidden="hidden",t.ToolbarDefault="toolbarDefault",t.ToolbarLink="toolbarLink",t.AiActions="actions",t.AiHistory="history",t))(lh||{});const ch=ee("notesEditor",{views:{hidden:{defaultView:!0},toolbarDefault:{},toolbarLink:{},actions:{},history:{}}}),uh=Ct({name:"LazyRender",props:{placeholderHeight:{type:String,required:!0}},setup(t,{slots:e}){const n=At(),r=ne(n);return()=>{var s;return r.value?null==(s=e.default)?void 0:s.call(e)[0]:Dt("div",{ref:n,style:{minHeight:t.placeholderHeight}})}}});const hh=n(Ct({name:"NotesSidebarSearch",components:{AppSearch:re},props:{value:{type:String,required:!0}},emits:["close","input","enter","up","down","focus","blur"]}),(function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",{staticClass:"notes-sidebar-search"},[e("app-search",{ref:"search",attrs:{value:t.value},on:{input:function(e){return t.$emit("input",e)},enter:function(e){return t.$emit("enter")},up:function(e){return t.$emit("up")},down:function(e){return t.$emit("down")},focus:function(e){return t.$emit("focus")},blur:function(e){return t.$emit("blur")}}})],1)}),[],!1,null,"0840e5ee").exports,dh=()=>bt.windowDimensions.width<850;const ph=n({name:"NotesApp",components:{NotesSidebarSearch:hh,SmoothReflow:Pt,BaseIcon:$t,LazyRender:uh,BaseDropdownDivider:Rt,NotesHeaderAi:ge,NotesEditor:()=>t((()=>import("./NotesEditor-Yo-Wkvo-.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402])),BaseDropdownContent:Bt,BaseDropdown:Lt,AppHeaderControl:Tt,BaseItemList:St,BaseDropdownOption:Ft,AppEmpty:gt,AppLoading:mt,NotesListItem:he,AppPopup:ft,AppView:pt,AppViewSwitchStatic:ue,AppHeader:kt},inject:["viewStateStore"],provide(){return{itemStore:this.notesStore,editorStore:this.notesEditorStore,editorViewStateStore:this.notesEditorViewStateStore,aiStore:this.notesAiStore,activeNote:vt((()=>this.activeNote))}},setup:()=>({notesStore:W(),notesEditorStore:ih(),notesEditorViewStateStore:ch(),notesAiStore:ah(),DropdownAlignment:Mt,AppHeaderCloseOn:Ht}),data(){return{searchString:"",searchFocused:!1,searchVisible:!1,sidebarOpen:!dh()&&this.getStorageSidebarState()}},computed:{condensed:dh,empty(){return this.loaded&&!Object.keys(this.activeListNotes).length},loading(){return this.notesStore.loading},loaded(){return this.notesStore.loaded},error(){return this.notesStore.error},deletedListActive(){return"deleted"===this.activeViewId},emptyStateProps(){return this.searchString?{description:"No notes found.",buttonText:"New Note"}:this.deletedListActive?{description:"No deleted notes yet.",buttonText:"Back To List"}:{title:"Take quick notes and store wisdom to view later.",description:"No notes yet. Add a note to get started!",buttonText:"New Note"}},activeListNotes(){return this.deletedListActive?this.deletedNotes:{...this.pinnedNotes,...this.unpinnedNotes}},unpinnedNotes(){return this.filterNotes(this.notesStore.getUnpinnedItems,this.searchString)},pinnedNotes(){return this.filterNotes(this.notesStore.getPinnedItems,this.searchString)},pinnedEmpty(){return 0===Object.keys(this.pinnedNotes).length},deletedNotes(){return this.filterNotes(this.notesStore.getDeletedItems,this.searchString)},activeViewId(){return this.viewStateStore.activeViewId},activeView(){return this.viewStateStore.activeView},activeNoteId:{get(){return this.notesStore.activeItemId},set(t){this.notesStore.activeItemId=t}},activeNote(){return this.activeListNotes[this.activeNoteId]},activeNoteLastUpdatedDateString(){if(!this.activeNote)return"";const t=new Date(this.activeNote.updatedDate);return xt.formatMonthDayRelative(t,!1)+xt.formatYearRelative(t)+" at "+xt.formatTime(t)},activeNotePinned(){var t;return null==(t=this.activeNote)?void 0:t.pinned},fullscreen:{get(){return Nt.notesFullscreen&&!this.$touch},set(t){Ot.notesFullscreen=t}}},watch:{async activeNote(t){var e;t?null==(e=document.querySelector(`[data-note-id="${t.id}"]`))||e.scrollIntoView({block:"nearest",behavior:"auto"}):this.notesStore.clearActiveItem()},searchString(){this.notesStore.clearActiveItem()},searchFocused(){this.searchFocused||this.toggleSidebar(!this.condensed&&this.getStorageSidebarState())},activeListNotes(){var t;this.activeNoteId||(this.notesStore.activeItemId=null==(t=Object.values(this.activeListNotes)[0])?void 0:t.id)},deletedListActive(){this.deletedListActive&&this.refreshDeletedNotes()},activeNoteId(){this.searchFocused||Et(this.focusNotePad)}},created(){this.loaded||this.notesStore.refresh()},mounted(){m.on("globalEvent:metaBracketLeft",this.setNotePrev),m.on("globalEvent:metaBracketRight",this.setNoteNext),m.on("globalEvent:metaForwardSlash",this.toggleSearchFocused),m.on("globalEvent:metaBackSlash",this.toggleSidebar),m.on("globalEvent:metaCtrlN",this.createNote)},destroyed(){m.off("globalEvent:metaBracketLeft",this.setNotePrev),m.off("globalEvent:metaBracketRight",this.setNoteNext),m.off("globalEvent:metaForwardSlash",this.toggleSearchFocused),m.off("globalEvent:metaBackSlash",this.toggleSidebar),m.off("globalEvent:metaCtrlN",this.createNote),m.on("modal:showUpgrade",this.closePopup)},methods:{setActiveView(t){this.searchString="",this.viewStateStore.setActiveView(t),this.notesStore.clearActiveItem()},deleteNote(){this.notesStore.delete(this.activeNoteId),this.notesStore.clearActiveItem(),this.closeDeleteConf()},closeDeleteConf(){var t;null==(t=this.$refs["delete-dropdown"])||t.closeDropdown()},closeOptionsDropdown(){var t;null==(t=this.$refs.optionsDropdown)||t.closeDropdown()},focusNotePad(){var t;null==(t=this.$refs["notes-editor"])||t.focus(),this.condensed&&(this.sidebarOpen=!1)},createNote(){if(m.conditionalFeatures.featureEnabled("notes-degraded"))return this.notesEditorStore.blur(),void oe(ie.NOTES,"dash");this.searchString="";const t=this.notesStore.create();this.activeNoteId=t.id,this.deletedListActive&&this.setActiveView("list"),Et(this.focusNotePad)},restoreNote(){this.notesStore.restore(this.activeNoteId),this.setActiveView("list"),Et(this.focusNotePad)},toggleNotePinned(){var t;const e=!(null==(t=this.activeNote)?void 0:t.pinned);this.notesStore.update(this.activeNoteId,{pinned:e},{updateDate:!1})},refreshDeletedNotes(){this.notesStore.refresh(!0)},enterFullscreen(){this.fullscreen=!0,this.notesEditorStore.resetSelection()},exitFullscreen(){this.fullscreen=!1,this.notesEditorStore.resetSelection()},closePopup(){this.viewStateStore.togglePopup(!1)},getStorageSidebarState:()=>xt.getLocalStorageBool(ut,!0),saveStorageSidebarState(){localStorage.setItem(ut,this.sidebarOpen)},toggleSidebar(t,e={saveInStorage:!0}){t="boolean"==typeof t?t:void 0,this.sidebarOpen=t??!this.sidebarOpen,e.saveInStorage&&this.saveStorageSidebarState(),this.notesEditorStore.resetSelection()},setNoteAdjacent(t){this.$refs["notes-editor"].save();const e=Object.keys(this.activeListNotes),n=e.indexOf(this.activeNoteId),r=e.length;const s=e[((n+t)%r+r)%r];s&&(this.activeNoteId=s)},setNoteNext(){this.setNoteAdjacent(1)},setNotePrev(){this.setNoteAdjacent(-1)},toggleSearchFocused(){var t;const e=!this.condensed&&this.getStorageSidebarState();this.toggleSidebar(!this.searchFocused||e,{saveInStorage:!1}),this.searchFocused?Et().then(this.focusNotePad):null==(t=this.$refs.search)||t.select()},openHelpPage(){wt(ht)},openMarkdownGuide(){wt(dt)},closeEditorDropdowns(){this.notesEditorViewStateStore.setActiveView(lh.Hidden)},toggleSearch(){this.searchVisible=!this.searchVisible,this.closeOptionsDropdown()},filterNotes(t,e){if(!e||e.length<=2)return t;const n={};return se.go(e,this.getSearchableContent(t),{keys:["title","body"],threshold:.2}).forEach((e=>n[e.obj.id]=t[e.obj.id])),n},getSearchableContent:t=>Object.entries(t).map((([t,e])=>({id:t,title:e.title,body:e.bodyTextContent})))}},(function(){var t=this,e=t._self._c;return e("app-popup",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeEditorDropdowns,expression:"closeEditorDropdowns"}],ref:"popup",staticClass:"notes-app",class:{"sidebar-open":t.sidebarOpen},attrs:{position:"top-left",region:"bottom-right",width:t.condensed?750:950,fullscreen:t.fullscreen,"hide-apps-exclusions":".apps .notes","data-test":"notes-app",focused:t.viewStateStore.focused},on:{close:t.closePopup},nativeOn:{click:function(e){return t.viewStateStore.focus()}},scopedSlots:t._u([{key:"default",fn:function({showFullscreenElements:n}){return[e("transition",{attrs:{name:"fade",mode:"out-in",duration:"100"}},[t.loading&&!t.loaded?e("app-loading"):t.error?e("app-empty",{attrs:{title:"Oops! Something went wrong",description:"Please reload the tab and try again"}}):t.loaded?e("div",{staticClass:"app-content"},[e("app-view-switch-static",{staticClass:"list-switcher",attrs:{"order-key":t.activeView.order,"data-test":"list-view"}},[t.deletedListActive?t.deletedListActive?e("app-view",{staticClass:"list deleted-list",scopedSlots:t._u([{key:"header",fn:function(){return[e("app-header",{scopedSlots:t._u([{key:"left",fn:function(){return[e("app-header-control",{on:{click:function(e){return t.setActiveView("list")}}},[e("inline-svg",{staticClass:"icon icon-back",attrs:{src:ae}})],1)]},proxy:!0},{key:"center",fn:function(){return[t._v(" Deleted ")]},proxy:!0}],null,!0)})]},proxy:!0},{key:"body",fn:function(){return[e("div",{staticClass:"deleted-description"},[t._v(" Automatically removed "),e("br"),t._v(" after 2 weeks ")]),e("base-item-list",t._l(t.notesStore.getDeletedItems,(function(n){return e("notes-list-item",{key:n.id,attrs:{active:t.activeNoteId===n.id,note:n},nativeOn:{click:function(e){t.activeNoteId=n.id}}})})),1)]},proxy:!0}],null,!0)}):t._e():e("app-view",{staticClass:"list notes-list",scopedSlots:t._u([{key:"header",fn:function(){return[e("app-header",{attrs:{"show-close-button-on":t.AppHeaderCloseOn.None},scopedSlots:t._u([{key:"left",fn:function(){return[e("base-icon",{staticClass:"app-header-icon",attrs:{src:"icon/apps/notes",size:"16px"}}),e("span",{staticClass:"app-header-name"},[t._v("Notes")])]},proxy:!0},{key:"right",fn:function(){return[e("base-dropdown",{ref:"optionsDropdown"},[e("base-dropdown-option",{attrs:{active:t.searchVisible},on:{click:t.toggleSearch}},[e("base-icon",{attrs:{src:"search"}}),t._v(" Search ")],1),e("base-dropdown-option",{on:{click:function(e){return t.setActiveView("deleted")}}},[e("base-icon",{staticClass:"icon icon-trash",attrs:{src:"trash"}}),t._v(" Deleted ")],1),e("base-dropdown-divider"),e("base-dropdown-option",{on:{click:t.openHelpPage}},[e("base-icon",{attrs:{src:"circle-help"}}),t._v(" Help ")],1),e("base-dropdown-option",{on:{click:t.openMarkdownGuide}},[e("base-icon",{attrs:{src:"circle-help"}}),t._v(" Markdown guide ")],1)],1)]},proxy:!0}],null,!0)}),e("smooth-reflow",{attrs:{"hide-overflow":!0}},[t.searchVisible?e("notes-sidebar-search",{on:{enter:t.toggleSearchFocused,up:t.setNotePrev,down:t.setNoteNext,focus:function(e){t.searchFocused=!0},blur:function(e){t.searchFocused=!1},close:function(e){t.searchVisible=!1}},model:{value:t.searchString,callback:function(e){t.searchString=e},expression:"searchString"}}):t._e()],1)]},proxy:!0},{key:"body",fn:function(){return[t.deletedListActive?e("base-item-list",t._l(t.deletedNotes,(function(n){return e("lazy-render",{key:n.id,attrs:{"placeholder-height":"2.3rem"}},[e("notes-list-item",{attrs:{active:t.activeNoteId===n.id,note:n},on:{click:function(e){t.activeNoteId=n.id}}})],1)})),1):[t.pinnedEmpty?t._e():e("base-item-list",{staticClass:"pinned-notes-list",attrs:{"data-test":"pinned-notes-list"}},t._l(t.pinnedNotes,(function(n){return e("lazy-render",{key:n.id,attrs:{"placeholder-height":"2.3rem","data-note-id":n.id}},[e("notes-list-item",{attrs:{active:t.activeNoteId===n.id,note:n},on:{click:function(e){t.activeNoteId=n.id}}})],1)})),1),e("base-item-list",{staticClass:"unpinned-notes-list",attrs:{"data-test":"unpinned-notes-list"}},t._l(t.unpinnedNotes,(function(n){return e("lazy-render",{key:n.id,attrs:{"placeholder-height":"2.3rem","data-note-id":n.id}},[e("notes-list-item",{attrs:{active:t.activeNoteId===n.id,note:n},on:{click:function(e){t.activeNoteId=n.id}}})],1)})),1)]]},proxy:!0}],null,!0)})],1),e("app-view",{staticClass:"note-detail",attrs:{overlay:t.condensed&&t.sidebarOpen},on:{overlayClick:function(e){t.sidebarOpen=!1}},scopedSlots:t._u([{key:"header",fn:function(){return[e("app-header",{attrs:{"show-close-button-on":n?t.AppHeaderCloseOn.All:t.AppHeaderCloseOn.Mobile},on:{close:t.closePopup},scopedSlots:t._u([{key:"left",fn:function(){return[e("app-header-control",{staticClass:"sidebar-toggle",attrs:{"data-test":"toggle-fullscreen-list-view"},on:{click:t.toggleSidebar}},[e("base-icon",{staticClass:"icon icon-sidebar",attrs:{size:"0.9375rem",src:"panel-left"}})],1)]},proxy:!0},{key:"center",fn:function(){return[e("span",{staticClass:"last-edited-title"},[t._v(t._s(t.activeNoteLastUpdatedDateString))])]},proxy:!0},{key:"right",fn:function(){return[e("app-header-control",{staticClass:"new",attrs:{"data-test":"new-note","show-mobile-background":!0},on:{click:t.createNote}},[e("inline-svg",{staticClass:"icon icon-plus",attrs:{src:le}})],1),e("notes-header-ai",{attrs:{disabled:t.deletedListActive||t.notesEditorStore.bodyEmpty,"active-note":t.activeNote}}),e("app-header-control",{attrs:{disabled:t.deletedListActive||!t.activeNote,active:t.activeNotePinned,"data-test":"pin"},on:{click:t.toggleNotePinned}},[e("base-icon",{attrs:{src:t.activeNotePinned?"pin-off":"pin"}})],1),t.deletedListActive?e("app-header-control",{staticClass:"restore",attrs:{disabled:!t.activeNote},on:{click:t.restoreNote}},[e("inline-svg",{staticClass:"icon icon-restore",attrs:{src:ce}})],1):e("base-dropdown",{ref:"delete-dropdown",class:{disabled:!t.activeNote},attrs:{"container-class":"app","data-test":"delete",alignment:t.DropdownAlignment.Left,"max-width":"250px"},scopedSlots:t._u([{key:"toggle",fn:function(){return[e("div",{staticClass:"icon-wrapper more-toggle"},[e("base-icon",{staticClass:"icon-trash",attrs:{src:"trash"}})],1)]},proxy:!0},{key:"contentOverride",fn:function(){return[e("base-dropdown-content",{staticClass:"delete-confirm"},[e("div",{staticClass:"text"},[t._v(" Are you sure you would like to delete this note? ")]),e("div",{staticClass:"buttons"},[e("div",{staticClass:"button button-confirm",attrs:{"data-test":"confirm-delete"},on:{click:t.deleteNote}},[t._v("Yes")]),e("div",{staticClass:"button button-neutral",on:{click:t.closeDeleteConf}},[t._v("No")])])])]},proxy:!0}],null,!0)}),t.$touch?t._e():[t.fullscreen?e("app-header-control",{staticClass:"fullscreen u--mobile-hide",attrs:{"data-test":"toggle-fullscreen"},on:{click:t.exitFullscreen}},[e("base-icon",{staticClass:"icon-collapse",attrs:{src:"minimize-2"}})],1):e("app-header-control",{staticClass:"fullscreen u--mobile-hide",attrs:{"data-test":"toggle-fullscreen"},on:{click:t.enterFullscreen}},[e("base-icon",{staticClass:"icon-expand",attrs:{src:"maximize-2"}})],1)]]},proxy:!0}],null,!0)})]},proxy:!0},{key:"body",fn:function(){return[t.empty?e("app-empty",t._b({on:{buttonClick:function(e){t.deletedListActive?t.setActiveView("list"):t.createNote()}}},"app-empty",t.emptyStateProps,!1)):e("notes-editor",{ref:"notes-editor",attrs:{"focus-on-created":!t.searchFocused}})]},proxy:!0}],null,!0)})],1):t._e()],1)]}}])})}),[],!1,null,"75243e57").exports,fh=Object.freeze(Object.defineProperty({__proto__:null,default:ph},Symbol.toStringTag,{value:"Module"}));export{lh as N,me as a,pe as b,ih as c,fh as d,ch as u};