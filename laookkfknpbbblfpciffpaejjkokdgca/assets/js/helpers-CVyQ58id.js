import{Q as a,U as e,u as t,R as r,S as s}from"./index-B9SbLlJ5.js";import{m as i,g as o}from"./Logger-BTKFyPnc.js";import{T as n}from"./TabLeaderElection-Ci9XU4di.js";const l=a=>a,m=(e,t)=>({id:a(e.name),...e}),d=new n("dashboardExperiment",{ifAvailable:!0}),c=async()=>{if(!(await i.get(e)))return!1;if(await t(d.isLeader).not.toBeNull(),!d.isLeader.value)return!1;const a=await o(r),n=Number(a??"0")/2,l=Math.random(),m=l<n?"experimental":l<2*n?"control":void 0;return m&&localStorage.setItem(s,m),"experimental"===m},p=async()=>{await i.delete(e),null==d||d.stepDown()};export{m as a,c as b,p as c,l as d};