import{L as t,l as o}from"./loginStepMixin-Do-icSWB.js";import{l as s}from"./enums-C0TfsRui.js";import{a as e}from"./authService-dK6ZN9yA.js";import{D as i}from"./index-B9SbLlJ5.js";import{O as r}from"./OAuthButton-Dl4gBQNd.js";import{B as a}from"./BaseMessage-B1Cb2q_O.js";import n from"./icon-back-D7vBl-rG.js";import p from"./icon-email-BZ6UK25K.js";import m from"./icon-skip-intro-f034Ba9B.js";import{n as c}from"./_plugin-vue2_normalizer-DeUNqxFl.js";import"./SmoothReflow-CN2CnQb0.js";import"./ResizeSensor-ZXOsDHeC.js";import"./useAllComponentsMounted-jOG8AT3X.js";import"./DataSyncService-BIQVYvDv.js";import"./Logger-BTKFyPnc.js";import"./logo-white-B6YRYJ5A.js";import"./icon-next-CI-_n-sg.js";import"./auth-B1eW30AJ.js";import"./persistStore-C6CQfgEA.js";import"./legacyUserMigration-BBmM2Q1F.js";import"./style-cpFB66wV.js";import"./migrateLegacyUserMessageHandler-BMN9RYlR.js";import"./reactiveCustomization-l1DAJU8W.js";import"./icon-apple-dpDSqZSz.js";import"./google-NyzgtnG4.js";import"./ssoHelpers-DQmB-goO.js";import"./onboarding-D-_C2fNa.js";import"./helpers-CVyQ58id.js";import"./TabLeaderElection-Ci9XU4di.js";import"./state-C7K8Oenp.js";import"./LocalStorageStoreSyncedItem-ClHii6kh.js";import"./onboarding-DKrOugBj.js";import"./compareObjects-R6Hcs7xe.js";import"./modal-CUt-4jrz.js";import"./SubscriptionSummary-DTKaK_m5.js";import"./constants-CALDQiUE.js";import"./constants-KuzCZNtH.js";import"./state-B00254AG.js";import"./constants-3_GhJRHQ.js";import"./login-D3lslwtx.js";import"./index-FW5FYBiS.js";import"./PomodoroTimers-CqOVDo7T.js";import"./settings-ClOtDILp.js";import"./experiments-CUd_VD1Q.js";import"./settingsViewState-5xgdbrfZ.js";import"./ViewState-CaQI4PuO.js";import"./appZStack-Duidf5Sm.js";import"./siteBlockerGroups-DVPsrCxl.js";import"./ErrorPulseInput-CkNsRuJq.js";import"./SettingsTypes-C_Wf2Ybw.js";import"./accessToken-BQcp6xmY.js";import"./tasksMockData-CfX-tA_z.js";import"./tasksViewState-BBA-SwRl.js";import"./BaseIcon-CAXE-xBw.js";import"./dynamic-import-helper-DIl3ayLm.js";const u=c({name:"LoginProvider",components:{BaseMessage:a,LoginLayout:t,OAuthButton:r},mixins:[o],inject:["capture"],props:{shouldDisplayNewsletterOptIn:{type:Boolean,required:!0},shouldDisplayGoogleSso:{type:Boolean,default:!0}},computed:{showStayLoggedOut(){return!i()&&!this.$partner.requireAccount}},mounted(){this.capture("provider-step show")},methods:{onEscape(){this.goToName("hotkey")},goToName(t="click"){this.capture("change name click",{method:t}),this.$emit("goToSubStep",s.NAME)},goToEmail(t="click"){this.capture("change email click",{method:t}),this.$emit("goToSubStep",s.EMAIL)},stayLoggedOut(){return this.capture("email-step dismiss",{method:"click"}),this.setLoadingWithErrorHandling((async()=>{await e.stayUnregistered(this.name),this.$emit("complete")}))},completeLogin(){this.$emit("complete")}}},(function(){var t=this,o=t._self._c;return o("login-layout",{attrs:{loading:t.loading,"continue-button-wrapper-visible":!1,"data-test":"provider-step"},scopedSlots:t._u([{key:"actions-top-left",fn:function(){return[o("div",{staticClass:"dash-button",attrs:{"data-test":"name-button"},on:{click:t.goToName}},[o("inline-svg",{staticClass:"icon icon-back",attrs:{src:n}}),o("span",[t._v("Name")])],1)]},proxy:!0},{key:"title",fn:function(){return[t._v(" Momentum account ")]},proxy:!0},{key:"question",fn:function(){return[t._v(" How do you want to sync your data"+t._s(t.name?", "+t.name:"")+"? ")]},proxy:!0},{key:"input",fn:function(){return[o("span")]},proxy:!0},{key:"continue-button",fn:function(){return[o("div",{staticClass:"login-buttons"},[o("o-auth-button",{attrs:{type:"google"},on:{complete:t.completeLogin}}),o("o-auth-button",{attrs:{type:"apple"},on:{complete:t.completeLogin}}),o("div",{staticClass:"separator"},[t._v("or")]),o("div",{staticClass:"dash-button continue",attrs:{"data-test":"email-sign-in-button"},on:{click:t.goToEmail}},[o("inline-svg",{staticClass:"icon",attrs:{src:p}}),o("span",[t._v("Continue with Email")])],1),t.showStayLoggedOut?o("div",{staticClass:"dash-button continue",attrs:{"data-test":"stay-logged-out-button"},on:{click:t.stayLoggedOut}},[o("inline-svg",{staticClass:"icon",attrs:{src:m}}),o("span",[t._v("Stay logged out")])],1):t._e()],1)]},proxy:!0},{key:"message",fn:function(){return[t.computedMessage?o("base-message",t._b({staticClass:"provider-step-error-message"},"base-message",t.computedMessage,!1)):t._e()]},proxy:!0}])})}),[],!1,null,"7d2b3dec").exports;export{u as default};