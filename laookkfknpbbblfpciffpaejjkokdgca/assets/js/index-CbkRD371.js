import{V as e,y as t,w as n,r as o,X as i,Y as s,Z as a,_ as r,v as l,$ as u,a0 as c,m as v,a1 as d}from"./index-B9SbLlJ5.js";function h(e){var t;const n=s(e);return null!=(t=null==n?void 0:n.$el)?t:n}e.util.warn;const f=u?window:void 0;function p(...e){let t,o,i,l;if("string"==typeof e[0]||Array.isArray(e[0])?([o,i,l]=e,t=f):[t,o,i,l]=e,!t)return a;Array.isArray(o)||(o=[o]),Array.isArray(i)||(i=[i]);const u=[],v=()=>{u.forEach((e=>e())),u.length=0},d=n((()=>[h(t),s(l)]),(([e,t])=>{if(v(),!e)return;const n=r(t)?{...t}:t;u.push(...o.flatMap((t=>i.map((o=>((e,t,n,o)=>(e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)))(e,t,o,n))))))}),{immediate:!0,flush:"post"}),p=()=>{d(),v()};return c(p),p}function m(e){const n=function(){const e=o(!1);return v()&&l((()=>{e.value=!0}),void 0),e}();return t((()=>(n.value,Boolean(e()))))}function g(e,o,i={}){const{window:a=f,...r}=i;let l;const u=m((()=>a&&"MutationObserver"in a)),v=()=>{l&&(l.disconnect(),l=void 0)},p=t((()=>{const t=s(e),n=(Array.isArray(t)?t:[t]).map(h).filter(d);return new Set(n)})),g=n((()=>p.value),(e=>{v(),u.value&&e.size&&(l=new MutationObserver(o),e.forEach((e=>l.observe(e,r))))}),{immediate:!0,flush:"post"}),w=()=>{v(),g()};return c(w),{isSupported:u,stop:w,takeRecords:()=>null==l?void 0:l.takeRecords()}}function w(e,o,i={}){const{window:s=f,...a}=i;let r;const l=m((()=>s&&"ResizeObserver"in s)),u=()=>{r&&(r.disconnect(),r=void 0)},v=t((()=>Array.isArray(e)?e.map((e=>h(e))):[h(e)])),d=n(v,(e=>{if(u(),l.value&&s){r=new ResizeObserver(o);for(const t of e)t&&r.observe(t,a)}}),{immediate:!0,flush:"post"}),p=()=>{u(),d()};return c(p),{isSupported:l,stop:p}}function y(e,t={}){const{reset:s=!0,windowResize:a=!0,windowScroll:r=!0,immediate:l=!0}=t,u=o(0),c=o(0),v=o(0),d=o(0),f=o(0),m=o(0),y=o(0),b=o(0);function x(){const t=h(e);if(!t)return void(s&&(u.value=0,c.value=0,v.value=0,d.value=0,f.value=0,m.value=0,y.value=0,b.value=0));const n=t.getBoundingClientRect();u.value=n.height,c.value=n.bottom,v.value=n.left,d.value=n.right,f.value=n.top,m.value=n.width,y.value=n.x,b.value=n.y}return w(e,x),n((()=>h(e)),(e=>!e&&x())),g(e,x,{attributeFilter:["style","class"]}),r&&p("scroll",x,{capture:!0,passive:!0}),a&&p("resize",x,{passive:!0}),i((()=>{l&&x()})),{height:u,bottom:c,left:v,right:d,top:f,width:m,x:y,y:b,update:x}}function b(e,s={width:0,height:0},a={}){const{window:r=f,box:l="content-box"}=a,u=t((()=>{var t,n;return null==(n=null==(t=h(e))?void 0:t.namespaceURI)?void 0:n.includes("svg")})),c=o(s.width),v=o(s.height),{stop:d}=w(e,(([t])=>{const n="border-box"===l?t.borderBoxSize:"content-box"===l?t.contentBoxSize:t.devicePixelContentBoxSize;if(r&&u.value){const t=h(e);if(t){const e=t.getBoundingClientRect();c.value=e.width,v.value=e.height}}else if(n){const e=Array.isArray(n)?n:[n];c.value=e.reduce(((e,{inlineSize:t})=>e+t),0),v.value=e.reduce(((e,{blockSize:t})=>e+t),0)}else c.value=t.contentRect.width,v.value=t.contentRect.height}),a);i((()=>{const t=h(e);t&&(c.value="offsetWidth"in t?t.offsetWidth:s.width,v.value="offsetHeight"in t?t.offsetHeight:s.height)}));const p=n((()=>h(e)),(e=>{c.value=e?s.width:0,v.value=e?s.height:0}));return{width:c,height:v,stop:function(){d(),p()}}}function x(e,i={}){const{window:r=f,scrollTarget:l,threshold:u=0}=i,v=o(!1);return function(e,i,r={}){const{root:l,rootMargin:u="0px",threshold:v=.1,window:p=f,immediate:g=!0}=r,w=m((()=>p&&"IntersectionObserver"in p)),y=t((()=>{const t=s(e);return(Array.isArray(t)?t:[t]).map(h).filter(d)}));let b=a;const x=o(g),A=w.value?n((()=>[y.value,h(l),x.value]),(([e,t])=>{if(b(),!x.value)return;if(!e.length)return;const n=new IntersectionObserver(i,{root:h(t),rootMargin:u,threshold:v});e.forEach((e=>e&&n.observe(e))),b=()=>{n.disconnect(),b=a}}),{immediate:g,flush:"post"}):a,O=()=>{b(),A(),x.value=!1};c(O)}(e,(e=>{let t=v.value,n=0;for(const o of e)o.time>=n&&(n=o.time,t=o.isIntersecting);v.value=t}),{root:l,window:r,threshold:u}),v}const A={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof Touch?null:[e.movementX,e.movementY]};function O(e={}){const{type:t="page",touch:n=!0,resetOnTouchEnds:i=!1,initialValue:s={x:0,y:0},window:a=f,target:r=a,scroll:l=!0,eventFilter:u}=e;let c=null;const v=o(s.x),d=o(s.y),h=o(null),m="function"==typeof t?t:A[t],g=e=>{const t=m(e);c=e,t&&([v.value,d.value]=t,h.value="mouse")},w=e=>{if(e.touches.length>0){const t=m(e.touches[0]);t&&([v.value,d.value]=t,h.value="touch")}},y=()=>{if(!c||!a)return;const e=m(c);c instanceof MouseEvent&&e&&(v.value=e[0]+a.scrollX,d.value=e[1]+a.scrollY)},b=()=>{v.value=s.x,d.value=s.y},x=u?e=>u((()=>g(e)),{}):e=>g(e),O=u?e=>u((()=>w(e)),{}):e=>w(e),R=u?()=>u((()=>y()),{}):()=>y();if(r){const e={passive:!0};p(r,["mousemove","dragover"],x,e),n&&"movement"!==t&&(p(r,["touchstart","touchmove"],O,e),i&&p(r,"touchend",b,e)),l&&"page"===t&&p(a,"scroll",R,{passive:!0})}return{x:v,y:d,sourceType:h}}function R(e,t={}){const{handleOutside:i=!0,window:s=f}=t,a=t.type||"page",{x:r,y:l,sourceType:u}=O(t),c=o(null!=e?e:null==s?void 0:s.document.body),v=o(0),d=o(0),m=o(0),g=o(0),w=o(0),y=o(0),b=o(!0);let x=()=>{};return s&&(x=n([c,r,l],(()=>{const e=h(c);if(!e)return;const{left:t,top:n,width:o,height:u}=e.getBoundingClientRect();m.value=t+("page"===a?s.pageXOffset:0),g.value=n+("page"===a?s.pageYOffset:0),w.value=u,y.value=o;const f=r.value-m.value,p=l.value-g.value;b.value=0===o||0===u||f<0||p<0||f>o||p>u,!i&&b.value||(v.value=f,d.value=p)}),{immediate:!0}),p(document,"mouseleave",(()=>{b.value=!0}))),{x:r,y:l,sourceType:u,elementX:v,elementY:d,elementPositionX:m,elementPositionY:g,elementHeight:w,elementWidth:y,isOutside:b,stop:x}}export{w as a,y as b,O as c,R as d,g as e,x as f,b as u};