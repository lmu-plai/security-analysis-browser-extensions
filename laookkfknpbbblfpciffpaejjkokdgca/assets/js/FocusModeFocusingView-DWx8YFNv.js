const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/FocusModePipContent-Dm6izR55.js","assets/js/index-B9SbLlJ5.js","assets/js/Logger-BTKFyPnc.js","assets/js/style-cpFB66wV.js","assets/css/style-CrTXrpPu.css","assets/js/Pomodoro-Dn-AU8Ey.js","assets/js/pomodoroCompleted-BqUMo7o_.js","assets/js/DataSyncService-BIQVYvDv.js","assets/js/persistStore-C6CQfgEA.js","assets/js/state-C7K8Oenp.js","assets/js/LocalStorageStoreSyncedItem-ClHii6kh.js","assets/js/PomodoroTimers-CqOVDo7T.js","assets/js/reactiveCustomization-l1DAJU8W.js","assets/js/promisifiedChrome-vGTrjPj6.js","assets/js/login-D3lslwtx.js","assets/js/authService-dK6ZN9yA.js","assets/js/auth-B1eW30AJ.js","assets/js/legacyUserMigration-BBmM2Q1F.js","assets/js/enums-C0TfsRui.js","assets/js/migrateLegacyUserMessageHandler-BMN9RYlR.js","assets/js/onboarding-DKrOugBj.js","assets/js/modal-DQlfZdMt.js","assets/js/pomodoro-circle-CecfhCBZ.js","assets/js/_plugin-vue2_normalizer-DeUNqxFl.js","assets/js/focusCollection-DYYTKeU_.js","assets/js/VueBase-BB-58KAg.js","assets/js/_commonjsHelpers-B3K3fdV-.js","assets/js/ClickOutside-DCLvi2fj.js","assets/js/pinia-4ulFHh2N.js","assets/js/portal-vue.esm-BlbL0ibK.js","assets/js/itemCollectionMixins-GExfg4D1.js","assets/js/addin-3Vi1deBB.js","assets/js/settingsViewState-5xgdbrfZ.js","assets/js/ViewState-CaQI4PuO.js","assets/js/appZStack-Duidf5Sm.js","assets/js/tasksViewState-BBA-SwRl.js","assets/js/handlebarLoader-xbtIzd6B.js","assets/css/addin-BUIiiR2p.css","assets/js/MobileBlur-B2s9dLKD.js","assets/js/useAllComponentsMounted-jOG8AT3X.js","assets/js/flashMessageMixin-UHXyaNjE.js","assets/js/constants-3_GhJRHQ.js","assets/js/index-DQnUe-E8.js","assets/js/localStorage-B4mFdj8F.js","assets/js/embeddedApp-K-x6feEl.js","assets/js/experiments-CUd_VD1Q.js","assets/js/flashMessageQueue-swNUH1jF.js","assets/js/info-DdD9a7JK.js","assets/js/constants-Bt_TxKWw.js","assets/js/dynamic-import-helper-DIl3ayLm.js","assets/js/index-CDlxyr_L.js","assets/js/ResizeSensor-ZXOsDHeC.js","assets/js/modal-CUt-4jrz.js","assets/css/index-BXUxMXk7.css","assets/js/DashCheckbox-BpmKbzA6.js","assets/js/BaseIcon-CAXE-xBw.js","assets/css/BaseIcon-Bkqy2Cka.css","assets/css/DashCheckbox-yufeub71.css","assets/js/BaseDropdown-DNbKWQaF.js","assets/js/BaseDropdownContent-BfXd6hD-.js","assets/js/constants-CALDQiUE.js","assets/js/index-CbkRD371.js","assets/css/BaseDropdownContent-BVfvvT0B.css","assets/js/icon-ellipsis-D7nTOXaQ.js","assets/css/BaseDropdown-CwtM7hMN.css","assets/js/BaseDropdownOption-NzB_bdFk.js","assets/css/BaseDropdownOption-DaYMTb1b.css","assets/js/focusFlashMessageHelpers-C5O7ePro.js","assets/js/icon-confetti-BvRSomF2.js","assets/js/SmoothReflow-CN2CnQb0.js","assets/css/SmoothReflow-C80bIkgz.css","assets/js/TabLeaderElection-Ci9XU4di.js","assets/js/BaseDropdownDivider-Bay0Demn.js","assets/css/BaseDropdownDivider-D_a21TP7.css","assets/js/ToggleSwitch-DSwcb4Go.js","assets/css/ToggleSwitch-CJxlu7QV.css","assets/js/InlineNumberInput-Ctaj9nRe.js","assets/css/InlineNumberInput-D0yp2QxM.css","assets/js/AppHeader-DINik7Wl.js","assets/js/AppHeaderControl-CYSrwe76.js","assets/css/AppHeaderControl-B2WuFnb1.css","assets/js/constants-KuzCZNtH.js","assets/js/icon-close-DRlspKs3.js","assets/css/AppHeader-CM5L_Lkb.css","assets/js/ClockSwitcherDropdown-D5aU13ja.js","assets/js/BaseDropdownText-CSYTEDLS.js","assets/css/BaseDropdownText-BVodxniW.css","assets/js/switch-1q_g_nt5.js","assets/css/ClockSwitcherDropdown-B00gDdMA.css","assets/js/showAnyway-Bb-tkUYJ.js","assets/css/Pomodoro-HOvkmcV_.css","assets/js/Background-CwyyCqYi.js","assets/js/focusModeViewState-CobNuKLk.js","assets/js/index-FW5FYBiS.js","assets/js/settings-ClOtDILp.js","assets/js/oneTimeLoginService-CaM-1dwC.js","assets/css/Background-vc487Mam.css","assets/css/FocusModePipContent-BfpMmvYL.css"])))=>i.map(i=>d[i]);
import{_ as e}from"./style-cpFB66wV.js";import{a as t,n as i,a3 as s,I as o,V as a,h as n,H as r,A as c,ai as d,d as l,u as p}from"./index-B9SbLlJ5.js";import m from"./BaseIcon-CAXE-xBw.js";import{e as u}from"./DataSyncService-BIQVYvDv.js";import{n as f}from"./_plugin-vue2_normalizer-DeUNqxFl.js";import{C as h}from"./state-C7K8Oenp.js";import{v as g}from"./v-style-CoL-P9UU.js";import{f as y}from"./flashMessageMixin-UHXyaNjE.js";import{g as v}from"./globalKeyEventManager-ByOI7Z15.js";import{f as w}from"./main-BlpUn6Xv.js";import"./VueBase-BB-58KAg.js";import{e as P}from"./index-CbkRD371.js";import{a as b}from"./PomodoroTimers-CqOVDo7T.js";import{g as C}from"./settings-ClOtDILp.js";import"./Logger-BTKFyPnc.js";import"./dynamic-import-helper-DIl3ayLm.js";import"./LocalStorageStoreSyncedItem-ClHii6kh.js";import"./focus-mode-TgjJstn5.js";import"./AppContainer-BbrPMYLy.js";import"./showAnyway-Bb-tkUYJ.js";import"./reactiveCustomization-l1DAJU8W.js";import"./useAllComponentsMounted-jOG8AT3X.js";import"./_commonjsHelpers-B3K3fdV-.js";import"./ClickOutside-DCLvi2fj.js";import"./pinia-4ulFHh2N.js";import"./portal-vue.esm-BlbL0ibK.js";import"./index-FW5FYBiS.js";import"./persistStore-C6CQfgEA.js";import"./AppDash-CSffn7xe.js";import"./constants-KuzCZNtH.js";import"./focusModeViewState-CobNuKLk.js";import"./ViewState-CaQI4PuO.js";import"./appZStack-Duidf5Sm.js";import"./login-D3lslwtx.js";import"./authService-dK6ZN9yA.js";import"./auth-B1eW30AJ.js";import"./legacyUserMigration-BBmM2Q1F.js";import"./enums-C0TfsRui.js";import"./migrateLegacyUserMessageHandler-BMN9RYlR.js";import"./onboarding-DKrOugBj.js";import"./promisifiedChrome-vGTrjPj6.js";import"./modal-DQlfZdMt.js";function _(){const e=document.querySelector(".region.full");return{width:(null==e?void 0:e.clientWidth)||0,height:(null==e?void 0:e.clientHeight)||0}}const j=f({name:"MaskedOverlay",props:{maskDimensions:{type:Array,required:!0},maskActive:{type:Boolean,default:!0}},setup:()=>({uuid:t.uuidv4()}),data:()=>({overlayDimensions:_()}),created(){u.$on("devPanelToggled",this.onDevPanelToggle),u.$on("globalEvent:window:resize",this.onResize)},destroyed(){u.$off("devPanelToggled",this.onDevPanelToggle),u.$off("globalEvent:window:resize",this.onResize)},methods:{onResize(){this.overlayDimensions=_()},onDevPanelToggle(){i(this.onResize)}}},(function(){var e=this,t=e._self._c;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e.overlayDimensions.width} ${e.overlayDimensions.height}`,fill:"rgba(0,0,0,0.5)"}},[e.maskActive?t("mask",{attrs:{id:"mask"+e.uuid}},[t("rect",{attrs:{x:"0",y:"0",width:"100%",height:"100%",fill:"white"}}),e._l(e.maskDimensions,(function(e){return t("transition",{key:e.x,attrs:{name:"mask-fade",mode:"out-in"}},[t("rect",{staticClass:"cutout",attrs:{x:e.x,y:e.y,rx:e.borderRadius,ry:e.borderRadius,height:e.height,width:e.width,fill:"black"}})])}))],2):e._e(),t("rect",{attrs:{x:"0",y:"0",width:"100%",height:"100%",mask:"url(#mask"+e.uuid+")"}})])}),[],!1,null,"cd414bde").exports,k={name:"FocusModeCapacityLimitIndicator",props:{msLeft:{type:Number,required:!0},msTotal:{type:Number,required:!0}},data(){return{capacityLimitIndicator:{animationLength:"0ms",translateX:-100*this.msLeft/this.msTotal+"%"}}},async mounted(){await t.doubleRaf(),this.capacityLimitIndicator.animationLength=this.msLeft+"ms",this.capacityLimitIndicator.translateX="0%"}},x=()=>{s(((e,t)=>({"136ecbbe":e.capacityLimitIndicator.translateX,f55926da:e.capacityLimitIndicator.animationLength})))},I=k.setup;k.setup=I?(e,t)=>(x(),I(e,t)):x;const L=f(k,(function(){return this._self._c,this._m(0)}),[function(){var e=this._self._c;return e("div",{staticClass:"capacity-limit-indicator"},[e("span",[this._v("1h free/day")])])}],!1,null,"a3d3f9fe").exports,M=(e,t)=>{(null==t?void 0:t.length)?t.forEach((t=>{var i;null==(i=t.addedNodes)||i.forEach((t=>{var i;if(!t.ELEMENT_NODE)return;const s=t;if("link"===s.nodeName.toLowerCase()&&(null==(i=s.getAttribute("href"))?void 0:i.endsWith(".css"))){const t=s;O(e,t.type,t.media,t.href)}else"link"===s.nodeName.toLowerCase()&&S(e,s.innerHTML)}))})):(e.head.innerHTML="",[...document.styleSheets].forEach((t=>{t.href?O(e,t.type,t.media.toString(),t.href.toString()):S(e,[...t.cssRules].map((e=>e.cssText)).join(""))})),e.body.setAttribute("class",document.body.getAttribute("class")))},O=(e,t,i,s)=>{const o=document.createElement("link");o.rel="stylesheet",o.type=t,o.media=i,o.href=s,e.head.appendChild(o)},S=(e,t)=>{const i=document.createElement("style");i.textContent=t,e.head.appendChild(i)},A="documentPictureInPicture"in window;const E=f(o({name:"BasePip",components:{BaseIcon:m},props:{icon:{type:String,default:"icon/pip"},iconSize:{type:String,default:"13px"},feature:{type:String,required:!0},component:{type:Function,required:!0}},setup:()=>(P(document.head,(e=>{documentPictureInPicture.window&&M(documentPictureInPicture.window.document,e)}),{attributes:!1,subtree:!1,childList:!0}),{componentInstance:null}),data:()=>({isInPip:!1}),destroyed(){this.closePip()},methods:{async openPip(){documentPictureInPicture.window&&this.closePip();const e=await documentPictureInPicture.requestWindow({width:550,height:360});e.addEventListener("pagehide",this.closePip);const t=e.document;t.body.style.opacity="0";const i=t.createElement("div");t.body.append(i);const s=(await this.component()).default;this.componentInstance=new a({render:()=>n(s)}).$mount(i),await r(100),M(t),await r(200),t.body.style.transition="opacity 0.2s ease",t.body.style.opacity="1",this.isInPip=!0,c.capture("open picture in picture",{feature:this.feature})},closePip(){var e,t;null==(e=documentPictureInPicture.window)||e.close(),this.isInPip=!1,null==(t=this.componentInstance)||t.$destroy(),c.capture("close picture in picture",{feature:this.feature})}}}),(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"base-pip"},[t("div",{staticClass:"icon-wrapper pip-icon",class:{hidden:e.isInPip},on:{click:e.openPip}},[t("base-icon",{attrs:{src:e.icon,size:e.iconSize}})],1)])}),[],!1,null,"685ff71e").exports,D=()=>e((()=>import("./FocusModePipContent-Dm6izR55.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97])),F={name:"FocusModeFocusingView",components:{FocusModeCapacityLimitIndicator:L,BaseIcon:m,MaskedOverlay:j,vStyle:g,BasePip:E},mixins:[y],emits:["stopFocusMode","openUpsell"],setup:()=>({frameOverlayPadding:10,CAPACITY_LIMIT_MS_ALLOWED_PER_DAY:h,store:d("store"),fullscreenService:w,documentPipAvailable:A,FocusModePipContent:D}),computed:{topFrameOverlayPadding(){return 5*this.frameOverlayPadding},maskDimensions(){var e;const t=null==(e=document.querySelector(".region.full"))?void 0:e.getBoundingClientRect().x;return[{x:this.frameOverlayPadding,y:this.topFrameOverlayPadding,width:l.windowDimensions.width-t-2*this.frameOverlayPadding,height:l.windowDimensions.height-this.frameOverlayPadding-this.topFrameOverlayPadding,borderRadius:10,overlayOffsetX:t}]},todoVisible:()=>C().todoVisible},mounted(){v.registerEventListener("focusMode:close","keyup",27,this.closeOrConfirmCloseIfPomodoroActive)},destroyed(){v.removeEventListener("focusMode:close","keyup",27)},methods:{async closeOrConfirmCloseIfPomodoroActive(){const t=(await e((()=>import("./pomodoroCompleted-BqUMo7o_.js").then((e=>e.b))),__vite__mapDeps([6,7,1,2,3,4,8,9,10,11,12,13,14,15,16,17,18,19,20,21]))).usePomodoroSessionStore();if(await p((()=>t.loaded)).toBe(!0),!t.playing||t.activeTimer.mode===b.CountUp)return this.$emit("stopFocusMode");this.showFlashMessage({message:"Quit Focus Mode?",persist:1e4,buttons:[{text:"Exit Focus Mode",action:()=>{this.$emit("stopFocusMode")},dismissOnClick:!0},{text:"Continue focusing",action:()=>{},dismissOnClick:!0,cssClasses:["button-tertiary"]}]})}}},T=()=>{s(((e,t)=>({"14a3dbfe":e.frameOverlayPadding,c335416e:e.topFrameOverlayPadding})))},z=F.setup;F.setup=z?(e,t)=>(T(),z(e,t)):T;const R=f(F,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"focus-mode-focusing-view dark"},[t("masked-overlay",{staticClass:"overlay behind",attrs:{"mask-dimensions":e.maskDimensions}}),t("masked-overlay",{staticClass:"overlay",attrs:{"mask-dimensions":e.maskDimensions}}),t("div",{staticClass:"overlay-shadow"}),t("div",{staticClass:"focus-mode-focusing-view-left"},[e.$plus?e._e():t("focus-mode-capacity-limit-indicator",{attrs:{"ms-left":e.store.msUntilOverCapacityLimit,"ms-total":e.CAPACITY_LIMIT_MS_ALLOWED_PER_DAY},nativeOn:{click:function(t){return e.$emit("openUpsell")}}})],1),t("div",{staticClass:"focus-mode-focusing-view-center"},[t("div",{staticClass:"focus-mode-header"},[t("base-icon",{staticClass:"focus-icon",attrs:{src:"icon/apps/focus-mode-fill",size:"22px"}}),t("span",{staticClass:"text"},[e._v("Focusing")])],1),t("div",{staticClass:"icon-wrapper close-icon u--mobile-show-bg",attrs:{"data-test":"dash-close-focus-mode"},on:{click:e.closeOrConfirmCloseIfPomodoroActive}},[t("base-icon",{attrs:{src:"icon/stop",size:"14px"}})],1)]),t("div",{staticClass:"focus-mode-focusing-view-right"},[e.documentPipAvailable?t("base-pip",{attrs:{"data-test":"pip-toggle","icon-size":"24px",component:e.FocusModePipContent,feature:"focus mode"}}):e._e(),e.fullscreenService.fullscreenModeAvailable?t("div",{staticClass:"icon-wrapper fullscreen-icon",attrs:{"data-test":"fullscreen-toggle"},on:{click:function(t){return e.fullscreenService.toggleFullscreen(t.metaKey,"focus mode")}}},[t("base-icon",{attrs:{src:"icon/"+(e.fullscreenService.fullscreen.value?"collapse":"expand"),size:"16px"}})],1):e._e()],1),t("v-style",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e._v(" :root { --dash-padding-top: "+e._s(e.topFrameOverlayPadding)+"px; --dash-padding-right: "+e._s(e.frameOverlayPadding)+"px; --dash-padding-bottom: "+e._s(e.frameOverlayPadding)+"px; --dash-padding-left: "+e._s(e.frameOverlayPadding)+"px; --dash-metric-side-padding: 0.5625rem; } #team-logo, .topics, .launcher, .quicklinks.links { display: none; } .region.top-left > .links { order: 1; } .region.top-left > .tabs { order: 2; } .region.top-left > .site-blocker { order: 3; } .region.top-left > .soundscapes { order: 4; } .region.top-left > .pomodoro-settings { order: 5; } .region.top-left .app-dash-icon-label { display: none; } .pinned-links { display: none; } .flash-message-container { top: 10px !important; } .top-bar { height: 0; } .popup-notification { display: none !important; } .metric-type > .app-dash { z-index: unset; } .add-metric-container > .app-dash { display: none; } .dash-upgrade, .photo-info { display: none; } /* This has no visibility setting, so hide it here */ ")])],1)}),[],!1,null,"e3d8c09d").exports;export{R as default};