const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/FocusContent-BAiNoH8K.js","assets/js/useAllComponentsMounted-jOG8AT3X.js","assets/js/index-B9SbLlJ5.js","assets/js/Logger-BTKFyPnc.js","assets/js/style-cpFB66wV.js","assets/css/style-CrTXrpPu.css","assets/js/DataSyncService-BIQVYvDv.js","assets/js/index-DQnUe-E8.js","assets/js/pinia-4ulFHh2N.js","assets/js/localStorage-B4mFdj8F.js","assets/js/legacyUserMigration-BBmM2Q1F.js","assets/js/enums-C0TfsRui.js","assets/js/migrateLegacyUserMessageHandler-BMN9RYlR.js","assets/js/auth-B1eW30AJ.js","assets/js/persistStore-C6CQfgEA.js","assets/js/embeddedApp-K-x6feEl.js","assets/js/experiments-CUd_VD1Q.js","assets/js/flashMessageQueue-swNUH1jF.js","assets/js/info-DdD9a7JK.js","assets/js/constants-Bt_TxKWw.js","assets/js/dynamic-import-helper-DIl3ayLm.js","assets/js/index-CDlxyr_L.js","assets/js/appZStack-Duidf5Sm.js","assets/js/ResizeSensor-ZXOsDHeC.js","assets/js/_plugin-vue2_normalizer-DeUNqxFl.js","assets/js/promisifiedChrome-vGTrjPj6.js","assets/js/modal-CUt-4jrz.js","assets/css/index-BXUxMXk7.css","assets/js/main-Djd92gYK.js","assets/js/VueBase-BB-58KAg.js","assets/js/_commonjsHelpers-B3K3fdV-.js","assets/js/ClickOutside-DCLvi2fj.js","assets/js/portal-vue.esm-BlbL0ibK.js","assets/js/reactiveCustomization-l1DAJU8W.js","assets/js/daily-goal-DXmLNw7i.js","assets/js/search-_4L9pO9R.js","assets/js/calendar-C-iEpGgd.js","assets/js/SettingsTypes-C_Wf2Ybw.js","assets/js/state-C7K8Oenp.js","assets/js/LocalStorageStoreSyncedItem-ClHii6kh.js","assets/css/main-Bpir6JXI.css","assets/js/DashCheckbox-BpmKbzA6.js","assets/js/BaseIcon-CAXE-xBw.js","assets/css/BaseIcon-Bkqy2Cka.css","assets/css/DashCheckbox-yufeub71.css","assets/js/modal-DQlfZdMt.js","assets/js/BaseDropdown-DNbKWQaF.js","assets/js/BaseDropdownContent-BfXd6hD-.js","assets/js/constants-CALDQiUE.js","assets/js/index-CbkRD371.js","assets/css/BaseDropdownContent-BVfvvT0B.css","assets/js/icon-ellipsis-D7nTOXaQ.js","assets/css/BaseDropdown-CwtM7hMN.css","assets/js/BaseDropdownOption-NzB_bdFk.js","assets/css/BaseDropdownOption-DaYMTb1b.css","assets/css/FocusContent-BeOdFlhF.css","assets/js/TeamFocus-DVmZ20Gp.js","assets/css/TeamFocus-CC9FfZ75.css"])))=>i.map(i=>d[i]);
import{_ as e}from"./style-cpFB66wV.js";import t from"./focusCollection-DYYTKeU_.js";import{M as s}from"./MobileBlur-B2s9dLKD.js";import{s as i}from"./showAnyway-Bb-tkUYJ.js";import{c as o}from"./main-Djd92gYK.js";import{T as a}from"./index-DQnUe-E8.js";import{u as r}from"./useAllComponentsMounted-jOG8AT3X.js";import{a as n}from"./index-B9SbLlJ5.js";import{f as c}from"./flashMessageMixin-UHXyaNjE.js";import{g as p}from"./globalKeyEventManager-ByOI7Z15.js";import{e as u}from"./constants-3_GhJRHQ.js";import{g as l}from"./focusFlashMessageHelpers-C5O7ePro.js";import{n as d}from"./_plugin-vue2_normalizer-DeUNqxFl.js";import"./VueBase-BB-58KAg.js";import"./_commonjsHelpers-B3K3fdV-.js";import"./ClickOutside-DCLvi2fj.js";import"./pinia-4ulFHh2N.js";import"./DataSyncService-BIQVYvDv.js";import"./Logger-BTKFyPnc.js";import"./portal-vue.esm-BlbL0ibK.js";import"./itemCollectionMixins-GExfg4D1.js";import"./reactiveCustomization-l1DAJU8W.js";import"./addin-3Vi1deBB.js";import"./modal-DQlfZdMt.js";import"./enums-C0TfsRui.js";import"./settingsViewState-5xgdbrfZ.js";import"./ViewState-CaQI4PuO.js";import"./appZStack-Duidf5Sm.js";import"./tasksViewState-BBA-SwRl.js";import"./handlebarLoader-xbtIzd6B.js";import"./daily-goal-DXmLNw7i.js";import"./search-_4L9pO9R.js";import"./calendar-C-iEpGgd.js";import"./SettingsTypes-C_Wf2Ybw.js";import"./state-C7K8Oenp.js";import"./LocalStorageStoreSyncedItem-ClHii6kh.js";import"./localStorage-B4mFdj8F.js";import"./legacyUserMigration-BBmM2Q1F.js";import"./migrateLegacyUserMessageHandler-BMN9RYlR.js";import"./auth-B1eW30AJ.js";import"./persistStore-C6CQfgEA.js";import"./embeddedApp-K-x6feEl.js";import"./experiments-CUd_VD1Q.js";import"./flashMessageQueue-swNUH1jF.js";import"./info-DdD9a7JK.js";import"./constants-Bt_TxKWw.js";import"./dynamic-import-helper-DIl3ayLm.js";import"./index-CDlxyr_L.js";import"./ResizeSensor-ZXOsDHeC.js";import"./promisifiedChrome-vGTrjPj6.js";import"./modal-CUt-4jrz.js";import"./icon-confetti-BvRSomF2.js";const f=(e,t)=>{e.style.opacity=t?"1":"0",e.style.pointerEvents=t?"":"none",e.style.visibility=t?"visible":"hidden"};const v=d({name:"Focus",components:{FocusContent:()=>e((()=>import("./FocusContent-BAiNoH8K.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55])),TeamFocus:()=>e((()=>import("./TeamFocus-DVmZ20Gp.js")),__vite__mapDeps([56,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,46,47,48,49,50,32,51,52,53,54,42,43,57])),ThreeColLayout:a},directives:{MobileBlur:s,Visible:{bind:(e,{value:t})=>{f(e,t)},componentUpdated:(e,{value:t,oldValue:s,modifiers:i})=>{!t!=!s&&(i.transition&&(e.style.transition="opacity 0.5s ease, visibility 0.5s ease"),i.delay&&(e.style.transitionDelay=t?"0.5s":"0"),f(e,t))}}},mixins:[c],props:{inputPlaceholder:{type:String,default:""}},setup:()=>({...r(),showAnyway:i,centerBelowMetadata:o}),data:()=>({editing:!1,fontSizeScale:1}),computed:{teamFocusEnabled(){return m.conditionalFeatures.featureEnabled("team_focus")&&!this.$touch},activeFocus:()=>t.activeFocus,collectionReady:()=>t.loaded,emptyFocusVisible:()=>t.emptyFocus,displayedFocus(){var e;return null==(e=this.activeFocus)?void 0:e.focus}},watch:{displayedFocus:{handler(e){localStorage.setItem(u,e||"")},immediate:!0}},methods:{editCurrentFocus(){this.editing=!0,this.activeFocus.copyProperties(),this.focusOnPrompt(),p.registerEventListener("focus:edit","keyup",27,this.save)},archiveFocus(e){t.archive(e)},completeFocus(){t.toggleComplete(),this.activeFocus.completed&&this.showFlashMessage(l())},save(){var e;this.editing&&(this.editing=!1,p.removeEventListener("focus:edit","keyup",27),this.emptyFocusVisible&&(this.activeFocus.editProps.forDate=m.utils.getDateString()),null==(e=this.$refs.prompt)||e.blur(),t.save().catch(console.error))},async focusOnPrompt(){var e;await n.delay(100),null==(e=this.$refs.prompt)||e.focus()},afterEnter(){m.trigger("focus-content:updated")}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"focuses app-container",class:{"show-anyway":e.showAnyway.includes("focus")},attrs:{"data-test":"focus","data-show-anyway":"focus"}},[e.collectionReady?t("div",{staticClass:"focus-wrapper has-dash-icon clock-view",attrs:{"data-ob":"focus-dash"}},[t("div",{directives:[{name:"visible",rawName:"v-visible.transition.delay",value:!e.editing&&!e.emptyFocusVisible,expression:"!editing && !emptyFocusVisible",modifiers:{transition:!0,delay:!0}}],staticClass:"focus-inner-wrapper"},[t("div",{staticClass:"focus"},[t("focus-content",{attrs:{focus:e.activeFocus},on:{complete:e.completeFocus,archive:function(t){return e.archiveFocus(!0)},edit:e.editCurrentFocus,new:e.archiveFocus},scopedSlots:e._u([{key:"nav",fn:function(){return[e._t("nav")]},proxy:!0}],null,!0)})],1)]),t("three-col-layout",{directives:[{name:"visible",rawName:"v-visible.transition.delay",value:e.editing||e.emptyFocusVisible,expression:"editing || emptyFocusVisible",modifiers:{transition:!0,delay:!0}}],staticClass:"focus-prompt-wrapper",scopedSlots:e._u([{key:"left",fn:function(){return[e._t("nav")]},proxy:!0},{key:"center",fn:function(){return[t("div",{staticClass:"prompt"},[t("h3",{staticClass:"focus-question"},[e._v("What is your main goal for today?")]),t("span",{staticClass:"hidden-data"},[e._v(e._s(e.activeFocus.editProps.focus??""))]),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.activeFocus.editProps.focus,expression:"activeFocus.editProps.focus",modifiers:{trim:!0}},{name:"mobile-blur",rawName:"v-mobile-blur",value:e.save,expression:"save"}],ref:"prompt",staticClass:"focus-input",attrs:{type:"text","data-test":"focus-input",autocomplete:"off"},domProps:{value:e.activeFocus.editProps.focus},on:{focus:e.editCurrentFocus,blur:[e.save,function(t){return e.$forceUpdate()}],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.activeFocus.editProps,"focus",t.target.value.trim())}}})])]},proxy:!0}],null,!0)})],1):e._e(),t("transition",{attrs:{name:"fade",mode:"out-in"}},[e.teamFocusEnabled?t("div",{staticClass:"team-focus-wrapper"},[t("team-focus")],1):e._e()])],1)}),[],!1,null,"8e10a1b2").exports;export{v as default};