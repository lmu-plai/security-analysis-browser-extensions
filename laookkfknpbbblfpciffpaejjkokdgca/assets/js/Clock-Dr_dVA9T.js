const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/pomodoroCompleted-BqUMo7o_.js","assets/js/DataSyncService-BIQVYvDv.js","assets/js/index-B9SbLlJ5.js","assets/js/Logger-BTKFyPnc.js","assets/js/style-cpFB66wV.js","assets/css/style-CrTXrpPu.css","assets/js/persistStore-C6CQfgEA.js","assets/js/state-C7K8Oenp.js","assets/js/LocalStorageStoreSyncedItem-ClHii6kh.js","assets/js/PomodoroTimers-CqOVDo7T.js","assets/js/reactiveCustomization-l1DAJU8W.js","assets/js/promisifiedChrome-vGTrjPj6.js","assets/js/login-D3lslwtx.js","assets/js/authService-dK6ZN9yA.js","assets/js/auth-B1eW30AJ.js","assets/js/legacyUserMigration-BBmM2Q1F.js","assets/js/enums-C0TfsRui.js","assets/js/migrateLegacyUserMessageHandler-BMN9RYlR.js","assets/js/onboarding-DKrOugBj.js","assets/js/modal-DQlfZdMt.js"])))=>i.map(i=>d[i]);
import{_ as o}from"./style-cpFB66wV.js";import{persistent as t}from"./reactiveCustomization-l1DAJU8W.js";import{S as e}from"./SmoothReflow-CN2CnQb0.js";import{u as s}from"./useAllComponentsMounted-jOG8AT3X.js";import{n as r}from"./_plugin-vue2_normalizer-DeUNqxFl.js";import{g as a}from"./balanceMode-BkcgAbs8.js";import{T as c}from"./index-DQnUe-E8.js";import{s as i}from"./showAnyway-Bb-tkUYJ.js";import{r as n,u as p,A as l}from"./index-B9SbLlJ5.js";import{B as d}from"./BaseDropdownOption-NzB_bdFk.js";import{B as u}from"./BaseDropdown-DNbKWQaF.js";import h from"./AppHeader-DINik7Wl.js";import w from"./BaseIcon-CAXE-xBw.js";import{T as k}from"./ToggleSwitch-DSwcb4Go.js";import{a as f,T as g}from"./PomodoroTimers-CqOVDo7T.js";import{C,a as j,c as _,b as v}from"./ClockSwitcherDropdown-D5aU13ja.js";import{a as y}from"./modal-DQlfZdMt.js";import{U as D}from"./enums-C0TfsRui.js";import{B as S}from"./BaseDropdownDivider-Bay0Demn.js";import{e as T}from"./DataSyncService-BIQVYvDv.js";import{S as x}from"./settingsViewState-5xgdbrfZ.js";import"./Logger-BTKFyPnc.js";import"./ResizeSensor-ZXOsDHeC.js";import"./pinia-4ulFHh2N.js";import"./localStorage-B4mFdj8F.js";import"./legacyUserMigration-BBmM2Q1F.js";import"./migrateLegacyUserMessageHandler-BMN9RYlR.js";import"./auth-B1eW30AJ.js";import"./persistStore-C6CQfgEA.js";import"./embeddedApp-K-x6feEl.js";import"./experiments-CUd_VD1Q.js";import"./flashMessageQueue-swNUH1jF.js";import"./info-DdD9a7JK.js";import"./constants-Bt_TxKWw.js";import"./dynamic-import-helper-DIl3ayLm.js";import"./index-CDlxyr_L.js";import"./appZStack-Duidf5Sm.js";import"./promisifiedChrome-vGTrjPj6.js";import"./modal-CUt-4jrz.js";import"./VueBase-BB-58KAg.js";import"./_commonjsHelpers-B3K3fdV-.js";import"./ClickOutside-DCLvi2fj.js";import"./portal-vue.esm-BlbL0ibK.js";import"./constants-CALDQiUE.js";import"./BaseDropdownContent-BfXd6hD-.js";import"./index-CbkRD371.js";import"./icon-ellipsis-D7nTOXaQ.js";import"./AppHeaderControl-CYSrwe76.js";import"./constants-KuzCZNtH.js";import"./icon-close-DRlspKs3.js";import"./BaseDropdownText-CSYTEDLS.js";import"./switch-1q_g_nt5.js";import"./ViewState-CaQI4PuO.js";const b=r({name:"Clock",components:{ThreeColLayout:c,SmoothReflow:e,DefaultClock:r({name:"DefaultClock",setup:()=>({...s()}),computed:{timeString:()=>m.models.date.getTimeString(),hours(){return this.timeString.split(":")[0]},minutes(){return this.timeString.split(":")[1]}}},(function(){var o=this,t=o._self._c;return t("div",{staticClass:"default-clock",attrs:{"data-test":"default-clock"}},[t("span",{staticClass:"time",attrs:{"data-test":"default-clock-time"}},[t("span",{staticClass:"hours",attrs:{"data-test":"default-clock-hours"}},[o._v(o._s(o.hours))]),t("span",{staticClass:"colon"},[o._v(":")]),t("span",{staticClass:"minutes",attrs:{"data-test":"default-clock-minutes"}},[o._v(o._s(o.minutes))])])])}),[],!1,null,"1dbb8ee6").exports,PercentClock:r({name:"PercentClock",setup:()=>({...s()}),computed:{percent(){const o=a(),t=o[o.customTime?"startCustom":"start"],e=o[o.customTime?"endCustom":"end"];let s=t.hour;12===s&&(s=0);let r=e.hour;12===r&&(r=0);let c=s+("PM"===t.noon?12:0);const i=parseInt(t.minute);let n=r+("PM"===e.noon?12:0);const p=parseInt(e.minute)-1;n-c>24&&(n-=24);const l=new Date;l.setHours(c,i,0,0);const d=new Date;d.setHours(n,p,0,0);const u=m.models.date.get("date");l.getTime()>d.getTime()&&(u.getTime()<=d.getTime()?c-=24:n+=24),l.setHours(c,i,0,0),d.setHours(n,p,0,0);const h=60*(n+p/60-(c+i/60))*60,w=(u.getTime()-l.getTime())/1e3,k=Math.floor(w/h*100);return k>100?"+"+(k-100):`${k}`}}},(function(){var o=this,t=o._self._c;return t("span",{staticClass:"percent-clock",attrs:{"data-test":"percent-clock"}},[t("div",{staticClass:"time"},[o._v(" "+o._s(o.percent)),t("span",{staticClass:"format percent-format"},[o._v("%")])])])}),[],!1,null,"da53183d").exports,BaseDropdownOption:d,BaseDropdown:u,AppHeader:h,BaseIcon:w,ToggleSwitch:k,ClockSwitcherDropdown:C,ClockSwitcherContent:j,BaseDropdownDivider:S},props:{quickNavVisible:{type:Boolean,default:!0}},setup:()=>({...s(),showAnyway:i,dropdown:n()}),computed:{activeClock(){return this.percentClock?"percent":"clock"},percentClock:()=>t.percentClock,hour12clock:()=>t.hour12clock,modeOptions(){return[_[v.Clock],_[f.Timer],_[v.Percent]].filter((o=>o.id!==this.activeClock))},currentMode(){return _[this.percentClock?v.Percent:v.Clock]}},methods:{async switchClock(e){if(this.activeClock!==e){switch(this.closeDropdown(),e){case v.Clock:t.percentClock=!1;break;case f.Timer:if(!this.$plus)return y(D.POMODORO,"clock dropdown");const e=(await o((()=>import("./pomodoroCompleted-BqUMo7o_.js").then((o=>o.b))),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]))).usePomodoroSessionStore();await p((()=>e.loaded)).toBe(!0),await e.switchTo(g.Focus,{startPlaying:!1}),this.$emit("pomodoro-show",!0);break;case v.Percent:t.percentClock=!0}l.capture("clock switch",{feature:"default clock",new_value:e})}},openDropdown(){this.dropdown.openDropdown()},closeDropdown(){this.dropdown.closeDropdown()},toggle12hFormat(){t.hour12clock=!t.hour12clock,l.capture("clock format toggle",{feature:"default clock",new_value:this.hour12clock?"12h":"24h"})},openScheduleSettings(){this.$plus?(T.$emit("settings:open",x.Balance),this.closeDropdown(),l.capture("edit schedule click",{feature:"percent clock",is_paid_event:!0})):y(D.BALANCE_MODE,"dash")},triggerClockDropdownToggledEvent(){m.trigger("clock:dropdownToggled")}}},(function(){var o=this,t=o._self._c;return t("three-col-layout",{staticClass:"app-container clock center-clock has-dash-icon",class:{"show-anyway":o.showAnyway.includes("clock")},attrs:{"data-show-anyway":"clock","data-test":"center-clock"},scopedSlots:o._u([{key:"center",fn:function(){return[t("smooth-reflow",{staticClass:"clocks-reflow",attrs:{"await-apps-ready":"",height:!1,width:!0,"transition-duration":1e3,duration:100,transition:"smooth-width-fade"}},[t("div",{directives:[{name:"mobile-click",rawName:"v-mobile-click",value:o.openDropdown,expression:"openDropdown"}],key:o.activeClock,on:{dblclick:o.openDropdown}},[o.percentClock?t("percent-clock"):t("default-clock")],1)])]},proxy:!0},{key:"right",fn:function(){return[t("div",{staticClass:"clock-dropdown"},[t("base-dropdown",{ref:"dropdown",attrs:{"min-width":"230px","container-class":"app clock-dropdown-container dash","data-test":"more-toggle"},on:{toggle:o.triggerClockDropdownToggledEvent}},[t("app-header",{on:{close:function(t){var e;null==(e=o.dropdown)||e.closeDropdown()}},scopedSlots:o._u([{key:"left",fn:function(){return[t("base-icon",{staticClass:"app-header-icon",attrs:{size:"16px",src:o.currentMode.icon||""}}),t("span",{staticClass:"app-header-name"},[o._v(o._s(o.currentMode.label))])]},proxy:!0},{key:"right",fn:function(){return[o.$touch?o._e():t("clock-switcher-dropdown",{attrs:{"mode-options":o.modeOptions},on:{switchTo:o.switchClock}})]},proxy:!0}])}),o.$touch?t("clock-switcher-content",{attrs:{"mode-options":o.modeOptions},on:{switchTo:o.switchClock}}):o._e(),o.$touch?t("base-dropdown-divider"):o._e(),o.percentClock?o._e():t("base-dropdown-option",{attrs:{"data-test":"hour-format"},on:{click:o.toggle12hFormat}},[t("span",[o._v("24-hour clock")]),t("span",{staticClass:"toggle-right"},[t("toggle-switch",{attrs:{value:!o.hour12clock}})],1)]),o.percentClock?t("base-dropdown-option",{attrs:{"data-test":"edit-schedule"},on:{click:o.openScheduleSettings}},[t("span",[o._v("Edit schedule")])]):o._e()],1)],1)]},proxy:!0}])})}),[],!1,null,"959f8250").exports;export{b as default};