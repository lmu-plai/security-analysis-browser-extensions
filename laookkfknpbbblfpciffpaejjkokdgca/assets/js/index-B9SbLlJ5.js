const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/SubscriptionSummary-DTKaK_m5.js","assets/js/DataSyncService-BIQVYvDv.js","assets/js/Logger-BTKFyPnc.js","assets/js/persistStore-C6CQfgEA.js"])))=>i.map(i=>d[i]);
import{t as e,d as t,u as n,L as i,p as r,g as o,e as s,f as a,o as u}from"./Logger-BTKFyPnc.js";import{_ as l}from"./style-cpFB66wV.js";const c="filtered_content",d="validation_error",f=[c,d],p="chat:sidebarOpen",h={TEAM:1,COMMUNITY:2},v="https://us.i.posthog.com",g="https://app.posthog.com",_={...{[c]:"The response was filtered due to the prompt triggering our content management policy. Please modify your prompt and try again.",[d]:"Your prompt is invalid, Please modify your prompt and try again."}},y="Oops! Something went wrong.",b={ERROR_MESSAGE_PREFIX:y,MAX_INPUT_LENGTH_EXCEEDED:"This entry is too long. Please try something shorter.",SERVER_ERROR_BASIC:y,SERVER_ERROR_GENERAL:{message:y,contact:!0},SERVER_ERROR_RATE_LIMIT:"You have exceeded the request limit for the given time period. Please try again later.",SERVER_ERROR_HIGH_TRAFFIC:"We are experiencing a high amount of traffic at this time. Please try again later.",ERROR_NETWORK:"There was a network error. Please check your connection and try again.",NAME_EMPTY:"Please let us know how to address you.",EMAIL_INVALID:"Sorry, {email} doesn't seem to be a valid email address. Please try again.",EMAIL_INVALID_SHORT:"Please enter a valid email.",EMAIL_EMPTY:"Please enter an email.",PASSWORD_INVALID:"Passwords need to be at least 6 characters long.",PASSWORD_EMPTY:"Please enter a password.",EMAIL_NO_SPACES:"Emails may not include spaces.",PASSWORD_INCORRECT:"The password you entered for the email {email} isn't right.",PASSWORD_INCORRECT_SHORT:"The password you entered isn't right.",TOO_MANY_ATTEMPTS:"Your account has been locked due to too many incorrect password attempts. Please try again in 5 minutes.",NETWORK_ERROR_WHILE_ONLINE:{message:y,contact:{buttonText:"Need Help?",url:"https://get.momentumdash.help/hc/en-us/articles/4420582438167"}},NETWORK_ERROR_WHILE_OFFLINE:y+" Please check your internet connection and try again.",INVALID_URL:"Sorry, this URL doesn't seem to be valid. Please try again.",EXISTING_USER:"A user with that email already exists.",INCORRECT_COMBINATION:"Incorrect email & password combination.",PAYMENT_3DS_ERROR:"There was an error validating your card. Please try again.",PAYMENT_3DS_CONFIRM_ERROR:"We couldn't activate your features automatically, please check again in a few minutes",PARTNER_ID_MISMATCH_ERROR_MESSAGE:"This account already exists as a Momentum account, please enter a different email to create a Hit Quota account"},w={TOP:"position-top",RIGHT:"position-right",BOTTOM:"position-bottom",LEFT:"position-left"},k={title:"Test Sale",percentOff:10,endDate:new Date(Date.now()+6048e5).toISOString(),friendlyMonthlyPrice:2.99,friendlyPrice:36,badgeText:"Test Badge"},S={classInputLengthError:"invalid-length",msPerDay:864e5,msPerHour:36e5,dateRolloverHour:4,dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesExtraShort:["S","M","T","W","T","F","S"],keyEscape:27,keyReturn:13,minMarginSmoothScroll:50,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],suggestIntegrationLink:"https://momentum.nolt.io/",timeContentItemAnimation:200,timeSettingsFade:150,timeSmoothScroll:500,timeToggleClassTwice:100,nippleDisplacementPx:40,nippleWidthPx:14,dashboardSidePaddingPx:10,dashboardVerticalPaddingPx:10,mobileMaxWidth:450,mobileTopOrBottomClearance:60,organizationTypes:h},E=[{name:"UTC/GMT",id:"Etc/UTC"},{name:"UTC-12:00",id:"Etc/GMT+12"},{name:"UTC-11:00",id:"Etc/GMT+11"},{name:"UTC-10:00",id:"Etc/GMT+10"},{name:"UTC-09:00",id:"Etc/GMT+9"},{name:"UTC-08:00",id:"Etc/GMT+8"},{name:"UTC-07:00",id:"Etc/GMT+7"},{name:"UTC-06:00",id:"Etc/GMT+6"},{name:"UTC-05:00",id:"Etc/GMT+5"},{name:"UTC-04:00",id:"Etc/GMT+4"},{name:"UTC-03:00",id:"Etc/GMT+3"},{name:"UTC-02:00",id:"Etc/GMT+2"},{name:"UTC-01:00",id:"Etc/GMT+1"},{name:"UTC+01:00",id:"Etc/GMT-1"},{name:"UTC+02:00",id:"Etc/GMT-2"},{name:"UTC+03:00",id:"Etc/GMT-3"},{name:"UTC+04:00",id:"Etc/GMT-4"},{name:"UTC+05:00",id:"Etc/GMT-5"},{name:"UTC+06:00",id:"Etc/GMT-6"},{name:"UTC+07:00",id:"Etc/GMT-7"},{name:"UTC+08:00",id:"Etc/GMT-8"},{name:"UTC+09:00",id:"Etc/GMT-9"},{name:"UTC+10:00",id:"Etc/GMT-10"},{name:"UTC+11:00",id:"Etc/GMT-11"},{name:"UTC+12:00",id:"Etc/GMT-12"},{name:"UTC+13:00",id:"Etc/GMT-13"},{name:"UTC+14:00",id:"Etc/GMT-14"}],x={0:{name:"Momentum",title:"New Tab",plans:{plus:"Momentum Plus",teams:"Momentum Team"}},1:{name:"Hit Quota",title:"Hit Quota",plans:{plus:"Hit Quota",teams:"Hit Quota Team"},class:"partner--hitquota",requireAccount:!0,alwaysShowLogo:!0}},T=e=>{const t=S[e];return void 0===t&&console.warn("constant not found:",e),t},C=Object.freeze(Object.defineProperty({__proto__:null,access:(e,...t)=>"function"==typeof e?e.apply(null,[...t]):e,getOppositePosition:e=>{switch(e){case"right":return"left";case"left":return"right";case"top":return"bottom";case"bottom":return"top"}},mConst:T},Symbol.toStringTag,{value:"Module"})),P=1e3,I=6e4,O=36e5,R=864e5,F=t=>{const n=t.getHours(),i=e(t.getMinutes());let r;if(m.models.customization.get("hour12clock")){r=(n%12||12)+":"+i+" "+(n>=12?"PM":"AM")}else r=e(n)+":"+i;return r},M=(t,n)=>{void 0===n&&(n=m.models.customization.get("hour12clock"));let i,r,o=t.getHours();return n?(r=" "+(o<12?"AM":"PM"),o>12&&(o-=12),0===o&&(o=12),i=o):(r="",i=e(o)),i+":"+e(t.getMinutes())+r},A=(e,t,n=4)=>{const i=(new Date).getTimezoneOffset()*I*-1-O*n;return Math.floor((t.getTime()+i)/R)-Math.floor((e.getTime()+i)/R)},D=(e,t)=>{const n=(t-e)/6e4,i=n/60,r=A(new Date(e),new Date(t)),o=n<0;return{minsTot:Math.abs(Math.round(n)),hoursTot:Math.abs(Math.round(i)),nights:Math.abs(r),past:o}},L=t=>{const n=void 0===t?new Date:new Date(t);return n.getHours()<T("dateRolloverHour")&&n.setDate(n.getDate()-1),n.getFullYear().toString()+"-"+e(n.getMonth()+1)+"-"+e(n.getDate())},N=()=>new Date(L()+"T16:00:00.000").getDay(),j=(e,t)=>T(t?"dayNamesShort":"dayNames")[e.getDay()],U=(e,t)=>T(t?"monthNamesShort":"monthNames")[e.getMonth()],B=(e,t)=>{const n=new Date(e.valueOf());return(new Date(t.valueOf()).setHours(0,0,0,0)-n.setHours(0,0,0,0))/R},H=e=>-1===B(m.date(),e),q=e=>0===B(m.date(),e),z=e=>1===B(m.date(),e),W=e=>{const t=B(m.date(),e);return t>-7&&t<=0},V=(e,t=!0)=>{const n=(e=e instanceof Date?e:new Date(e)).getFullYear()===(new Date).getFullYear()?"":", "+e.getFullYear();return T("monthNamesShort")[e.getMonth()]+" "+e.getDate()+(t?n:"")},G=e=>{const t=m.date(),n=e.getFullYear();return n===t.getFullYear()?"":", "+n},Y=e=>{var t;const n=m.date(),i=e.indexOf(":");let r=Number(e.substring(0,i));return r=12===r?0:r,n.setHours(r+("p"===(null==(t=e[e.length-2])?void 0:t.toLowerCase())?12:0)),n.setMinutes(parseInt(e.substring(i+1,e.length-2))),n},K=(e,t=!0)=>{const n=t?Math.floor(e/R):0;t&&(e-=n*R);const i=Math.floor(e/O);e-=i*O;const r=Math.floor(e/I);e-=r*I;return{days:n,hours:i,minutes:r,seconds:Math.floor(e/P)}},Q=(e,t=!0)=>{const n=e<0?"- ":"",{days:i,hours:r,minutes:o}=K(Math.abs(e),t),s=i>0?`${i}d`:"",a=r>0?`${r}h`:"",u=s||a?o.toString().padStart(2,"0"):o;return 0===i&&0===r?`${n}${u}m`:`${n}${[s,a,o>0?`${u}m`:""].filter((e=>e)).join(" ")}`},J=e=>{const t=e*R;return new Date(Date.now()+t)},X=e=>J(e).toISOString(),Z=Object.freeze(Object.defineProperty({__proto__:null,MS_IN_1_DAY:R,MS_IN_1_HOUR:O,MS_IN_1_MINUTE:I,MS_IN_1_SECOND:P,calcDayMs:(e,t)=>{const n=new Date(e);let i=n.getMilliseconds()-n.setHours(0,0,0,0)-t*O;return i<0&&(i+=R),i},calcTimeLeft:D,dateAdd:(e,t,n)=>{const i=new Date(e);function r(){(null==i?void 0:i.getDate())!==e.getDate()&&(null==i||i.setDate(0))}switch(t.toLowerCase()){case"year":i.setFullYear(i.getFullYear()+n),r();break;case"quarter":i.setMonth(i.getMonth()+3*n),r();break;case"month":i.setMonth(i.getMonth()+n),r();break;case"week":i.setDate(i.getDate()+7*n);break;case"day":i.setDate(i.getDate()+n);break;case"hour":i.setTime(i.getTime()+36e5*n);break;case"minute":i.setTime(i.getTime()+6e4*n);break;case"second":i.setTime(i.getTime()+1e3*n)}return i},dateDiffIntegerDays:B,dateIsInLast7d:W,dateIsToday:q,dateIsTomorrow:z,dateIsYesterday:H,extractTimeElapsedData:K,formatMonthDayRelative:(e,t)=>{let n;return n=z(e)?"Tomorrow":q(e)?"Today":H(e)?"Yesterday":U(e,t)+" "+e.getDate(),n},formatRelativeDate:e=>{let t;return t=q(e)?F(e):W(e)?j(e,!0):U(e,!0)+" "+e.getDate()+G(e),t},formatTime:F,formatYearRelative:G,getCurrentDayIndex:N,getDateDayOffset:J,getDateOnly:t=>t.getFullYear().toString()+"-"+e(t.getMonth()+1)+"-"+e(t.getDate()),getDateString:L,getDateStringDayOffset:e=>L(J(e)),getDayName:j,getDayPart:e=>{const t=e.getHours();let n;return n=t>=T("dateRolloverHour")&&t<12?"morning":t>=12&&t<17?"afternoon":"evening",n},getDaysInMonth:(e,t)=>new Date(e,t+1,0).getDate(),getFriendlyDate:V,getFriendlyDateTime:e=>V(e).replace(",","")+", "+M(e).toLowerCase().replace(" ",""),getFriendlyTimeElapsed:e=>{const t=e<0?"- ":"",{hours:n,minutes:i,seconds:r}=K(Math.abs(e)),o=`${n} hour${1!==n?"s":""}`,s=`${i} minute${1!==i?"s":""}`;return n>0&&0===i?t+o:n>0?`${t}${o} and ${s}`:i>0?t+s:t+`${r} second${1!==r?"s":""}`},getFriendlyTimeElapsedSmall:Q,getHoursMinsStr:M,getISOStringDayOffset:X,getMonthName:U,nightsBetween:A,parseIsoDatetime:e=>{const t=e.split(/[: T-]/).map(parseFloat);return new Date(t[0],t[1]-1,t[2],t[3]||0,t[4]||0,t[5]||0,0)},toTodaysTime:Y},Symbol.toStringTag,{value:"Module"})),ee=[33,34,40,41,46,63,91,93,96,123,125,8220,8221,8230],te=e=>{if(null==e?void 0:e.includes("+")){const t=e.split(/[+@]/);return t.splice(1,1),t.join("@")}return e},ne=e=>ee.includes(e.charCodeAt(0)),ie=e=>e.replace(/\w\S*/g,(e=>e.charAt(0).toUpperCase()+e.substring(1).toLowerCase())),re=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n)),oe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z])([A-Z][a-z])/g,"$1-$2").replace(/([a-zA-Z])([0-9])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),se=(e,t,n)=>{if(!e||!t.length)return t;const i=e.toUpperCase().split(" "),r=e.toUpperCase().split(""),o={};r.forEach((e=>{" "!==e&&(e in o&&void 0!==o[e]?o[e]++:o[e]=1)}));const s=e=>{return e?(t=e,i.every((e=>t.toUpperCase().includes(e)))?i[0]&&e.toUpperCase().startsWith(i[0])?2:1:0):0;var t};return t.filter((e=>{return t=e[n]??"",i=o,Object.keys(i).every((e=>t.toUpperCase().split(e).length-1>=(i[e]??0)));var t,i})).sort(((e,t)=>s(t[n])-s(e[n])))},ae=(e,t,n)=>{var i,r,o,s;let a=-1;for(;t.length-e.length>=a++;){let u=0,l=a;if(null==(i=t[l])?void 0:i.match(n))continue;let c=!0;for(;c;)if(l>=t.length||u>=e.length)c=!1;else if(null==(r=t[l])?void 0:r.match(n))l++;else if((null==(o=t[l])?void 0:o.toLowerCase())===(null==(s=e[u])?void 0:s.toLowerCase())){if(u++,l++,u===e.length)return t.substring(a,l)}else c=!1}},ue=e=>e.replaceAll("\n"," ").replaceAll("\t"," ").split(" ").find((e=>e.startsWith("https://")&&(e.includes("zoom.us/j/")||e.includes("meet.google.com")||e.includes("teams.microsoft.com/l/meetup-join/"))))??null,le=Object.freeze(Object.defineProperty({__proto__:null,capitalizeWords:ie,endsWithEndPunctuation:e=>!!e&&ne(e.slice(-1)),findMeetingLink:ue,findStringSubset:ae,fuzzyFilter:se,getBaseEmail:te,getEndPunctuationString:e=>{let t,n="";for(let i=e.length-1;i>=0&&(t=e.charAt(i),ne(t));i--)n=t+n;return n},getPseudoRandomFromString:e=>{var n;return((null==(n=t(e))?void 0:n.splice(0,4))??[]).reverse().reduce(((e,t)=>256*e+t))%10007/10007},isEndPunctuationChar:ne,isVowel:(e,t)=>{if(!e)return!1;const n=["a","e","i","o","u"];return t&&n.push("y"),-1!==n.indexOf(e.toLowerCase())},lineBreakString:(e,t)=>{const n=(e,t,n,i,r,o=0)=>{let s,a=0,u=t-1;if(r)s=0;else{s=t-o;const i=e.slice(0,s-1);n.push(" "),n.push(i),a=s-1,u+=s-1}for(let l=Math.round((e.length-s)/t);l>=0;l--){const o=e.slice(a,u);if(!o)break;r?r=!1:(n.push(0===a?"<br>":"-<br>"),i=n.length-1),n.push(o),a+=t-1,u+=t-1}return i};if(!e)return;if(e.length<=t)return e;const i=e.split(" "),r=[];let o=0;return i.forEach((function(e,i){const s=((e,t)=>{let n=0;return t&&(e=e.slice(t)),e.forEach((function(e){n+=e.length})),n})(r,o?o+1:0);i?e.length+s>t?e.length>t&&!e.includes("-")?o=n(e,t,r,o,!1,s):(r.push("<br>"),o=r.length-1,r.push(e)):(r.push(" "),r.push(e)):e.length>t&&!e.includes("-")?o=n(e,t,r,o,!0):r.push(e)})),r.join("")},removeTags:e=>{const t="(?:[^\"'>]|\"[^\"]*\"|'[^']*')*",n=new RegExp("<(?:!--(?:(?:-*[^->])*--+|-?)|script\\b"+t+">[\\s\\S]*?</script\\s*|style\\b"+t+">[\\s\\S]*?</style\\s*|/?[a-z]"+t+")>","gi");let i;do{i=e,e=e.replace(n,"")}while(e!==i);return e.replace(/</g,"&lt;")},toCamelCase:re,toKebabCase:oe,toPascalCase:e=>e.toLowerCase().replace(/(^\w|-\w)/g,(e=>e.replace("-","").toUpperCase()))},Symbol.toStringTag,{value:"Module"}));class ce{constructor(e){"string"==typeof e?this.message=e:(this.message=e.message,e.contact&&(this.contact=e.contact),e.type&&(this.type=e.type),e.input&&(this.input=e.input),e.retry&&(this.retry=e.retry))}get baseMessageProps(){return{message:this.message,...this.retry?{retry:this.retry}:{},...this.contact?{contact:this.contact}:{}}}}const de=window.globals??{URL_ROOT_API:"https://api.momentumdash.com/",URL_ROOT_ACCOUNT:"https://account.momentumdash.com/",URL_ROOT_MARKETING:"https://www.momentumdash.com/",VERSION:"2.25.3",PLATFORM:"Chrome",PARTNER_ID:0,MODE:"production",BETA:!1},fe=()=>{const e=ke();return["Safari","PWA"].includes(e)},pe=()=>"Edge"===de.PLATFORM,he=()=>"Chrome"===de.PLATFORM,ve=()=>"Chrome"===de.PLATFORM||"Edge"===de.PLATFORM,ge=()=>!!ve()&&!!chrome.extension,_e=()=>"Safari"===de.PLATFORM,me=()=>"Firefox"===de.PLATFORM,ye=()=>"PWA"===de.PLATFORM,be=()=>!ye()&&window.matchMedia("(display-mode: standalone)").matches,we=()=>_e(),ke=()=>de.PLATFORM,Se=()=>ve()?window.chrome:window.browser,Ee=()=>{const e=Ce();if(_e())return"topsites://";if(pe())return e&&e<=87?"chrome-search://local-ntp/local-ntp.html":"https://ntp.msn.com/edge/ntp";if(he())return e&&e<=121?"chrome-search://local-ntp/local-ntp.html":"chrome://new-tab-page/";throw new ce("Unable to get new tab for browser!")},xe=()=>["Chrome","Edge","Safari"].includes(ke()),Te=()=>{const e=Ce();return e&&e>=122&&!pe()?"chrome://new-tab-page/":"chrome-search://local-ntp/local-ntp.html"},Ce=()=>{const e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);if(!e)return null;const t=e[2];return t?parseInt(t,10):null},Pe=()=>window.location.href.split("-extension://")[0]||"chrome",Ie=(e=navigator.userAgent)=>e.includes("Gecko/")&&!e.includes("like Gecko"),Oe=(e=navigator.userAgent)=>e.includes("Chrome/"),Re=(e=navigator.userAgent)=>e.includes("AppleWebKit/")&&!e.includes("Chrome"),$e=(e,t,n)=>{"Safari"===de.PLATFORM?chrome.tabs.create({url:e}):window.open(e,t,n)},Fe=Object.freeze(Object.defineProperty({__proto__:null,bookmarksNotSupported:fe,browserSupportsDefaultNewTabUrl:xe,getBrowser:Se,getBrowserDefaultNewTabPageUrl:Ee,getChromeNewTabPageUrl:Te,getChromeVersion:Ce,getCurrentBrowserFromUrl:Pe,getPlatformName:ke,getRenderingEngine:()=>{const e={Chrome:"Blink",Edge:"Blink",Firefox:"Gecko",Safari:"Webkit"},t=ke();return t in e?e[t]:Ie()?"Gecko":Oe()?"Blink":Re()?"WebKit":"Unknown"},isBlink:Oe,isChrome:he,isChromium:ve,isChromiumExtension:ge,isEdge:pe,isExtensionPwa:be,isFirefox:me,isGecko:Ie,isPwa:ye,isSafari:_e,isWebKit:Re,openWindow:$e,useAppleAppPayment:we},Symbol.toStringTag,{value:"Module"}));function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){Ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ne(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function je(e,t,n){return t&&Ne(e.prototype,t),n&&Ne(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(u){a=!0,r=u}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(e,t)||qe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function He(e){return function(e){if(Array.isArray(e))return ze(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e,t){if(e){if("string"==typeof e)return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ze(e,t):void 0}}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function We(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=qe(e))||t){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}var Ve={DEBUG:!1,LIB_VERSION:"1.164.3"},Ge=Array.isArray,Ye=Object.prototype,Ke=Ye.hasOwnProperty,Qe=Ye.toString,Je=Ge||function(e){return"[object Array]"===Qe.call(e)},Xe=function(e){return"function"==typeof e},Ze=function(e){return e===Object(e)&&!Je(e)},et=function(e){if(Ze(e)){for(var t in e)if(Ke.call(e,t))return!1;return!0}return!1},tt=function(e){return void 0===e},nt=function(e){return"[object String]"==Qe.call(e)},it=function(e){return nt(e)&&0===e.trim().length},rt=function(e){return null===e},ot=function(e){return tt(e)||rt(e)},st=function(e){return"[object Number]"==Qe.call(e)},at=function(e){return"[object Boolean]"===Qe.call(e)},ut=function(e){return e instanceof FormData},lt="undefined"!=typeof window?window:void 0,ct="undefined"!=typeof globalThis?globalThis:lt,dt=Array.prototype,ft=dt.forEach,pt=dt.indexOf,ht=null==ct?void 0:ct.navigator,vt=null==ct?void 0:ct.document,gt=null==ct?void 0:ct.location,_t=null==ct?void 0:ct.fetch,mt=null!=ct&&ct.XMLHttpRequest&&"withCredentials"in new ct.XMLHttpRequest?ct.XMLHttpRequest:void 0,yt=null==ct?void 0:ct.AbortController,bt=null==ht?void 0:ht.userAgent,wt=null!=lt?lt:{},kt="[PostHog.js]",St={_log:function(e){if(lt&&(Ve.DEBUG||wt.POSTHOG_DEBUG)&&!tt(lt.console)&&lt.console){for(var t=("__rrweb_original__"in lt.console[e]?lt.console[e].__rrweb_original__:lt.console[e]),n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t.apply(void 0,[kt].concat(i))}},info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];St._log.apply(St,["log"].concat(t))},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];St._log.apply(St,["warn"].concat(t))},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];St._log.apply(St,["error"].concat(t))},critical:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];(e=console).error.apply(e,[kt].concat(n))},uninitializedWarning:function(e){St.error("You must initialize PostHog before calling ".concat(e))}},Et={},xt=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function Tt(e,t,n){if(Je(e))if(ft&&e.forEach===ft)e.forEach(t,n);else if("length"in e&&e.length===+e.length)for(var i=0,r=e.length;i<r;i++)if(i in e&&t.call(n,e[i],i)===Et)return}function Ct(e,t,n){if(!ot(e)){if(Je(e))return Tt(e,t,n);if(ut(e)){var i,r=We(e.entries());try{for(r.s();!(i=r.n()).done;){var o=i.value;if(t.call(n,o[1],o[0])===Et)return}}catch(a){r.e(a)}finally{r.f()}}else for(var s in e)if(Ke.call(e,s)&&t.call(n,e[s],s)===Et)return}}var Pt=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Tt(n,(function(t){for(var n in t)void 0!==t[n]&&(e[n]=t[n])})),e};function It(e,t){return-1!==e.indexOf(t)}function Ot(e){for(var t=Object.keys(e),n=t.length,i=new Array(n);n--;)i[n]=[t[n],e[t[n]]];return i}var Rt=function(e){try{return e()}catch(t){return}},$t=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(this,n)}catch(r){St.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),St.critical(r)}}},Ft=function(e){var t={};return Ct(e,(function(e,n){nt(e)&&e.length>0&&(t[n]=e)})),t},Mt=function(e){return e.replace(/^\$/,"")};var At,Dt,Lt=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,n,i,r,o){if(t)if(t.addEventListener&&!r)t.addEventListener(n,i,!!o);else{var s="on"+n,a=t[s];t[s]=function(t,n,i){return function(r){if(r=r||e(null==lt?void 0:lt.event)){var o,s=!0;Xe(i)&&(o=i(r));var a=n.call(t,r);return!1!==o&&!1!==a||(s=!1),s}}}(t,i,a)}else St.error("No valid element provided to register_event")}}();function Nt(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}(Dt=At||(At={})).GZipJS="gzip-js",Dt.Base64="base64";var jt="$people_distinct_id",Ut="__alias",Bt="__timers",Ht="$autocapture_disabled_server_side",qt="$heatmaps_enabled_server_side",zt="$exception_capture_enabled_server_side",Wt="$exception_capture_endpoint_suffix",Vt="$web_vitals_enabled_server_side",Gt="$web_vitals_allowed_metrics",Yt="$session_recording_enabled_server_side",Kt="$console_log_recording_enabled_server_side",Qt="$session_recording_network_payload_capture",Jt="$session_recording_canvas_recording",Xt="$replay_sample_rate",Zt="$replay_minimum_duration",en="$sesid",tn="$session_is_sampled",nn="$enabled_feature_flags",rn="$early_access_features",on="$stored_person_properties",sn="$stored_group_properties",an="$surveys",un="$surveys_activated",ln="$flag_call_reported",cn="$user_state",dn="$client_session_props",fn="$capture_rate_limit",pn="$initial_campaign_params",hn="$initial_referrer_info",vn="$initial_person_info",gn="$epp",_n="__POSTHOG_TOOLBAR__",mn=[jt,Ut,"__cmpns",Bt,Yt,qt,en,nn,cn,rn,sn,on,an,ln,dn,fn,pn,hn,gn],yn="$active_feature_flags",bn="$override_feature_flags",wn="$feature_flag_payloads",kn=function(e){var t,n={},i=We(Ot(e||{}));try{for(i.s();!(t=i.n()).done;){var r=Be(t.value,2),o=r[0],s=r[1];s&&(n[o]=s)}}catch(a){i.e(a)}finally{i.f()}return n},Sn=function(){function e(t){Le(this,e),this.instance=t,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}return je(e,[{key:"getFlags",value:function(){return Object.keys(this.getFlagVariants())}},{key:"getFlagVariants",value:function(){var e=this.instance.get_property(nn),t=this.instance.get_property(bn);if(!t)return e||{};for(var n=Pt({},e),i=Object.keys(t),r=0;r<i.length;r++)n[i[r]]=t[i[r]];return this._override_warning||(St.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:t,finalFlags:n}),this._override_warning=!0),n}},{key:"getFlagPayloads",value:function(){return this.instance.get_property(wn)||{}}},{key:"reloadFeatureFlags",value:function(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}},{key:"setAnonymousDistinctId",value:function(e){this.$anon_distinct_id=e}},{key:"setReloadingPaused",value:function(e){this.reloadFeatureFlagsInAction=e}},{key:"resetRequestQueue",value:function(){this.reloadFeatureFlagsQueued=!1}},{key:"_startReloadTimer",value:function(){var e=this;this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout((function(){!e.reloadFeatureFlagsInAction&&e.reloadFeatureFlagsQueued&&(e.reloadFeatureFlagsQueued=!1,e._reloadFeatureFlagsRequest())}),5)}},{key:"_reloadFeatureFlagsRequest",value:function(){var e=this;if(!this.instance.config.advanced_disable_feature_flags){this.setReloadingPaused(!0);var t=this.instance.config.token,n=this.instance.get_property(on),i=this.instance.get_property(sn),r={token:t,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:n,group_properties:i,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:r,compression:this.instance.config.disable_compression?void 0:At.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(t){var n;e.setReloadingPaused(!1);var i=!0;200===t.statusCode&&(e.$anon_distinct_id=void 0,i=!1),e.receivedFeatureFlags(null!==(n=t.json)&&void 0!==n?n:{},i),e._startReloadTimer()}})}}},{key:"getFeatureFlag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var n,i=this.getFlagVariants()[e],r="".concat(i),o=this.instance.get_property(ln)||{};return!t.send_event&&"send_event"in t||e in o&&o[e].includes(r)||(Je(o[e])?o[e].push(r):o[e]=[r],null===(n=this.instance.persistence)||void 0===n||n.register(Ue({},ln,o)),this.instance.capture("$feature_flag_called",{$feature_flag:e,$feature_flag_response:i})),i}St.warn('getFeatureFlag for key "'+e+"\" failed. Feature flags didn't load in time.")}},{key:"getFeatureFlagPayload",value:function(e){return this.getFlagPayloads()[e]}},{key:"isFeatureEnabled",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,t);St.warn('isFeatureEnabled for key "'+e+"\" failed. Feature flags didn't load in time.")}},{key:"addFeatureFlagsHandler",value:function(e){this.featureFlagEventHandlers.push(e)}},{key:"removeFeatureFlagsHandler",value:function(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((function(t){return t!==e}))}},{key:"receivedFeatureFlags",value:function(e,t){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var n=this.getFlagVariants(),i=this.getFlagPayloads();!function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e.featureFlags,s=e.featureFlagPayloads;if(o)if(Je(o)){var a,u={};if(o)for(var l=0;l<o.length;l++)u[o[l]]=!0;t&&t.register((Ue(a={},yn,o),Ue(a,nn,u),a))}else{var c=o,d=s;e.errorsWhileComputingFlags&&(c=Ae(Ae({},i),c),d=Ae(Ae({},r),d)),t&&t.register((Ue(n={},yn,Object.keys(kn(c))),Ue(n,nn,c||{}),Ue(n,wn,d||{}),n))}}(e,this.instance.persistence,n,i),this._fireFeatureFlagsCallbacks(t)}}},{key:"override",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.instance.__loaded||!this.instance.persistence)return St.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=t,!1===e)this.instance.persistence.unregister(bn);else if(Je(e)){for(var n={},i=0;i<e.length;i++)n[e[i]]=!0;this.instance.persistence.register(Ue({},bn,n))}else this.instance.persistence.register(Ue({},bn,e))}},{key:"onFeatureFlags",value:function(e){var t=this;if(this.addFeatureFlagsHandler(e),this.instance.decideEndpointWasHit){var n=this._prepareFeatureFlagsForCallbacks(),i=n.flags,r=n.flagVariants;e(i,r)}return function(){return t.removeFeatureFlagsHandler(e)}}},{key:"updateEarlyAccessFeatureEnrollment",value:function(e,t){var n,i,r=Ue({},"$feature_enrollment/".concat(e),t);this.instance.capture("$feature_enrollment_update",{$feature_flag:e,$feature_enrollment:t,$set:r}),this.setPersonPropertiesForFlags(r,!1);var o=Ae(Ae({},this.getFlagVariants()),{},Ue({},e,t));null===(n=this.instance.persistence)||void 0===n||n.register((Ue(i={},yn,Object.keys(kn(o))),Ue(i,nn,o),i)),this._fireFeatureFlagsCallbacks()}},{key:"getEarlyAccessFeatures",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.instance.get_property(rn);if(i&&!n)return e(i);this.instance._send_request({transport:"XHR",url:this.instance.requestRouter.endpointFor("api","/api/early_access_features/?token=".concat(this.instance.config.token)),method:"GET",callback:function(n){var i;if(n.json){var r=n.json.earlyAccessFeatures;return null===(i=t.instance.persistence)||void 0===i||i.register(Ue({},rn,r)),e(r)}}})}},{key:"_prepareFeatureFlagsForCallbacks",value:function(){var e=this.getFlags(),t=this.getFlagVariants();return{flags:e.filter((function(e){return t[e]})),flagVariants:Object.keys(t).filter((function(e){return t[e]})).reduce((function(e,n){return e[n]=t[n],e}),{})}}},{key:"_fireFeatureFlagsCallbacks",value:function(e){var t=this._prepareFeatureFlagsForCallbacks(),n=t.flags,i=t.flagVariants;this.featureFlagEventHandlers.forEach((function(t){return t(n,i,{errorsLoading:e})}))}},{key:"setPersonPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.instance.get_property(on)||{};this.instance.register(Ue({},on,Ae(Ae({},n),e))),t&&this.instance.reloadFeatureFlags()}},{key:"resetPersonPropertiesForFlags",value:function(){this.instance.unregister(on)}},{key:"setGroupPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.instance.get_property(sn)||{};0!==Object.keys(n).length&&Object.keys(n).forEach((function(t){n[t]=Ae(Ae({},n[t]),e[t]),delete e[t]})),this.instance.register(Ue({},sn,Ae(Ae({},n),e))),t&&this.instance.reloadFeatureFlags()}},{key:"resetGroupPropertiesForFlags",value:function(e){if(e){var t=this.instance.get_property(sn)||{};this.instance.register(Ue({},sn,Ae(Ae({},t),{},Ue({},e,{}))))}else this.instance.unregister(sn)}}]),e}();Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return st(e)&&isFinite(e)&&Math.floor(e)===e});var En="0123456789abcdef",xn=function(){function e(t){if(Le(this,e),this.bytes=t,16!==t.length)throw new TypeError("not 128-bit length")}return je(e,[{key:"toString",value:function(){for(var e="",t=0;t<this.bytes.length;t++)e=e+En.charAt(this.bytes[t]>>>4)+En.charAt(15&this.bytes[t]),3!==t&&5!==t&&7!==t&&9!==t||(e+="-");if(36!==e.length)throw new Error("Invalid UUIDv7 was generated");return e}},{key:"clone",value:function(){return new e(this.bytes.slice(0))}},{key:"equals",value:function(e){return 0===this.compareTo(e)}},{key:"compareTo",value:function(e){for(var t=0;t<16;t++){var n=this.bytes[t]-e.bytes[t];if(0!==n)return Math.sign(n)}return 0}}],[{key:"fromFieldsV7",value:function(t,n,i,r){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(i)||!Number.isInteger(r)||t<0||n<0||i<0||r<0||t>0xffffffffffff||n>4095||i>1073741823||r>4294967295)throw new RangeError("invalid field value");var o=new Uint8Array(16);return o[0]=t/Math.pow(2,40),o[1]=t/Math.pow(2,32),o[2]=t/Math.pow(2,24),o[3]=t/Math.pow(2,16),o[4]=t/Math.pow(2,8),o[5]=t,o[6]=112|n>>>8,o[7]=n,o[8]=128|i>>>24,o[9]=i>>>16,o[10]=i>>>8,o[11]=i,o[12]=r>>>24,o[13]=r>>>16,o[14]=r>>>8,o[15]=r,new e(o)}}]),e}(),Tn=function(){function e(){Le(this,e),Ue(this,"timestamp",0),Ue(this,"counter",0),Ue(this,"random",new In)}return je(e,[{key:"generate",value:function(){var e=this.generateOrAbort();if(tt(e)){this.timestamp=0;var t=this.generateOrAbort();if(tt(t))throw new Error("Could not generate UUID after timestamp reset");return t}return e}},{key:"generateOrAbort",value:function(){var e=Date.now();if(e>this.timestamp)this.timestamp=e,this.resetCounter();else{if(!(e+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return xn.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}},{key:"resetCounter",value:function(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}]),e}(),Cn=function(e){if("undefined"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};lt&&!tt(lt.crypto)&&crypto.getRandomValues&&(Cn=function(e){return crypto.getRandomValues(e)});var Pn,In=function(){function e(){Le(this,e),Ue(this,"buffer",new Uint32Array(8)),Ue(this,"cursor",1/0)}return je(e,[{key:"nextUint32",value:function(){return this.cursor>=this.buffer.length&&(Cn(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}]),e}(),On=function(){return Rn().toString()},Rn=function(){return(Pn||(Pn=new Tn)).generate()},$n="",Fn=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;var Mn,An={is_supported:function(){return!!vt},error:function(e){St.error("cookieStore error: "+e)},get:function(e){if(vt){try{for(var t=e+"=",n=vt.cookie.split(";").filter((function(e){return e.length})),i=0;i<n.length;i++){for(var r=n[i];" "==r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return decodeURIComponent(r.substring(t.length,r.length))}}catch(o){}return null}},parse:function(e){var t;try{t=JSON.parse(An.get(e))||{}}catch(n){}return t},set:function(e,t,n,i,r){if(vt)try{var o="",s="",a=function(e,t){if(t){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vt;if($n)return $n;if(!t)return"";if(["localhost","127.0.0.1"].includes(e))return"";for(var n=e.split("."),i=Math.min(n.length,8),r="dmn_chk_"+On(),o=new RegExp("(^|;)\\s*"+r+"=1");!$n&&i--;){var s=n.slice(i).join("."),a=r+"=1;domain=."+s;t.cookie=a,o.test(t.cookie)&&(t.cookie=a+";expires=Thu, 01 Jan 1970 00:00:00 GMT",$n=s)}return $n}(e);if(!n){var i=(r=e.match(Fn))?r[0]:"";i!==n&&St.info("Warning: cookie subdomain discovery mismatch",i,n),n=i}return n?"; domain=."+n:""}var r;return""}(vt.location.hostname,i);if(n){var u=new Date;u.setTime(u.getTime()+24*n*60*60*1e3),o="; expires="+u.toUTCString()}r&&(s="; secure");var l=e+"="+encodeURIComponent(JSON.stringify(t))+o+"; SameSite=Lax; path=/"+a+s;return l.length>3686.4&&St.warn("cookieStore warning: large cookie, len="+l.length),vt.cookie=l,l}catch(c){return}},remove:function(e,t){try{An.set(e,"",-1,t)}catch(n){return}}},Dn=null,Ln={is_supported:function(){if(!rt(Dn))return Dn;var e=!0;if(tt(lt))e=!1;else try{var t="__mplssupport__";Ln.set(t,"xyz"),'"xyz"'!==Ln.get(t)&&(e=!1),Ln.remove(t)}catch(n){e=!1}return e||St.error("localStorage unsupported; falling back to cookie store"),Dn=e,e},error:function(e){St.error("localStorage error: "+e)},get:function(e){try{return null==lt?void 0:lt.localStorage.getItem(e)}catch(t){Ln.error(t)}return null},parse:function(e){try{return JSON.parse(Ln.get(e))||{}}catch(t){}return null},set:function(e,t){try{null==lt||lt.localStorage.setItem(e,JSON.stringify(t))}catch(n){Ln.error(n)}},remove:function(e){try{null==lt||lt.localStorage.removeItem(e)}catch(t){Ln.error(t)}}},Nn=["distinct_id",en,tn,gn],jn=Ae(Ae({},Ln),{},{parse:function(e){try{var t={};try{t=An.parse(e)||{}}catch(i){}var n=Pt(t,JSON.parse(Ln.get(e)||"{}"));return Ln.set(e,n),n}catch(i){}return null},set:function(e,t,n,i,r,o){try{Ln.set(e,t,void 0,void 0,o);var s={};Nn.forEach((function(e){t[e]&&(s[e]=t[e])})),Object.keys(s).length&&An.set(e,s,n,i,r,o)}catch(a){Ln.error(a)}},remove:function(e,t){try{null==lt||lt.localStorage.removeItem(e),An.remove(e,t)}catch(n){Ln.error(n)}}}),Un={},Bn={is_supported:function(){return!0},error:function(e){St.error("memoryStorage error: "+e)},get:function(e){return Un[e]||null},parse:function(e){return Un[e]||null},set:function(e,t){Un[e]=t},remove:function(e){delete Un[e]}},Hn=null,qn={is_supported:function(){if(!rt(Hn))return Hn;if(Hn=!0,tt(lt))Hn=!1;else try{var e="__support__";qn.set(e,"xyz"),'"xyz"'!==qn.get(e)&&(Hn=!1),qn.remove(e)}catch(t){Hn=!1}return Hn},error:function(e){St.error("sessionStorage error: ",e)},get:function(e){try{return null==lt?void 0:lt.sessionStorage.getItem(e)}catch(t){qn.error(t)}return null},parse:function(e){try{return JSON.parse(qn.get(e))||null}catch(t){}return null},set:function(e,t){try{null==lt||lt.sessionStorage.setItem(e,JSON.stringify(t))}catch(n){qn.error(n)}},remove:function(e){try{null==lt||lt.sessionStorage.removeItem(e)}catch(t){qn.error(t)}}},zn=["localhost","127.0.0.1"],Wn=function(e){var t=null==vt?void 0:vt.createElement("a");return tt(t)?null:(t.href=e,t)},Vn=function(e,t){return!!function(e){try{new RegExp(e)}catch(t){return!1}return!0}(t)&&new RegExp(t).test(e)},Gn=function(e,t){for(var n,i=((e.split("#")[0]||"").split("?")[1]||"").split("&"),r=0;r<i.length;r++){var o=i[r].split("=");if(o[0]===t){n=o;break}}if(!Je(n)||n.length<2)return"";var s=n[1];try{s=decodeURIComponent(s)}catch(a){St.error("Skipping decoding for malformed query param: "+s)}return s.replace(/\+/g," ")},Yn=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},Kn="Mobile",Qn="iOS",Jn="Android",Xn="Tablet",Zn=Jn+" "+Xn,ei="iPad",ti="Apple",ni=ti+" Watch",ii="Safari",ri="BlackBerry",oi="Samsung",si=oi+"Browser",ai=oi+" Internet",ui="Chrome",li=ui+" OS",ci=ui+" "+Qn,di="Internet Explorer",fi=di+" "+Kn,pi="Opera",hi=pi+" Mini",vi="Edge",gi="Microsoft "+vi,_i="Firefox",mi=_i+" "+Qn,yi="Nintendo",bi="PlayStation",wi="Xbox",ki=Jn+" "+Kn,Si=Kn+" "+ii,Ei="Windows",xi=Ei+" Phone",Ti="Nokia",Ci="Ouya",Pi="Generic",Ii=Pi+" "+Kn.toLowerCase(),Oi=Pi+" "+Xn.toLowerCase(),Ri="Konqueror",$i="(\\d+(\\.\\d+)?)",Fi=new RegExp("Version/"+$i),Mi=new RegExp(wi,"i"),Ai=new RegExp(bi+" \\w+","i"),Di=new RegExp(yi+" \\w+","i"),Li=new RegExp(ri+"|PlayBook|BB10","i"),Ni={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},ji=function(e,t){return t=t||"",It(e," OPR/")&&It(e,"Mini")?hi:It(e," OPR/")?pi:Li.test(e)?ri:It(e,"IE"+Kn)||It(e,"WPDesktop")?fi:It(e,si)?ai:It(e,vi)||It(e,"Edg/")?gi:It(e,"FBIOS")?"Facebook "+Kn:It(e,"UCWEB")||It(e,"UCBrowser")?"UC Browser":It(e,"CriOS")?ci:It(e,"CrMo")?ui:It(e,Jn)&&It(e,ii)?ki:It(e,ui)?ui:It(e,"FxiOS")?mi:It(e.toLowerCase(),Ri.toLowerCase())?Ri:function(e,t){return t&&It(t,ti)||It(n=e,ii)&&!It(n,ui)&&!It(n,Jn);var n}(e,t)?It(e,Kn)?Si:ii:It(e,_i)?_i:It(e,"MSIE")||It(e,"Trident/")?di:It(e,"Gecko")?_i:""},Ui=(Ue(Mn={},fi,[new RegExp("rv:"+$i)]),Ue(Mn,gi,[new RegExp(vi+"?\\/"+$i)]),Ue(Mn,ui,[new RegExp("("+ui+"|CrMo)\\/"+$i)]),Ue(Mn,ci,[new RegExp("CriOS\\/"+$i)]),Ue(Mn,"UC Browser",[new RegExp("(UCBrowser|UCWEB)\\/"+$i)]),Ue(Mn,ii,[Fi]),Ue(Mn,Si,[Fi]),Ue(Mn,pi,[new RegExp("(Opera|OPR)\\/"+$i)]),Ue(Mn,_i,[new RegExp(_i+"\\/"+$i)]),Ue(Mn,mi,[new RegExp("FxiOS\\/"+$i)]),Ue(Mn,Ri,[new RegExp("Konqueror[:/]?"+$i,"i")]),Ue(Mn,ri,[new RegExp(ri+" "+$i),Fi]),Ue(Mn,ki,[new RegExp("android\\s"+$i,"i")]),Ue(Mn,ai,[new RegExp(si+"\\/"+$i)]),Ue(Mn,di,[new RegExp("(rv:|MSIE )"+$i)]),Ue(Mn,"Mozilla",[new RegExp("rv:"+$i)]),Mn),Bi=[[new RegExp(wi+"; "+wi+" (.*?)[);]","i"),function(e){return[wi,e&&e[1]||""]}],[new RegExp(yi,"i"),[yi,""]],[new RegExp(bi,"i"),[bi,""]],[Li,[ri,""]],[new RegExp(Ei,"i"),function(e,t){if(/Phone/.test(t)||/WPDesktop/.test(t))return[xi,""];if(new RegExp(Kn).test(t)&&!/IEMobile\b/.test(t))return[Ei+" "+Kn,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var i=n[1],r=Ni[i]||"";return/arm/i.test(t)&&(r="RT"),[Ei,r]}return[Ei,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,function(e){if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[Qn,t.join(".")]}return[Qn,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,function(e){var t="";return e&&e.length>=3&&(t=tt(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+Jn+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+Jn+")","i"),function(e){if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[Jn,t.join(".")]}return[Jn,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,function(e){var t=["Mac OS X",""];if(e&&e[1]){var n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[li,""]],[/Linux|debian/i,["Linux",""]]],Hi=function(e){return Di.test(e)?yi:Ai.test(e)?bi:Mi.test(e)?wi:new RegExp(Ci,"i").test(e)?Ci:new RegExp("("+xi+"|WPDesktop)","i").test(e)?xi:/iPad/.test(e)?ei:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?ni:Li.test(e)?ri:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(Ti,"i").test(e)?Ti:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(Kn).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?Jn:Zn:Jn:new RegExp("(pda|"+Kn+")","i").test(e)?Ii:new RegExp(Xn,"i").test(e)&&!new RegExp(Xn+" pc","i").test(e)?Oi:""},qi="https?://(.*)",zi=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gad_source","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","mc_cid","igshid","ttclid","rdt_cid"],Wi={campaignParams:function(e){return vt?this._campaignParamsFromUrl(vt.URL,e):{}},_campaignParamsFromUrl:function(e,t){var n=zi.concat(t||[]),i={};return Ct(n,(function(t){var n=Gn(e,t);n&&(i[t]=n)})),i},_searchEngine:function(e){return e?0===e.search(qi+"google.([^/?]*)")?"google":0===e.search(qi+"bing.com")?"bing":0===e.search(qi+"yahoo.com")?"yahoo":0===e.search(qi+"duckduckgo.com")?"duckduckgo":null:null},_searchInfoFromReferrer:function(e){var t=Wi._searchEngine(e),n="yahoo"!=t?"q":"p",i={};if(!rt(t)){i.$search_engine=t;var r=vt?Gn(vt.referrer,n):"";r.length&&(i.ph_keyword=r)}return i},searchInfo:function(){var e=null==vt?void 0:vt.referrer;return e?this._searchInfoFromReferrer(e):{}},browser:ji,browserVersion:function(e,t){var n=ji(e,t),i=Ui[n];if(tt(i))return null;for(var r=0;r<i.length;r++){var o=i[r],s=e.match(o);if(s)return parseFloat(s[s.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(e){for(var t=0;t<Bi.length;t++){var n=Be(Bi[t],2),i=n[0],r=n[1],o=i.exec(e),s=o&&(Xe(r)?r(o,e):r);if(s)return s}return["",""]},device:Hi,deviceType:function(e){var t=Hi(e);return t===ei||t===Zn||"Kobo"===t||"Kindle Fire"===t||t===Oi?Xn:t===yi||t===wi||t===bi||t===Ci?"Console":t===ni?"Wearable":t?Kn:"Desktop"},referrer:function(){return(null==vt?void 0:vt.referrer)||"$direct"},referringDomain:function(){var e;return null!=vt&&vt.referrer&&(null===(e=Wn(vt.referrer))||void 0===e?void 0:e.host)||"$direct"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},initialPersonInfo:function(){return{r:this.referrer(),u:null==gt?void 0:gt.href}},initialPersonPropsFromInfo:function(e){var t,n=e.r,i=e.u,r={$initial_referrer:n,$initial_referring_domain:null==n?void 0:"$direct"==n?"$direct":null===(t=Wn(n))||void 0===t?void 0:t.host};if(i){r.$initial_current_url=i;var o=Wn(i);r.$initial_host=null==o?void 0:o.host,r.$initial_pathname=null==o?void 0:o.pathname,Ct(this._campaignParamsFromUrl(i),(function(e,t){r["$initial_"+Mt(t)]=e}))}return n&&Ct(this._searchInfoFromReferrer(n),(function(e,t){r["$initial_"+Mt(t)]=e})),r},properties:function(){if(!bt)return{};var e=Be(Wi.os(bt),2),t=e[0],n=e[1];return Pt(Ft({$os:t,$os_version:n,$browser:Wi.browser(bt,navigator.vendor),$device:Wi.device(bt),$device_type:Wi.deviceType(bt)}),{$current_url:null==gt?void 0:gt.href,$host:null==gt?void 0:gt.host,$pathname:null==gt?void 0:gt.pathname,$raw_user_agent:bt.length>1e3?bt.substring(0,997)+"...":bt,$browser_version:Wi.browserVersion(bt,navigator.vendor),$browser_language:Wi.browserLanguage(),$screen_height:null==lt?void 0:lt.screen.height,$screen_width:null==lt?void 0:lt.screen.width,$viewport_height:null==lt?void 0:lt.innerHeight,$viewport_width:null==lt?void 0:lt.innerWidth,$lib:"web",$lib_version:Ve.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})},people_properties:function(){if(!bt)return{};var e=Be(Wi.os(bt),2),t=e[0],n=e[1];return Pt(Ft({$os:t,$os_version:n,$browser:Wi.browser(bt,navigator.vendor)}),{$browser_version:Wi.browserVersion(bt,navigator.vendor)})}},Vi=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"],Gi=function(){function e(t){var n,i;Le(this,e),this.config=t,this.props={},this.campaign_params_saved=!1,this.name=(i="",(n=t).token&&(i=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+i+"_posthog"),this.storage=this.buildStorage(t),this.load(),t.debug&&St.info("Persistence loaded",t.persistence,Ae({},this.props)),this.update_config(t,t),this.save()}return je(e,[{key:"buildStorage",value:function(e){-1===Vi.indexOf(e.persistence.toLowerCase())&&(St.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");var t=e.persistence.toLowerCase();return"localstorage"===t&&Ln.is_supported()?Ln:"localstorage+cookie"===t&&jn.is_supported()?jn:"sessionstorage"===t&&qn.is_supported()?qn:"memory"===t?Bn:"cookie"===t?An:jn.is_supported()?jn:An}},{key:"properties",value:function(){var e={};return Ct(this.props,(function(t,n){if(n===nn&&Ze(t))for(var i=Object.keys(t),r=0;r<i.length;r++)e["$feature/".concat(i[r])]=t[i[r]];else s=n,a=!1,(rt(o=mn)?a:pt&&o.indexOf===pt?-1!=o.indexOf(s):(Ct(o,(function(e){if(a||(a=e===s))return Et})),a))||(e[n]=t);var o,s,a})),e}},{key:"load",value:function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=Pt({},e))}}},{key:"save",value:function(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure,this.config.debug)}},{key:"remove",value:function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}},{key:"clear",value:function(){this.remove(),this.props={}}},{key:"register_once",value:function(e,t,n){var i=this;if(Ze(e)){tt(t)&&(t="None"),this.expire_days=tt(n)?this.default_expiry:n;var r=!1;if(Ct(e,(function(e,n){i.props.hasOwnProperty(n)&&i.props[n]!==t||(i.props[n]=e,r=!0)})),r)return this.save(),!0}return!1}},{key:"register",value:function(e,t){var n=this;if(Ze(e)){this.expire_days=tt(t)?this.default_expiry:t;var i=!1;if(Ct(e,(function(t,r){e.hasOwnProperty(r)&&n.props[r]!==t&&(n.props[r]=t,i=!0)})),i)return this.save(),!0}return!1}},{key:"unregister",value:function(e){e in this.props&&(delete this.props[e],this.save())}},{key:"update_campaign_params",value:function(){this.campaign_params_saved||(this.register(Wi.campaignParams(this.config.custom_campaign_params)),this.campaign_params_saved=!0)}},{key:"update_search_keyword",value:function(){this.register(Wi.searchInfo())}},{key:"update_referrer_info",value:function(){this.register_once(Wi.referrerInfo(),void 0)}},{key:"set_initial_person_info",value:function(){this.props[pn]||this.props[hn]||this.register_once(Ue({},vn,Wi.initialPersonInfo()),void 0)}},{key:"get_referrer_info",value:function(){return Ft({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}},{key:"get_initial_props",value:function(){var e=this,t={};Ct([hn,pn],(function(n){var i=e.props[n];i&&Ct(i,(function(e,n){t["$initial_"+Mt(n)]=e}))}));var n=this.props[vn];if(n){var i=Wi.initialPersonPropsFromInfo(n);Pt(t,i)}return t}},{key:"safe_merge",value:function(e){return Ct(this.props,(function(t,n){n in e||(e[n]=t)})),e}},{key:"update_config",value:function(e,t){if(this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==t.persistence){var n=this.buildStorage(e),i=this.props;this.clear(),this.storage=n,this.props=i,this.save()}}},{key:"set_disabled",value:function(e){this.disabled=e,this.disabled?this.remove():this.save()}},{key:"set_cross_subdomain",value:function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())}},{key:"get_cross_subdomain",value:function(){return!!this.cross_subdomain}},{key:"set_secure",value:function(e){e!==this.secure&&(this.secure=e,this.remove(),this.save())}},{key:"set_event_timer",value:function(e,t){var n=this.props[Bt]||{};n[e]=t,this.props[Bt]=n,this.save()}},{key:"remove_event_timer",value:function(e){var t=(this.props[Bt]||{})[e];return tt(t)||(delete this.props[Bt][e],this.save()),t}},{key:"get_property",value:function(e){return this.props[e]}},{key:"set_property",value:function(e,t){this.props[e]=t,this.save()}}]),e}();function Yi(e){return JSON.stringify(e,(t=[],function(e,n){if(Ze(n)){for(;t.length>0&&t.at(-1)!==this;)t.pop();return t.includes(n)?"[Circular]":(t.push(n),n)}return n})).length;var t}function Ki(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6606028.8;if(e.size>=t&&e.data.length>1){var n=Math.floor(e.data.length/2),i=e.data.slice(0,n),r=e.data.slice(n);return[Ki({size:Yi(i),data:i,sessionId:e.sessionId,windowId:e.windowId}),Ki({size:Yi(r),data:r,sessionId:e.sessionId,windowId:e.windowId})].flatMap((function(e){return e}))}return[e]}var Qi=function(e){return e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e}(Qi||{}),Ji=function(e){return e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e}(Ji||{});function Xi(e){return e?xt(e).split(/\s+/):[]}function Zi(e){var t=null==lt?void 0:lt.location.href;return!!(t&&e&&e.some((function(e){return t.match(e)})))}function er(e){var t="";switch(De(e.className)){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return Xi(t)}function tr(e){return ot(e)?null:xt(e).split(/(\s+)/).filter((function(e){return mr(e)})).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function nr(e){var t="";return cr(e)&&!dr(e)&&e.childNodes&&e.childNodes.length&&Ct(e.childNodes,(function(e){var n;sr(e)&&e.textContent&&(t+=null!==(n=tr(e.textContent))&&void 0!==n?n:"")})),xt(t)}function ir(e){return tt(e.target)?e.srcElement||null:null!==(t=e.target)&&void 0!==t&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}function rr(e){return!!e&&1===e.nodeType}function or(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function sr(e){return!!e&&3===e.nodeType}function ar(e){return!!e&&11===e.nodeType}var ur=["a","button","form","input","select","textarea","label"];function lr(e){var t=e.parentNode;return!(!t||!rr(t))&&t}function cr(e){for(var t=e;t.parentNode&&!or(t,"body");t=t.parentNode){var n=er(t);if(It(n,"ph-sensitive")||It(n,"ph-no-capture"))return!1}if(It(er(e),"ph-include"))return!0;var i=e.type||"";if(nt(i))switch(i.toLowerCase()){case"hidden":case"password":return!1}var r=e.name||e.id||"";return!nt(r)||!/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(r.replace(/[^a-zA-Z0-9]/g,""))}function dr(e){return!!(or(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||or(e,"select")||or(e,"textarea")||"true"===e.getAttribute("contenteditable"))}var fr="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",pr=new RegExp("^(?:".concat(fr,")$")),hr=new RegExp(fr),vr="\\d{3}-?\\d{2}-?\\d{4}",gr=new RegExp("^(".concat(vr,")$")),_r=new RegExp("(".concat(vr,")"));function mr(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(ot(e))return!1;if(nt(e)){if(e=xt(e),(t?pr:hr).test((e||"").replace(/[- ]/g,"")))return!1;if((t?gr:_r).test(e))return!1}return!0}function yr(e){var t=nr(e);return mr(t="".concat(t," ").concat(br(e)).trim())?t:""}function br(e){var t="";return e&&e.childNodes&&e.childNodes.length&&Ct(e.childNodes,(function(e){var n;if(e&&"span"===(null===(n=e.tagName)||void 0===n?void 0:n.toLowerCase()))try{var i=nr(e);t="".concat(t," ").concat(i).trim(),e.childNodes&&e.childNodes.length&&(t="".concat(t," ").concat(br(e)).trim())}catch(r){St.error(r)}})),t}function wr(e){return function(e){return e.map((function(e){var t,n,i="";if(e.tag_name&&(i+=e.tag_name),e.attr_class){e.attr_class.sort();var r,o=We(e.attr_class);try{for(o.s();!(r=o.n()).done;){var s=r.value;i+=".".concat(s.replace(/"/g,""))}}catch(l){o.e(l)}finally{o.f()}}var a=Ae(Ae(Ae(Ae({},e.text?{text:e.text}:{}),{},{"nth-child":null!==(t=e.nth_child)&&void 0!==t?t:0,"nth-of-type":null!==(n=e.nth_of_type)&&void 0!==n?n:0},e.href?{href:e.href}:{}),e.attr_id?{attr_id:e.attr_id}:{}),e.attributes),u={};return Ot(a).sort((function(e,t){var n=Be(e,1)[0],i=Be(t,1)[0];return n.localeCompare(i)})).forEach((function(e){var t=Be(e,2),n=t[0],i=t[1];return u[kr(n.toString())]=kr(i.toString())})),(i+=":")+Ot(a).map((function(e){var t=Be(e,2),n=t[0],i=t[1];return"".concat(n,'="').concat(i,'"')})).join("")})).join(";")}(e.map((function(e){var t,n,i={text:null===(t=e.$el_text)||void 0===t?void 0:t.slice(0,400),tag_name:e.tag_name,href:null===(n=e.attr__href)||void 0===n?void 0:n.slice(0,2048),attr_class:Sr(e),attr_id:e.attr__id,nth_child:e.nth_child,nth_of_type:e.nth_of_type,attributes:{}};return Ot(e).filter((function(e){return 0===Be(e,1)[0].indexOf("attr__")})).forEach((function(e){var t=Be(e,2),n=t[0],r=t[1];return i.attributes[n]=r})),i})))}function kr(e){return e.replace(/"|\\"/g,'\\"')}function Sr(e){var t=e.attr__class;return t?Je(t)?t:Xi(t):void 0}var Er="[SessionRecording]",xr="redacted",Tr={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:function(e){return e},recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io"]},Cr=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],Pr=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],Ir=["/s/","/e/","/i/"];function Or(e,t,n,i){if(ot(e))return e;var r=(null==t?void 0:t["content-length"])||new Blob([e]).size;return nt(r)&&(r=parseInt(r)),r>n?Er+" ".concat(i," body too large to record (").concat(r," bytes)"):e}function Rr(e,t){if(ot(e))return e;var n=e;return mr(n,!1)||(n=Er+" "+t+" body "+xr),Ct(Pr,(function(e){var i,r;null!==(i=n)&&void 0!==i&&i.length&&-1!==(null===(r=n)||void 0===r?void 0:r.indexOf(e))&&(n=Er+" "+t+" body "+xr+" as might contain: "+e)})),n}var $r,Fr=je((function e(t){var n,i,r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Le(this,e),Ue(this,"bucketSize",100),Ue(this,"refillRate",10),Ue(this,"mutationBuckets",{}),Ue(this,"loggedTracker",{}),Ue(this,"refillBuckets",(function(){Object.keys(r.mutationBuckets).forEach((function(e){r.mutationBuckets[e]=r.mutationBuckets[e]+r.refillRate,r.mutationBuckets[e]>=r.bucketSize&&delete r.mutationBuckets[e]}))})),Ue(this,"getNodeOrRelevantParent",(function(e){var t=r.rrweb.mirror.getNode(e);if("svg"!==(null==t?void 0:t.nodeName)&&t instanceof Element){var n=t.closest("svg");if(n)return[r.rrweb.mirror.getId(n),n]}return[e,t]})),Ue(this,"numberOfChanges",(function(e){var t,n,i,r,o,s,a,u;return(null!==(t=null===(n=e.removes)||void 0===n?void 0:n.length)&&void 0!==t?t:0)+(null!==(i=null===(r=e.attributes)||void 0===r?void 0:r.length)&&void 0!==i?i:0)+(null!==(o=null===(s=e.texts)||void 0===s?void 0:s.length)&&void 0!==o?o:0)+(null!==(a=null===(u=e.adds)||void 0===u?void 0:u.length)&&void 0!==a?a:0)})),Ue(this,"throttleMutations",(function(e){if(3!==e.type||0!==e.data.source)return e;var t=e.data,n=r.numberOfChanges(t);t.attributes&&(t.attributes=t.attributes.filter((function(e){var t,n,i,o=Be(r.getNodeOrRelevantParent(e.id),2),s=o[0],a=o[1];return 0!==r.mutationBuckets[s]&&(r.mutationBuckets[s]=null!==(t=r.mutationBuckets[s])&&void 0!==t?t:r.bucketSize,r.mutationBuckets[s]=Math.max(r.mutationBuckets[s]-1,0),0===r.mutationBuckets[s]&&(r.loggedTracker[s]||(r.loggedTracker[s]=!0,null===(n=(i=r.options).onBlockedNode)||void 0===n||n.call(i,s,a))),e)})));var i=r.numberOfChanges(t);return 0!==i||n===i?e:void 0})),this.rrweb=t,this.options=o,this.refillRate=null!==(n=this.options.refillRate)&&void 0!==n?n:this.refillRate,this.bucketSize=null!==(i=this.options.bucketSize)&&void 0!==i?i:this.bucketSize,setInterval((function(){r.refillBuckets()}),1e3)})),Mr=3e5,Ar=Mr,Dr=[Ji.MouseMove,Ji.MouseInteraction,Ji.Scroll,Ji.ViewportResize,Ji.Input,Ji.TouchMove,Ji.MediaInteraction,Ji.Drag],Lr=function(e){return{rrwebMethod:e,enqueuedAt:Date.now(),attempt:1}},Nr="[SessionRecording]",jr=function(){function e(t){var n=this;if(Le(this,e),Ue(this,"queuedRRWebEvents",[]),Ue(this,"isIdle",!1),Ue(this,"_linkedFlagSeen",!1),Ue(this,"_lastActivityTimestamp",Date.now()),Ue(this,"_linkedFlag",null),Ue(this,"_removePageViewCaptureHook",void 0),Ue(this,"_onSessionIdListener",void 0),Ue(this,"_persistDecideOnSessionListener",void 0),Ue(this,"_samplingSessionListener",void 0),Ue(this,"_forceAllowLocalhostNetworkCapture",!1),Ue(this,"_onBeforeUnload",(function(){n._flushBuffer()})),Ue(this,"_onOffline",(function(){n._tryAddCustomEvent("browser offline",{})})),Ue(this,"_onOnline",(function(){n._tryAddCustomEvent("browser online",{})})),Ue(this,"_onVisibilityChange",(function(){if(null!=vt&&vt.visibilityState){var e="window "+vt.visibilityState;n._tryAddCustomEvent(e,{})}})),this.instance=t,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,!this.instance.sessionManager)throw St.error(Nr+" started without valid sessionManager"),new Error(Nr+" started without valid sessionManager. This is a bug.");var i=this.sessionManager.checkAndGetSessionAndWindowId(),r=i.sessionId,o=i.windowId;this.sessionId=r,this.windowId=o,this.buffer=this.clearBuffer()}return je(e,[{key:"rrwebRecord",get:function(){var e,t;return null==wt||null===(e=wt.__PosthogExtensions__)||void 0===e||null===(t=e.rrweb)||void 0===t?void 0:t.record}},{key:"started",get:function(){return this._captureStarted}},{key:"sessionManager",get:function(){if(!this.instance.sessionManager)throw new Error(Nr+" must be started with a valid sessionManager.");return this.instance.sessionManager}},{key:"fullSnapshotIntervalMillis",get:function(){var e;return(null===(e=this.instance.config.session_recording)||void 0===e?void 0:e.full_snapshot_interval_millis)||Mr}},{key:"isSampled",get:function(){var e=this.instance.get_property(tn);return at(e)?e:null}},{key:"sessionDuration",get:function(){var e,t,n=null===(e=this.buffer)||void 0===e?void 0:e.data[(null===(t=this.buffer)||void 0===t?void 0:t.data.length)-1],i=this.sessionManager.checkAndGetSessionAndWindowId(!0).sessionStartTimestamp;return n?n.timestamp-i:null}},{key:"isRecordingEnabled",get:function(){var e=!!this.instance.get_property(Yt),t=!this.instance.config.disable_session_recording;return lt&&e&&t}},{key:"isConsoleLogCaptureEnabled",get:function(){var e=!!this.instance.get_property(Kt),t=this.instance.config.enable_recording_console_log;return null!=t?t:e}},{key:"canvasRecording",get:function(){var e=this.instance.get_property(Jt);return e&&e.fps&&e.quality?{enabled:e.enabled,fps:e.fps,quality:e.quality}:void 0}},{key:"networkPayloadCapture",get:function(){var e,t,n=this.instance.get_property(Qt),i={recordHeaders:null===(e=this.instance.config.session_recording)||void 0===e?void 0:e.recordHeaders,recordBody:null===(t=this.instance.config.session_recording)||void 0===t?void 0:t.recordBody},r=(null==i?void 0:i.recordHeaders)||(null==n?void 0:n.recordHeaders),o=(null==i?void 0:i.recordBody)||(null==n?void 0:n.recordBody),s=Ze(this.instance.config.capture_performance)?this.instance.config.capture_performance.network_timing:this.instance.config.capture_performance,a=!!(at(s)?s:null==n?void 0:n.capturePerformance);return r||o||a?{recordHeaders:r,recordBody:o,recordPerformance:a}:void 0}},{key:"sampleRate",get:function(){var e=this.instance.get_property(Xt);return st(e)?e:null}},{key:"minimumDuration",get:function(){var e=this.instance.get_property(Zt);return st(e)?e:null}},{key:"status",get:function(){return this.receivedDecide?this.isRecordingEnabled?ot(this._linkedFlag)||this._linkedFlagSeen?at(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"buffering":"disabled":"buffering"}},{key:"startIfEnabledOrStop",value:function(){var e=this;this.isRecordingEnabled?(this._startCapture(),null==lt||lt.addEventListener("beforeunload",this._onBeforeUnload),null==lt||lt.addEventListener("offline",this._onOffline),null==lt||lt.addEventListener("online",this._onOnline),null==lt||lt.addEventListener("visibilitychange",this._onVisibilityChange),this._setupSampling(),ot(this._removePageViewCaptureHook)&&(this._removePageViewCaptureHook=this.instance._addCaptureHook((function(t){try{if("$pageview"===t){var n=lt?e._maskUrl(lt.location.href):"";if(!n)return;e._tryAddCustomEvent("$pageview",{href:n})}}catch(i){St.error("Could not add $pageview to rrweb session",i)}}))),this._onSessionIdListener||(this._onSessionIdListener=this.sessionManager.onSessionId((function(t,n,i){i&&e._tryAddCustomEvent("$session_id_change",{sessionId:t,windowId:n,changeReason:i})}))),St.info(Nr+" started")):this.stopRecording()}},{key:"stopRecording",value:function(){var e,t,n;this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,null==lt||lt.removeEventListener("beforeunload",this._onBeforeUnload),null==lt||lt.removeEventListener("offline",this._onOffline),null==lt||lt.removeEventListener("online",this._onOnline),null==lt||lt.removeEventListener("visibilitychange",this._onVisibilityChange),this.clearBuffer(),clearInterval(this._fullSnapshotTimer),null===(e=this._removePageViewCaptureHook)||void 0===e||e.call(this),this._removePageViewCaptureHook=void 0,null===(t=this._onSessionIdListener)||void 0===t||t.call(this),this._onSessionIdListener=void 0,null===(n=this._samplingSessionListener)||void 0===n||n.call(this),this._samplingSessionListener=void 0,St.info(Nr+" stopped"))}},{key:"makeSamplingDecision",value:function(e){var t,n=this.sessionId!==e,i=this.sampleRate;if(st(i)){var r,o=this.isSampled,s=n||!at(o);!(r=s?Math.random()<i:o)&&s&&St.warn(Nr+" Sample rate (".concat(i,") has determined that this sessionId (").concat(e,") will not be sent to the server.")),this._tryAddCustomEvent("samplingDecisionMade",{sampleRate:i}),null===(t=this.instance.persistence)||void 0===t||t.register(Ue({},tn,r))}else{var a;null===(a=this.instance.persistence)||void 0===a||a.register(Ue({},tn,null))}}},{key:"afterDecideResponse",value:function(e){var t,n,i,r=this;if(this._persistDecideResponse(e),this._linkedFlag=(null===(t=e.sessionRecording)||void 0===t?void 0:t.linkedFlag)||null,null!==(n=e.sessionRecording)&&void 0!==n&&n.endpoint&&(this._endpoint=null===(i=e.sessionRecording)||void 0===i?void 0:i.endpoint),this._setupSampling(),!ot(this._linkedFlag)&&!this._linkedFlagSeen){var o=nt(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,s=nt(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags((function(e,t){var n=Ze(t)&&o in t,i=s?t[o]===s:n;if(i){var a={linkedFlag:o,linkedVariant:s},u="linked flag matched";St.info(Nr+" "+u,a),r._tryAddCustomEvent(u,a)}r._linkedFlagSeen=i}))}this.receivedDecide=!0,this.startIfEnabledOrStop()}},{key:"_setupSampling",value:function(){var e=this;st(this.sampleRate)&&ot(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId((function(t){e.makeSamplingDecision(t)})))}},{key:"_persistDecideResponse",value:function(e){if(this.instance.persistence){var t,n=this.instance.persistence,i=function(){var t,i,r,o,s,a,u,l,c=null===(t=e.sessionRecording)||void 0===t?void 0:t.sampleRate,d=ot(c)?null:parseFloat(c),f=null===(i=e.sessionRecording)||void 0===i?void 0:i.minimumDurationMilliseconds;n.register((Ue(l={},Yt,!!e.sessionRecording),Ue(l,Kt,null===(r=e.sessionRecording)||void 0===r?void 0:r.consoleLogRecordingEnabled),Ue(l,Qt,Ae({capturePerformance:e.capturePerformance},null===(o=e.sessionRecording)||void 0===o?void 0:o.networkPayloadCapture)),Ue(l,Jt,{enabled:null===(s=e.sessionRecording)||void 0===s?void 0:s.recordCanvas,fps:null===(a=e.sessionRecording)||void 0===a?void 0:a.canvasFps,quality:null===(u=e.sessionRecording)||void 0===u?void 0:u.canvasQuality}),Ue(l,Xt,d),Ue(l,Zt,tt(f)?null:f),l))};i(),null===(t=this._persistDecideOnSessionListener)||void 0===t||t.call(this),this._persistDecideOnSessionListener=this.sessionManager.onSessionId(i)}}},{key:"log",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log";null===(t=this.instance.sessionRecording)||void 0===t||t.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:n,trace:[],payload:[JSON.stringify(e)]}},timestamp:Date.now()})}},{key:"_startCapture",value:function(){var e,t,n=this;tt(Object.assign)||this._captureStarted||this.instance.config.disable_session_recording||this.instance.consent.isOptedOut()||(this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord?this._onScriptLoaded():null===(e=wt.__PosthogExtensions__)||void 0===e||null===(t=e.loadExternalDependency)||void 0===t||t.call(e,this.instance,"recorder",(function(e){if(e)return St.error(Nr+" could not load recorder",e);n._onScriptLoaded()})))}},{key:"isInteractiveEvent",value:function(e){var t;return 3===e.type&&-1!==Dr.indexOf(null===(t=e.data)||void 0===t?void 0:t.source)}},{key:"_updateWindowAndSessionIds",value:function(e){var t=this.isInteractiveEvent(e);t||this.isIdle||e.timestamp-this._lastActivityTimestamp>Ar&&(this.isIdle=!0,clearInterval(this._fullSnapshotTimer),this._tryAddCustomEvent("sessionIdle",{eventTimestamp:e.timestamp,lastActivityTimestamp:this._lastActivityTimestamp,threshold:Ar,bufferLength:this.buffer.data.length,bufferSize:this.buffer.size}),this._flushBuffer());var n=!1;if(t&&(this._lastActivityTimestamp=e.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:e.type}),n=!0)),!this.isIdle){var i=this.sessionManager.checkAndGetSessionAndWindowId(!t,e.timestamp),r=i.windowId,o=i.sessionId,s=this.sessionId!==o,a=this.windowId!==r;this.windowId=r,this.sessionId=o,s||a?(this.stopRecording(),this.startIfEnabledOrStop()):n&&this._scheduleFullSnapshot()}}},{key:"_tryRRWebMethod",value:function(e){try{return e.rrwebMethod(),!0}catch(t){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:e.enqueuedAt||Date.now(),attempt:e.attempt++,rrwebMethod:e.rrwebMethod}):St.warn(Nr+" could not emit queued rrweb event.",t,e),!1}}},{key:"_tryAddCustomEvent",value:function(e,t){var n=this;return this._tryRRWebMethod(Lr((function(){return n.rrwebRecord.addCustomEvent(e,t)})))}},{key:"_tryTakeFullSnapshot",value:function(){var e=this;return this._tryRRWebMethod(Lr((function(){return e.rrwebRecord.takeFullSnapshot()})))}},{key:"_onScriptLoaded",value:function(){for(var e,t=this,n={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},i=this.instance.config.session_recording,r=0,o=Object.entries(i||{});r<o.length;r++){var s=Be(o[r],2),a=s[0],u=s[1];a in n&&("maskInputOptions"===a?n.maskInputOptions=Ae({password:!0},u):n[a]=u)}if(this.canvasRecording&&this.canvasRecording.enabled&&(n.recordCanvas=!0,n.sampling={canvas:this.canvasRecording.fps},n.dataURLOptions={type:"image/webp",quality:this.canvasRecording.quality}),this.rrwebRecord){this.mutationRateLimiter=null!==(e=this.mutationRateLimiter)&&void 0!==e?e:new Fr(this.rrwebRecord,{onBlockedNode:function(e,n){var i="Too many mutations on node '".concat(e,"'. Rate limiting. This could be due to SVG animations or something similar");St.info(i,{node:n}),t.log(Nr+" "+i,"warn")}});var l=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord(Ae({emit:function(e){t.onRRwebEmit(e)},plugins:l},n)),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent("$session_options",{sessionRecordingOptions:n,activePlugins:l.map((function(e){return null==e?void 0:e.name}))}),this._tryAddCustomEvent("$posthog_config",{config:this.instance.config})}else St.error(Nr+"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}},{key:"_scheduleFullSnapshot",value:function(){var e=this;if(this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),!this.isIdle){var t=this.fullSnapshotIntervalMillis;t&&(this._fullSnapshotTimer=setInterval((function(){e._tryTakeFullSnapshot()}),t))}}},{key:"_gatherRRWebPlugins",value:function(){var e,t,n,i,r=[],o=null===(e=wt.__PosthogExtensions__)||void 0===e||null===(t=e.rrwebPlugins)||void 0===t?void 0:t.getRecordConsolePlugin;o&&this.isConsoleLogCaptureEnabled&&r.push(o());var s=null===(n=wt.__PosthogExtensions__)||void 0===n||null===(i=n.rrwebPlugins)||void 0===i?void 0:i.getRecordNetworkPlugin;return this.networkPayloadCapture&&Xe(s)&&(!zn.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?r.push(s(function(e,t){var n,i,r,o={payloadSizeLimitBytes:Tr.payloadSizeLimitBytes,performanceEntryTypeToObserve:He(Tr.performanceEntryTypeToObserve),payloadHostDenyList:[].concat(He(t.payloadHostDenyList||[]),He(Tr.payloadHostDenyList))},s=!1!==e.session_recording.recordHeaders&&t.recordHeaders,a=!1!==e.session_recording.recordBody&&t.recordBody,u=!1!==e.capture_performance&&t.recordPerformance,l=(n=o,r=Math.min(1e6,null!==(i=n.payloadSizeLimitBytes)&&void 0!==i?i:1e6),function(e){return null!=e&&e.requestBody&&(e.requestBody=Or(e.requestBody,e.requestHeaders,r,"Request")),null!=e&&e.responseBody&&(e.responseBody=Or(e.responseBody,e.responseHeaders,r,"Response")),e}),c=function(e){return l(function(e){var t=Wn(e.name);if(!(t&&t.pathname&&Ir.some((function(e){return 0===t.pathname.indexOf(e)}))))return e}((n=(t=e).requestHeaders,ot(n)||Ct(Object.keys(null!=n?n:{}),(function(e){Cr.includes(e.toLowerCase())&&(n[e]=xr)})),t)));var t,n},d=Xe(e.session_recording.maskNetworkRequestFn);return d&&Xe(e.session_recording.maskCapturedNetworkRequestFn)&&St.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),d&&(e.session_recording.maskCapturedNetworkRequestFn=function(t){var n=e.session_recording.maskNetworkRequestFn({url:t.name});return Ae(Ae({},t),{},{name:null==n?void 0:n.url})}),o.maskRequestFn=Xe(e.session_recording.maskCapturedNetworkRequestFn)?function(t){var n,i,r,o=c(t);return o&&null!==(n=null===(i=(r=e.session_recording).maskCapturedNetworkRequestFn)||void 0===i?void 0:i.call(r,o))&&void 0!==n?n:void 0}:function(e){return function(e){if(!tt(e))return e.requestBody=Rr(e.requestBody,"Request"),e.responseBody=Rr(e.responseBody,"Response"),e}(c(e))},Ae(Ae(Ae({},Tr),o),{},{recordHeaders:s,recordBody:a,recordPerformance:u,recordInitialRequests:u})}(this.instance.config,this.networkPayloadCapture))):St.info(Nr+" NetworkCapture not started because we are on localhost.")),r}},{key:"onRRwebEmit",value:function(e){if(this._processQueuedEvents(),e&&Ze(e)){if(e.type===Qi.Meta){var t=this._maskUrl(e.data.href);if(this._lastHref=t,!t)return;e.data.href=t}else this._pageViewFallBack();e.type===Qi.FullSnapshot&&this._scheduleFullSnapshot();var n=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(e):e;if(n){var i=function(e){var t=e;if(t&&Ze(t)&&6===t.type&&Ze(t.data)&&"rrweb/console@1"===t.data.plugin){t.data.payload.payload.length>10&&(t.data.payload.payload=t.data.payload.payload.slice(0,10),t.data.payload.payload.push("...[truncated]"));for(var n=[],i=0;i<t.data.payload.payload.length;i++)t.data.payload.payload[i]&&t.data.payload.payload[i].length>2e3?n.push(t.data.payload.payload[i].slice(0,2e3)+"...[truncated]"):n.push(t.data.payload.payload[i]);return t.data.payload.payload=n,e}return e}(n),r=Yi(i);if(this._updateWindowAndSessionIds(i),!this.isIdle||i.type===Qi.Custom){if(i.type===Qi.Custom&&"sessionIdle"===i.data.tag){var o=i.data.payload;if(o){var s=o.lastActivityTimestamp,a=o.threshold;i.timestamp=s+a}}var u={$snapshot_bytes:r,$snapshot_data:i,$session_id:this.sessionId,$window_id:this.windowId};"disabled"!==this.status?this._captureSnapshotBuffered(u):this.clearBuffer()}}}}},{key:"_pageViewFallBack",value:function(){if(!this.instance.config.capture_pageview&&lt){var e=this._maskUrl(lt.location.href);this._lastHref!==e&&(this._tryAddCustomEvent("$url_changed",{href:e}),this._lastHref=e)}}},{key:"_processQueuedEvents",value:function(){var e=this;if(this.queuedRRWebEvents.length){var t=He(this.queuedRRWebEvents);this.queuedRRWebEvents=[],t.forEach((function(t){Date.now()-t.enqueuedAt<=2e3&&e._tryRRWebMethod(t)}))}}},{key:"_maskUrl",value:function(e){var t=this.instance.config.session_recording;if(t.maskNetworkRequestFn){var n,i={url:e};return null===(n=i=t.maskNetworkRequestFn(i))||void 0===n?void 0:n.url}return e}},{key:"clearBuffer",value:function(){return this.buffer={size:0,data:[],sessionId:this.sessionId,windowId:this.windowId},this.buffer}},{key:"_flushBuffer",value:function(){var e=this;this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var t=this.minimumDuration,n=this.sessionDuration,i=st(n)&&n>=0,r=st(t)&&i&&n<t;return"buffering"===this.status||r?(this.flushBufferTimer=setTimeout((function(){e._flushBuffer()}),2e3),this.buffer):(this.buffer.data.length>0&&Ki(this.buffer).forEach((function(t){e._captureSnapshot({$snapshot_bytes:t.size,$snapshot_data:t.data,$session_id:t.sessionId,$window_id:t.windowId})})),this.clearBuffer())}},{key:"_captureSnapshotBuffered",value:function(e){var t,n=this,i=2+((null===(t=this.buffer)||void 0===t?void 0:t.data.length)||0);!this.isIdle&&(this.buffer.size+e.$snapshot_bytes+i>943718.4||this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),this.buffer.size+=e.$snapshot_bytes,this.buffer.data.push(e.$snapshot_data),this.flushBufferTimer||this.isIdle||(this.flushBufferTimer=setTimeout((function(){n._flushBuffer()}),2e3))}},{key:"_captureSnapshot",value:function(e){this.instance.capture("$snapshot",e,{_url:this.instance.requestRouter.endpointFor("api",this._endpoint),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}},{key:"overrideLinkedFlag",value:function(){this._linkedFlagSeen=!0}}]),e}(),Ur=function(){function e(t){Le(this,e),this.instance=t,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}return je(e,[{key:"call",value:function(){var e=this,t={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(on),group_properties:this.instance.get_property(sn),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:t,compression:this.instance.config.disable_compression?void 0:At.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(t){return e.parseDecideResponse(t.json)}})}},{key:"parseDecideResponse",value:function(e){var t=this;this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer();var n=!e;if(this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(null!=e?e:{},n),n)St.error("Failed to fetch feature flags from PostHog.");else{if(!vt||!vt.body)return St.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout((function(){t.parseDecideResponse(e)}),500);if(this.instance._afterDecideResponse(e),e.siteApps)if(this.instance.config.opt_in_site_apps){var i,r=We(e.siteApps);try{var o=function(){var e,n,r=i.value,o=r.id,s=r.url;wt["__$$ph_site_app_".concat(o)]=t.instance,null===(e=wt.__PosthogExtensions__)||void 0===e||null===(n=e.loadSiteApp)||void 0===n||n.call(e,t.instance,s,(function(e){if(e)return St.error("Error while initializing PostHog app with config id ".concat(o),e)}))};for(r.s();!(i=r.n()).done;)o()}catch(s){r.e(s)}finally{r.f()}}else e.siteApps.length>0&&St.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}}]),e}(),Br=null!=lt&&lt.location?Yn(lt.location.hash,"__posthog")||Yn(location.hash,"state"):null,Hr="_postHogToolbarParams";!function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED"}($r||($r={}));var qr=function(){function e(t){Le(this,e),this.instance=t}return je(e,[{key:"setToolbarState",value:function(e){wt.ph_toolbar_state=e}},{key:"getToolbarState",value:function(){var e;return null!==(e=wt.ph_toolbar_state)&&void 0!==e?e:$r.UNINITIALIZED}},{key:"maybeLoadToolbar",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!lt||!vt)return!1;n=null!==(e=n)&&void 0!==e?e:lt.location,r=null!==(t=r)&&void 0!==t?t:lt.history;try{if(!i){try{lt.localStorage.setItem("test","test"),lt.localStorage.removeItem("test")}catch(u){return!1}i=null==lt?void 0:lt.localStorage}var o,s=Br||Yn(n.hash,"__posthog")||Yn(n.hash,"state"),a=s?Rt((function(){return JSON.parse(atob(decodeURIComponent(s)))}))||Rt((function(){return JSON.parse(decodeURIComponent(s))})):null;return a&&"ph_authorize"===a.action?((o=a).source="url",o&&Object.keys(o).length>0&&(a.desiredHash?n.hash=a.desiredHash:r?r.replaceState(r.state,"",n.pathname+n.search):n.hash="")):((o=JSON.parse(i.getItem(Hr)||"{}")).source="localstorage",delete o.userIntent),!(!o.token||this.instance.config.token!==o.token||(this.loadToolbar(o),0))}catch(u){return!1}}},{key:"_callLoadToolbar",value:function(e){(wt.ph_load_toolbar||wt.ph_load_editor)(e,this.instance)}},{key:"loadToolbar",value:function(e){var t=this,n=!(null==vt||!vt.getElementById(_n));if(!lt||n)return!1;var i="custom"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,r=Ae(Ae({token:this.instance.config.token},e),{},{apiURL:this.instance.requestRouter.endpointFor("ui")},i?{instrument:!1}:{});if(lt.localStorage.setItem(Hr,JSON.stringify(Ae(Ae({},r),{},{source:void 0}))),this.getToolbarState()===$r.LOADED)this._callLoadToolbar(r);else if(this.getToolbarState()===$r.UNINITIALIZED){var o,s;this.setToolbarState($r.LOADING),null===(o=wt.__PosthogExtensions__)||void 0===o||null===(s=o.loadExternalDependency)||void 0===s||s.call(o,this.instance,"toolbar",(function(e){if(e)return St.error("Failed to load toolbar",e),void t.setToolbarState($r.UNINITIALIZED);t.setToolbarState($r.LOADED),t._callLoadToolbar(r)})),Lt(lt,"turbolinks:load",(function(){t.setToolbarState($r.UNINITIALIZED),t.loadToolbar(r)}))}return!0}},{key:"_loadEditor",value:function(e){return this.loadToolbar(e)}},{key:"maybeLoadEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return this.maybeLoadToolbar(e,t,n)}}]),e}(),zr=function(){function e(t){Le(this,e),Ue(this,"isPaused",!0),Ue(this,"queue",[]),Ue(this,"flushTimeoutMs",3e3),this.sendRequest=t}return je(e,[{key:"enqueue",value:function(e){this.queue.push(e),this.flushTimeout||this.setFlushTimeout()}},{key:"unload",value:function(){var e=this;this.clearFlushTimeout();var t=this.queue.length>0?this.formatQueue():{},n=Object.values(t);[].concat(He(n.filter((function(e){return 0===e.url.indexOf("/e")}))),He(n.filter((function(e){return 0!==e.url.indexOf("/e")})))).map((function(t){e.sendRequest(Ae(Ae({},t),{},{transport:"sendBeacon"}))}))}},{key:"enable",value:function(){this.isPaused=!1,this.setFlushTimeout()}},{key:"setFlushTimeout",value:function(){var e=this;this.isPaused||(this.flushTimeout=setTimeout((function(){if(e.clearFlushTimeout(),e.queue.length>0){var t=e.formatQueue(),n=function(n){var i=t[n],r=(new Date).getTime();i.data&&Je(i.data)&&Ct(i.data,(function(e){e.offset=Math.abs(e.timestamp-r),delete e.timestamp})),e.sendRequest(i)};for(var i in t)n(i)}}),this.flushTimeoutMs))}},{key:"clearFlushTimeout",value:function(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}},{key:"formatQueue",value:function(){var e={};return Ct(this.queue,(function(t){var n,i=t,r=(i?i.batchKey:null)||i.url;tt(e[r])&&(e[r]=Ae(Ae({},i),{},{data:[]})),null===(n=e[r].data)||void 0===n||n.push(i.data)})),this.queue=[],e}}]),e}(),Wr=Uint8Array,Vr=Uint16Array,Gr=Uint32Array,Yr=new Wr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Kr=new Wr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Qr=new Wr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Jr=function(e,t){for(var n=new Vr(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];var r=new Gr(n[30]);for(i=1;i<30;++i)for(var o=n[i];o<n[i+1];++o)r[o]=o-n[i]<<5|i;return[n,r]},Xr=Jr(Yr,2),Zr=Xr[0],eo=Xr[1];Zr[28]=258,eo[258]=28;for(var to=Jr(Kr,0)[1],no=new Vr(32768),io=0;io<32768;++io){var ro=(43690&io)>>>1|(21845&io)<<1;ro=(61680&(ro=(52428&ro)>>>2|(13107&ro)<<2))>>>4|(3855&ro)<<4,no[io]=((65280&ro)>>>8|(255&ro)<<8)>>>1}var oo=function(e,t,n){for(var i=e.length,r=0,o=new Vr(t);r<i;++r)++o[e[r]-1];var s,a=new Vr(t);for(r=0;r<t;++r)a[r]=a[r-1]+o[r-1]<<1;for(s=new Vr(i),r=0;r<i;++r)s[r]=no[a[e[r]-1]++]>>>15-e[r];return s},so=new Wr(288);for(io=0;io<144;++io)so[io]=8;for(io=144;io<256;++io)so[io]=9;for(io=256;io<280;++io)so[io]=7;for(io=280;io<288;++io)so[io]=8;var ao=new Wr(32);for(io=0;io<32;++io)ao[io]=5;var uo=oo(so,9),lo=oo(ao,5),co=function(e){return(e/8|0)+(7&e&&1)},fo=function(e,t,n){(null==n||n>e.length)&&(n=e.length);var i=new(e instanceof Vr?Vr:e instanceof Gr?Gr:Wr)(n-t);return i.set(e.subarray(t,n)),i},po=function(e,t,n){n<<=7&t;var i=t/8|0;e[i]|=n,e[i+1]|=n>>>8},ho=function(e,t,n){n<<=7&t;var i=t/8|0;e[i]|=n,e[i+1]|=n>>>8,e[i+2]|=n>>>16},vo=function(e,t){for(var n=[],i=0;i<e.length;++i)e[i]&&n.push({s:i,f:e[i]});var r=n.length,o=n.slice();if(!r)return[new Wr(0),0];if(1==r){var s=new Wr(n[0].s+1);return s[n[0].s]=1,[s,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var a=n[0],u=n[1],l=0,c=1,d=2;for(n[0]={s:-1,f:a.f+u.f,l:a,r:u};c!=r-1;)a=n[n[l].f<n[d].f?l++:d++],u=n[l!=c&&n[l].f<n[d].f?l++:d++],n[c++]={s:-1,f:a.f+u.f,l:a,r:u};var f=o[0].s;for(i=1;i<r;++i)o[i].s>f&&(f=o[i].s);var p=new Vr(f+1),h=go(n[c-1],p,0);if(h>t){i=0;var v=0,g=h-t,_=1<<g;for(o.sort((function(e,t){return p[t.s]-p[e.s]||e.f-t.f}));i<r;++i){var m=o[i].s;if(!(p[m]>t))break;v+=_-(1<<h-p[m]),p[m]=t}for(v>>>=g;v>0;){var y=o[i].s;p[y]<t?v-=1<<t-p[y]++-1:++i}for(;i>=0&&v;--i){var b=o[i].s;p[b]==t&&(--p[b],++v)}h=t}return[new Wr(p),h]},go=function e(t,n,i){return-1==t.s?Math.max(e(t.l,n,i+1),e(t.r,n,i+1)):n[t.s]=i},_o=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Vr(++t),i=0,r=e[0],o=1,s=function(e){n[i++]=e},a=1;a<=t;++a)if(e[a]==r&&a!=t)++o;else{if(!r&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(r),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(r);o=1,r=e[a]}return[n.subarray(0,i),t]},mo=function(e,t){for(var n=0,i=0;i<t.length;++i)n+=e[i]*t[i];return n},yo=function(e,t,n){var i=n.length,r=co(t+2);e[r]=255&i,e[r+1]=i>>>8,e[r+2]=255^e[r],e[r+3]=255^e[r+1];for(var o=0;o<i;++o)e[r+o+4]=n[o];return 8*(r+4+i)},bo=function(e,t,n,i,r,o,s,a,u,l,c){po(t,c++,n),++r[256];for(var d=vo(r,15),f=d[0],p=d[1],h=vo(o,15),v=h[0],g=h[1],_=_o(f),m=_[0],y=_[1],b=_o(v),w=b[0],k=b[1],S=new Vr(19),E=0;E<m.length;++E)S[31&m[E]]++;for(E=0;E<w.length;++E)S[31&w[E]]++;for(var x=vo(S,7),T=x[0],C=x[1],P=19;P>4&&!T[Qr[P-1]];--P);var I,O,R,$,F=l+5<<3,M=mo(r,so)+mo(o,ao)+s,A=mo(r,f)+mo(o,v)+s+14+3*P+mo(S,T)+(2*S[16]+3*S[17]+7*S[18]);if(F<=M&&F<=A)return yo(t,c,e.subarray(u,u+l));if(po(t,c,1+(A<M)),c+=2,A<M){I=oo(f,p),O=f,R=oo(v,g),$=v;var D=oo(T,C);for(po(t,c,y-257),po(t,c+5,k-1),po(t,c+10,P-4),c+=14,E=0;E<P;++E)po(t,c+3*E,T[Qr[E]]);c+=3*P;for(var L=[m,w],N=0;N<2;++N){var j=L[N];for(E=0;E<j.length;++E){var U=31&j[E];po(t,c,D[U]),c+=T[U],U>15&&(po(t,c,j[E]>>>5&127),c+=j[E]>>>12)}}}else I=uo,O=so,R=lo,$=ao;for(E=0;E<a;++E)if(i[E]>255){U=i[E]>>>18&31,ho(t,c,I[U+257]),c+=O[U+257],U>7&&(po(t,c,i[E]>>>23&31),c+=Yr[U]);var B=31&i[E];ho(t,c,R[B]),c+=$[B],B>3&&(ho(t,c,i[E]>>>5&8191),c+=Kr[B])}else ho(t,c,I[i[E]]),c+=O[i[E]];return ho(t,c,I[256]),c+O[256]},wo=new Gr([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ko=function(){for(var e=new Gr(256),t=0;t<256;++t){for(var n=t,i=9;--i;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),So=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function Eo(e,t){void 0===t&&(t={});var n=function(){var e=4294967295;return{p:function(t){for(var n=e,i=0;i<t.length;++i)n=ko[255&n^t[i]]^n>>>8;e=n},d:function(){return 4294967295^e}}}(),i=e.length;n.p(e);var r,o=function(e,t,n,i,r){return function(e,t,n,i,r,o){var s=e.length,a=new Wr(i+s+5*(1+Math.floor(s/7e3))+r),u=a.subarray(i,a.length-r),l=0;if(!t||s<8)for(var c=0;c<=s;c+=65535){var d=c+65535;d<s?l=yo(u,l,e.subarray(c,d)):(u[c]=o,l=yo(u,l,e.subarray(c,s)))}else{for(var f=wo[t-1],p=f>>>13,h=8191&f,v=(1<<n)-1,g=new Vr(32768),_=new Vr(v+1),m=Math.ceil(n/3),y=2*m,b=function(t){return(e[t]^e[t+1]<<m^e[t+2]<<y)&v},w=new Gr(25e3),k=new Vr(288),S=new Vr(32),E=0,x=0,T=(c=0,0),C=0,P=0;c<s;++c){var I=b(c),O=32767&c,R=_[I];if(g[O]=R,_[I]=O,C<=c){var $=s-c;if((E>7e3||T>24576)&&$>423){l=bo(e,u,0,w,k,S,x,T,P,c-P,l),T=E=x=0,P=c;for(var F=0;F<286;++F)k[F]=0;for(F=0;F<30;++F)S[F]=0}var M=2,A=0,D=h,L=O-R&32767;if($>2&&I==b(c-L))for(var N=Math.min(p,$)-1,j=Math.min(32767,c),U=Math.min(258,$);L<=j&&--D&&O!=R;){if(e[c+M]==e[c+M-L]){for(var B=0;B<U&&e[c+B]==e[c+B-L];++B);if(B>M){if(M=B,A=L,B>N)break;var H=Math.min(L,B-2),q=0;for(F=0;F<H;++F){var z=c-L+F+32768&32767,W=z-g[z]+32768&32767;W>q&&(q=W,R=z)}}}L+=(O=R)-(R=g[O])+32768&32767}if(A){w[T++]=268435456|eo[M]<<18|to[A];var V=31&eo[M],G=31&to[A];x+=Yr[V]+Kr[G],++k[257+V],++S[G],C=c+M,++E}else w[T++]=e[c],++k[e[c]]}}l=bo(e,u,o,w,k,S,x,T,P,c-P,l)}return fo(a,0,i+co(l)+r)}(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,i,!r)}(e,t,10+((r=t).filename&&r.filename.length+1||0),8),s=o.length;return function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&So(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var i=0;i<=n.length;++i)e[i+10]=n.charCodeAt(i)}}(o,t),So(o,s-8,n.d()),So(o,s-4,i),o}var xo=!!mt||!!_t,To="text/plain",Co=function(e,t){var n=Be(e.split("?"),2),i=n[0],r=n[1],o=Ae({},t);null==r||r.split("&").forEach((function(e){var t=Be(e.split("="),1)[0];delete o[t]}));var s=function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",r=[];return Ct(e,(function(e,i){tt(e)||tt(i)||"undefined"===i||(t=encodeURIComponent(e instanceof File?e.name:e.toString()),n=encodeURIComponent(i),r[r.length]=n+"="+t)})),r.join(i)}(o);return s=s?(r?r+"&":"")+s:r,"".concat(i,"?").concat(s)},Po=function(e){var t,n=e.data,i=e.compression;if(n){if(i===At.GZipJS){var r=Eo(function(e,t){var n=e.length;if("undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var i=new Wr(e.length+(e.length>>>1)),r=0,o=function(e){i[r++]=e},s=0;s<n;++s){if(r+5>i.length){var a=new Wr(r+8+(n-s<<1));a.set(i),i=a}var u=e.charCodeAt(s);u<128?o(u):u<2048?(o(192|u>>>6),o(128|63&u)):u>55295&&u<57344?(o(240|(u=65536+(1047552&u)|1023&e.charCodeAt(++s))>>>18),o(128|u>>>12&63),o(128|u>>>6&63),o(128|63&u)):(o(224|u>>>12),o(128|u>>>6&63),o(128|63&u))}return fo(i,0,r)}(JSON.stringify(n)),{mtime:0}),o=new Blob([r],{type:To});return{contentType:To,body:o,estimatedSize:o.size}}if(i===At.Base64){var s=function(e){var t,n,i,r,o,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=0,u=0,l="",c=[];if(!e)return e;e=function(e){var t,n,i,r,o="";for(t=n=0,i=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,r=0;r<i;r++){var s=e.charCodeAt(r),a=null;s<128?n++:a=s>127&&s<2048?String.fromCharCode(s>>6|192,63&s|128):String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128),rt(a)||(n>t&&(o+=e.substring(t,n)),o+=a,t=n=r+1)}return n>t&&(o+=e.substring(t,e.length)),o}(e);do{t=(o=e.charCodeAt(a++)<<16|e.charCodeAt(a++)<<8|e.charCodeAt(a++))>>18&63,n=o>>12&63,i=o>>6&63,r=63&o,c[u++]=s.charAt(t)+s.charAt(n)+s.charAt(i)+s.charAt(r)}while(a<e.length);switch(l=c.join(""),e.length%3){case 1:l=l.slice(0,-2)+"==";break;case 2:l=l.slice(0,-1)+"="}return l}(JSON.stringify(n)),a=(t=s,"data="+encodeURIComponent("string"==typeof t?t:JSON.stringify(t)));return{contentType:"application/x-www-form-urlencoded",body:a,estimatedSize:new Blob([a]).size}}var u=JSON.stringify(n);return{contentType:"application/json",body:u,estimatedSize:new Blob([u]).size}}},Io=[];mt&&Io.push({transport:"XHR",method:function(e){var t,n=new mt;n.open(e.method||"GET",e.url,!0);var i=null!==(t=Po(e))&&void 0!==t?t:{},r=i.contentType,o=i.body;Ct(e.headers,(function(e,t){n.setRequestHeader(t,e)})),r&&n.setRequestHeader("Content-Type",r),e.timeout&&(n.timeout=e.timeout),n.withCredentials=!0,n.onreadystatechange=function(){if(4===n.readyState){var t,i={statusCode:n.status,text:n.responseText};if(200===n.status)try{i.json=JSON.parse(n.responseText)}catch(r){}null===(t=e.callback)||void 0===t||t.call(e,i)}},n.send(o)}}),_t&&Io.push({transport:"fetch",method:function(e){var t,n,i=null!==(t=Po(e))&&void 0!==t?t:{},r=i.contentType,o=i.body,s=i.estimatedSize,a=new Headers;Ct(e.headers,(function(e,t){a.append(t,e)})),r&&a.append("Content-Type",r);var u=e.url,l=null;if(yt){var c=new yt;l={signal:c.signal,timeout:setTimeout((function(){return c.abort()}),e.timeout)}}_t(u,{method:(null==e?void 0:e.method)||"GET",headers:a,keepalive:"POST"===e.method&&(s||0)<65536,body:o,signal:null===(n=l)||void 0===n?void 0:n.signal}).then((function(t){return t.text().then((function(n){var i,r={statusCode:t.status,text:n};if(200===t.status)try{r.json=JSON.parse(n)}catch(o){St.error(o)}null===(i=e.callback)||void 0===i||i.call(e,r)}))})).catch((function(t){var n;St.error(t),null===(n=e.callback)||void 0===n||n.call(e,{statusCode:0,text:t})})).finally((function(){return l?clearTimeout(l.timeout):null}))}}),null!=ht&&ht.sendBeacon&&Io.push({transport:"sendBeacon",method:function(e){var t=Co(e.url,{beacon:"1"});try{var n,i=null!==(n=Po(e))&&void 0!==n?n:{},r=i.contentType,o=i.body,s="string"==typeof o?new Blob([o],{type:r}):o;ht.sendBeacon(t,s)}catch(a){}}});var Oo,Ro=["retriesPerformedSoFar"],$o=function(){function e(t){var n=this;Le(this,e),Ue(this,"isPolling",!1),Ue(this,"pollIntervalMs",3e3),Ue(this,"queue",[]),this.instance=t,this.queue=[],this.areWeOnline=!0,!tt(lt)&&"onLine"in lt.navigator&&(this.areWeOnline=lt.navigator.onLine,lt.addEventListener("online",(function(){n.areWeOnline=!0,n.flush()})),lt.addEventListener("offline",(function(){n.areWeOnline=!1})))}return je(e,[{key:"retriableRequest",value:function(e){var t=this,n=e.retriesPerformedSoFar,i=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,Ro);st(n)&&n>0&&(i.url=Co(i.url,{retry_count:n})),this.instance._send_request(Ae(Ae({},i),{},{callback:function(e){var r;200!==e.statusCode&&(e.statusCode<400||e.statusCode>=500)&&(null!=n?n:0)<10?t.enqueue(Ae({retriesPerformedSoFar:n},i)):null===(r=i.callback)||void 0===r||r.call(i,e)}}))}},{key:"enqueue",value:function(e){var t=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=t+1;var n,i,r,o,s,a=(n=t,i=3e3*Math.pow(2,n),r=i/2,o=Math.min(18e5,i),s=(Math.random()-.5)*(o-r),Math.ceil(o+s)),u=Date.now()+a;this.queue.push({retryAt:u,requestOptions:e});var l="Enqueued failed request for retry in ".concat(a);navigator.onLine||(l+=" (Browser is offline)"),St.warn(l),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var e=this;this.poller&&clearTimeout(this.poller),this.poller=setTimeout((function(){e.areWeOnline&&e.queue.length>0&&e.flush(),e.poll()}),this.pollIntervalMs)}},{key:"flush",value:function(){var e=Date.now(),t=[],n=this.queue.filter((function(n){return n.retryAt<e||(t.push(n),!1)}));if(this.queue=t,n.length>0){var i,r=We(n);try{for(r.s();!(i=r.n()).done;){var o=i.value.requestOptions;this.retriableRequest(o)}}catch(s){r.e(s)}finally{r.f()}}}},{key:"unload",value:function(){this.poller&&(clearTimeout(this.poller),this.poller=void 0);var e,t=We(this.queue);try{for(t.s();!(e=t.n()).done;){var n=e.value.requestOptions;try{this.instance._send_request(Ae(Ae({},n),{},{transport:"sendBeacon"}))}catch(i){St.error(i)}}}catch(i){t.e(i)}finally{t.f()}this.queue=[]}}]),e}(),Fo=1800,Mo=function(){function e(t,n,i,r){var o;Le(this,e),Ue(this,"_sessionIdChangedHandlers",[]),this.config=t,this.persistence=n,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=i||On,this._windowIdGenerator=r||On;var s=t.persistence_name||t.token,a=t.session_idle_timeout_seconds||Fo;if(st(a)?a>Fo?St.warn("session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead."):a<60&&St.warn("session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead."):(St.warn("session_idle_timeout_seconds must be a number. Defaulting to 30 minutes."),a=Fo),this._sessionTimeoutMs=1e3*Math.min(Math.max(a,60),Fo),this._window_id_storage_key="ph_"+s+"_window_id",this._primary_window_exists_storage_key="ph_"+s+"_primary_window_exists",this._canUseSessionStorage()){var u=qn.parse(this._window_id_storage_key),l=qn.parse(this._primary_window_exists_storage_key);u&&!l?this._windowId=u:qn.remove(this._window_id_storage_key),qn.set(this._primary_window_exists_storage_key,!0)}if(null!==(o=this.config.bootstrap)&&void 0!==o&&o.sessionID)try{var c=function(e){var t=e.replace(/-/g,"");if(32!==t.length)throw new Error("Not a valid UUID");if("7"!==t[12])throw new Error("Not a UUIDv7");return parseInt(t.substring(0,12),16)}(this.config.bootstrap.sessionID);this._setSessionId(this.config.bootstrap.sessionID,(new Date).getTime(),c)}catch(d){St.error("Invalid sessionID in bootstrap",d)}this._listenToReloadWindow()}return je(e,[{key:"onSessionId",value:function(e){var t=this;return tt(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(e),this._sessionId&&e(this._sessionId,this._windowId),function(){t._sessionIdChangedHandlers=t._sessionIdChangedHandlers.filter((function(t){return t!==e}))}}},{key:"_canUseSessionStorage",value:function(){return"memory"!==this.config.persistence&&!this.persistence.disabled&&qn.is_supported()}},{key:"_setWindowId",value:function(e){e!==this._windowId&&(this._windowId=e,this._canUseSessionStorage()&&qn.set(this._window_id_storage_key,e))}},{key:"_getWindowId",value:function(){return this._windowId?this._windowId:this._canUseSessionStorage()?qn.parse(this._window_id_storage_key):null}},{key:"_setSessionId",value:function(e,t,n){e===this._sessionId&&t===this._sessionActivityTimestamp&&n===this._sessionStartTimestamp||(this._sessionStartTimestamp=n,this._sessionActivityTimestamp=t,this._sessionId=e,this.persistence.register(Ue({},en,[t,e,n])))}},{key:"_getSessionId",value:function(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var e=this.persistence.props[en];return Je(e)&&2===e.length&&e.push(e[0]),e||[0,null,0]}},{key:"resetSessionId",value:function(){this._setSessionId(null,null,null)}},{key:"_listenToReloadWindow",value:function(){var e=this;null==lt||lt.addEventListener("beforeunload",(function(){e._canUseSessionStorage()&&qn.remove(e._primary_window_exists_storage_key)}))}},{key:"checkAndGetSessionAndWindowId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||(new Date).getTime(),n=Be(this._getSessionId(),3),i=n[0],r=n[1],o=n[2],s=this._getWindowId(),a=st(o)&&o>0&&Math.abs(t-o)>864e5,u=!1,l=!r,c=!e&&Math.abs(t-i)>this._sessionTimeoutMs;l||c||a?(r=this._sessionIdGenerator(),s=this._windowIdGenerator(),St.info("[SessionId] new session ID generated",{sessionId:r,windowId:s,changeReason:{noSessionId:l,activityTimeout:c,sessionPastMaximumLength:a}}),o=t,u=!0):s||(s=this._windowIdGenerator(),u=!0);var d=0===i||!e||a?t:i,f=0===o?(new Date).getTime():o;return this._setWindowId(s),this._setSessionId(r,d,f),u&&this._sessionIdChangedHandlers.forEach((function(e){return e(r,s,u?{noSessionId:l,activityTimeout:c,sessionPastMaximumLength:a}:void 0)})),{sessionId:r,windowId:s,sessionStartTimestamp:f,changeReason:u?{noSessionId:l,activityTimeout:c,sessionPastMaximumLength:a}:void 0}}}]),e}();!function(e){e.US="us",e.EU="eu",e.CUSTOM="custom"}(Oo||(Oo={}));var Ao="i.posthog.com",Do=function(){function e(t){Le(this,e),Ue(this,"_regionCache",{}),this.instance=t}return je(e,[{key:"apiHost",get:function(){var e=this.instance.config.api_host.trim().replace(/\/$/,"");return"https://app.posthog.com"===e?"https://us.i.posthog.com":e}},{key:"uiHost",get:function(){var e,t=null===(e=this.instance.config.ui_host)||void 0===e?void 0:e.replace(/\/$/,"");return t||(t=this.apiHost.replace(".".concat(Ao),".posthog.com")),"https://app.posthog.com"===t?"https://us.posthog.com":t}},{key:"region",get:function(){return this._regionCache[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Oo.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Oo.EU:this._regionCache[this.apiHost]=Oo.CUSTOM),this._regionCache[this.apiHost]}},{key:"endpointFor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t&&(t="/"===t[0]?t:"/".concat(t)),"ui"===e)return this.uiHost+t;if(this.region===Oo.CUSTOM)return this.apiHost+t;var n=Ao+t;switch(e){case"assets":return"https://".concat(this.region,"-assets.").concat(n);case"api":return"https://".concat(this.region,".").concat(n)}}}]),e}(),Lo="posthog-js";function No(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.organization,i=t.projectId,r=t.prefix,o=t.severityAllowList,s=void 0===o?["error"]:o;return function(t){var o,a,u,l,c;if("*"!==s&&!s.includes(t.level)||!e.__loaded)return t;t.tags||(t.tags={});var d=e.requestRouter.endpointFor("ui","/project/".concat(e.config.token,"/person/").concat(e.get_distinct_id()));t.tags["PostHog Person URL"]=d,e.sessionRecordingStarted()&&(t.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var f=(null===(o=t.exception)||void 0===o?void 0:o.values)||[],p={$exception_message:(null===(a=f[0])||void 0===a?void 0:a.value)||t.message,$exception_type:null===(u=f[0])||void 0===u?void 0:u.type,$exception_personURL:d,$exception_level:t.level,$sentry_event_id:t.event_id,$sentry_exception:t.exception,$sentry_exception_message:(null===(l=f[0])||void 0===l?void 0:l.value)||t.message,$sentry_exception_type:null===(c=f[0])||void 0===c?void 0:c.type,$sentry_tags:t.tags,$level:t.level};return n&&i&&(p.$sentry_url=(r||"https://sentry.io/organizations/")+n+"/issues/?project="+i+"&query="+t.event_id),e.exceptions.sendExceptionEvent(p),t}}var jo=je((function e(t,n,i,r,o){Le(this,e),this.name=Lo,this.setupOnce=function(e){e(No(t,{organization:n,projectId:i,prefix:r,severityAllowList:o}))}}));var Uo,Bo,Ho,qo=function(){function e(t){Le(this,e),this._instance=t}return je(e,[{key:"doPageView",value:function(e){var t,n=this._previousPageViewProperties(e);return this._currentPath=null!==(t=null==lt?void 0:lt.location.pathname)&&void 0!==t?t:"",this._instance.scrollManager.resetContext(),this._prevPageviewTimestamp=e,n}},{key:"doPageLeave",value:function(e){return this._previousPageViewProperties(e)}},{key:"_previousPageViewProperties",value:function(e){var t=this._currentPath,n=this._prevPageviewTimestamp,i=this._instance.scrollManager.getContext();if(!n)return{};var r={};if(i){var o=i.maxScrollHeight,s=i.lastScrollY,a=i.maxScrollY,u=i.maxContentHeight,l=i.lastContentY,c=i.maxContentY;tt(o)||tt(s)||tt(a)||tt(u)||tt(l)||tt(c)||(o=Math.ceil(o),s=Math.ceil(s),a=Math.ceil(a),u=Math.ceil(u),l=Math.ceil(l),c=Math.ceil(c),r={$prev_pageview_last_scroll:s,$prev_pageview_last_scroll_percentage:o<=1?1:zo(s/o,0,1),$prev_pageview_max_scroll:a,$prev_pageview_max_scroll_percentage:o<=1?1:zo(a/o,0,1),$prev_pageview_last_content:l,$prev_pageview_last_content_percentage:u<=1?1:zo(l/u,0,1),$prev_pageview_max_content:c,$prev_pageview_max_content_percentage:u<=1?1:zo(c/u,0,1)})}return t&&(r.$prev_pageview_pathname=t),n&&(r.$prev_pageview_duration=(e.getTime()-n.getTime())/1e3),r}}]),e}();function zo(e,t,n){return Math.max(t,Math.min(e,n))}!function(e){e.Popover="popover",e.API="api",e.Widget="widget"}(Uo||(Uo={})),function(e){e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link"}(Bo||(Bo={})),function(e){e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question"}(Ho||(Ho={}));var Wo=function(){function e(){Le(this,e),Ue(this,"events",{}),this.events={}}return je(e,[{key:"on",value:function(e,t){var n=this;return this.events[e]||(this.events[e]=[]),this.events[e].push(t),function(){n.events[e]=n.events[e].filter((function(e){return e!==t}))}}},{key:"emit",value:function(e,t){var n,i=We(this.events[e]||[]);try{for(i.s();!(n=i.n()).done;)(0,n.value)(t)}catch(s){i.e(s)}finally{i.f()}var r,o=We(this.events["*"]||[]);try{for(o.s();!(r=o.n()).done;)(0,r.value)(e,t)}catch(s){o.e(s)}finally{o.f()}}}]),e}(),Vo=function(){function e(t){var n=this;Le(this,e),Ue(this,"_debugEventEmitter",new Wo),Ue(this,"checkStep",(function(e,t){return n.checkStepEvent(e,t)&&n.checkStepUrl(e,t)&&n.checkStepElement(e,t)})),Ue(this,"checkStepEvent",(function(e,t){return null==t||!t.event||(null==e?void 0:e.event)===(null==t?void 0:t.event)})),this.instance=t,this.actionEvents=new Set,this.actionRegistry=new Set}return je(e,[{key:"init",value:function(){var e,t,n=this;tt(null===(e=this.instance)||void 0===e?void 0:e._addCaptureHook)||(null===(t=this.instance)||void 0===t||t._addCaptureHook((function(e,t){n.on(e,t)})))}},{key:"register",value:function(e){var t,n,i=this;if(!tt(null===(t=this.instance)||void 0===t?void 0:t._addCaptureHook)&&(e.forEach((function(e){var t,n;null===(t=i.actionRegistry)||void 0===t||t.add(e),null===(n=e.steps)||void 0===n||n.forEach((function(e){var t;null===(t=i.actionEvents)||void 0===t||t.add((null==e?void 0:e.event)||"")}))})),null!==(n=this.instance)&&void 0!==n&&n.autocapture)){var r,o=new Set;e.forEach((function(e){var t;null===(t=e.steps)||void 0===t||t.forEach((function(e){null!=e&&e.selector&&o.add(null==e?void 0:e.selector)}))})),null===(r=this.instance)||void 0===r||r.autocapture.setElementSelectors(o)}}},{key:"on",value:function(e,t){var n,i=this;null!=t&&0!=e.length&&(this.actionEvents.has(e)||this.actionEvents.has(null==t?void 0:t.event))&&this.actionRegistry&&(null===(n=this.actionRegistry)||void 0===n?void 0:n.size)>0&&this.actionRegistry.forEach((function(e){i.checkAction(t,e)&&i._debugEventEmitter.emit("actionCaptured",e.name)}))}},{key:"_addActionHook",value:function(e){this.onAction("actionCaptured",(function(t){return e(t)}))}},{key:"checkAction",value:function(e,t){if(null==(null==t?void 0:t.steps))return!1;var n,i=We(t.steps);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(this.checkStep(e,r))return!0}}catch(o){i.e(o)}finally{i.f()}return!1}},{key:"onAction",value:function(e,t){return this._debugEventEmitter.on(e,t)}},{key:"checkStepUrl",value:function(t,n){if(null!=n&&n.url){var i,r=null==t||null===(i=t.properties)||void 0===i?void 0:i.$current_url;if(!r||"string"!=typeof r)return!1;if(!e.matchString(r,null==n?void 0:n.url,(null==n?void 0:n.url_matching)||"contains"))return!1}return!0}},{key:"checkStepElement",value:function(t,n){if((null!=n&&n.href||null!=n&&n.tag_name||null!=n&&n.text)&&!this.getElementsList(t).some((function(t){return!(null!=n&&n.href&&!e.matchString(t.href||"",null==n?void 0:n.href,(null==n?void 0:n.href_matching)||"exact")||null!=n&&n.tag_name&&t.tag_name!==(null==n?void 0:n.tag_name)||null!=n&&n.text&&!e.matchString(t.text||"",null==n?void 0:n.text,(null==n?void 0:n.text_matching)||"exact")&&!e.matchString(t.$el_text||"",null==n?void 0:n.text,(null==n?void 0:n.text_matching)||"exact"))})))return!1;if(null!=n&&n.selector){var i,r=null==t||null===(i=t.properties)||void 0===i?void 0:i.$element_selectors;if(!r)return!1;if(!r.includes(null==n?void 0:n.selector))return!1}return!0}},{key:"getElementsList",value:function(e){return null==(null==e?void 0:e.properties.$elements)?[]:null==e?void 0:e.properties.$elements}}],[{key:"matchString",value:function(t,n,i){switch(i){case"regex":return!!lt&&Vn(t,n);case"exact":return n===t;case"contains":var r=e.escapeStringRegexp(n).replace(/_/g,".").replace(/%/g,".*");return Vn(t,r);default:return!1}}},{key:"escapeStringRegexp",value:function(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}}]),e}(),Go=function(){function e(t){Le(this,e),this.instance=t,this.eventToSurveys=new Map,this.actionToSurveys=new Map}return je(e,[{key:"register",value:function(e){var t;tt(null===(t=this.instance)||void 0===t?void 0:t._addCaptureHook)||(this.setupEventBasedSurveys(e),this.setupActionBasedSurveys(e))}},{key:"setupActionBasedSurveys",value:function(e){var t=this,n=e.filter((function(e){var t,n,i,r;return(null===(t=e.conditions)||void 0===t?void 0:t.actions)&&(null===(n=e.conditions)||void 0===n||null===(i=n.actions)||void 0===i||null===(r=i.values)||void 0===r?void 0:r.length)>0}));0!==n.length&&(null==this.actionMatcher&&(this.actionMatcher=new Vo(this.instance),this.actionMatcher.init(),this.actionMatcher._addActionHook((function(e){t.onAction(e)}))),n.forEach((function(e){var n,i,r,o,s,a,u,l,c,d;e.conditions&&null!==(n=e.conditions)&&void 0!==n&&n.actions&&null!==(i=e.conditions)&&void 0!==i&&null!==(r=i.actions)&&void 0!==r&&r.values&&(null===(o=e.conditions)||void 0===o||null===(s=o.actions)||void 0===s||null===(a=s.values)||void 0===a?void 0:a.length)>0&&(null===(u=t.actionMatcher)||void 0===u||u.register(e.conditions.actions.values),null===(l=e.conditions)||void 0===l||null===(c=l.actions)||void 0===c||null===(d=c.values)||void 0===d||d.forEach((function(n){if(n&&n.name){var i=t.actionToSurveys.get(n.name);i&&i.push(e.id),t.actionToSurveys.set(n.name,i||[e.id])}})))})))}},{key:"setupEventBasedSurveys",value:function(e){var t,n=this;0!==e.filter((function(e){var t,n,i,r;return(null===(t=e.conditions)||void 0===t?void 0:t.events)&&(null===(n=e.conditions)||void 0===n||null===(i=n.events)||void 0===i||null===(r=i.values)||void 0===r?void 0:r.length)>0})).length&&(null===(t=this.instance)||void 0===t||t._addCaptureHook((function(e,t){n.onEvent(e,t)})),e.forEach((function(e){var t,i,r;null===(t=e.conditions)||void 0===t||null===(i=t.events)||void 0===i||null===(r=i.values)||void 0===r||r.forEach((function(t){if(t&&t.name){var i=n.eventToSurveys.get(t.name);i&&i.push(e.id),n.eventToSurveys.set(t.name,i||[e.id])}}))})))}},{key:"onEvent",value:function(t,n){var i,r,o=(null===(i=this.instance)||void 0===i||null===(r=i.persistence)||void 0===r?void 0:r.props[un])||[];if(e.SURVEY_SHOWN_EVENT_NAME==t&&n&&o.length>0){var s,a=null==n||null===(s=n.properties)||void 0===s?void 0:s.$survey_id;if(a){var u=o.indexOf(a);u>=0&&(o.splice(u,1),this._updateActivatedSurveys(o))}}else this.eventToSurveys.has(t)&&this._updateActivatedSurveys(o.concat(this.eventToSurveys.get(t)||[]))}},{key:"onAction",value:function(e){var t,n,i=(null===(t=this.instance)||void 0===t||null===(n=t.persistence)||void 0===n?void 0:n.props[un])||[];this.actionToSurveys.has(e)&&this._updateActivatedSurveys(i.concat(this.actionToSurveys.get(e)||[]))}},{key:"_updateActivatedSurveys",value:function(e){var t,n;null===(t=this.instance)||void 0===t||null===(n=t.persistence)||void 0===n||n.register(Ue({},un,He(new Set(e))))}},{key:"getSurveys",value:function(){var e,t;return(null===(e=this.instance)||void 0===e||null===(t=e.persistence)||void 0===t?void 0:t.props[un])||[]}},{key:"getEventToSurveys",value:function(){return this.eventToSurveys}},{key:"_getActionMatcher",value:function(){return this.actionMatcher}}]),e}();Ue(Go,"SURVEY_SHOWN_EVENT_NAME","survey shown");var Yo="[Surveys]",Ko={icontains:function(e){return!!lt&&lt.location.href.toLowerCase().indexOf(e.toLowerCase())>-1},not_icontains:function(e){return!!lt&&-1===lt.location.href.toLowerCase().indexOf(e.toLowerCase())},regex:function(e){return!!lt&&Vn(lt.location.href,e)},not_regex:function(e){return!!lt&&!Vn(lt.location.href,e)},exact:function(e){return(null==lt?void 0:lt.location.href)===e},is_not:function(e){return(null==lt?void 0:lt.location.href)!==e}},Qo=function(){function e(t){Le(this,e),this.instance=t,this._surveyEventReceiver=null}return je(e,[{key:"afterDecideResponse",value:function(e){this._decideServerResponse=!!e.surveys,this.loadIfEnabled()}},{key:"loadIfEnabled",value:function(){var e,t,n,i=this,r=null==wt||null===(e=wt.__PosthogExtensions__)||void 0===e?void 0:e.generateSurveys;this.instance.config.disable_surveys||!this._decideServerResponse||r||(null==this._surveyEventReceiver&&(this._surveyEventReceiver=new Go(this.instance)),null===(t=wt.__PosthogExtensions__)||void 0===t||null===(n=t.loadExternalDependency)||void 0===n||n.call(t,this.instance,"surveys",(function(e){var t,n;if(e)return St.error(Yo,"Could not load surveys script",e);i._surveyManager=null===(t=wt.__PosthogExtensions__)||void 0===t||null===(n=t.generateSurveys)||void 0===n?void 0:n.call(t,i.instance)})))}},{key:"getSurveys",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.instance.config.disable_surveys)return e([]);null==this._surveyEventReceiver&&(this._surveyEventReceiver=new Go(this.instance));var i=this.instance.get_property(an);if(i&&!n)return e(i);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/surveys/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:function(n){var i;if(200!==n.statusCode||!n.json)return e([]);var r,o=n.json.surveys||[],s=o.filter((function(e){var t,n,i,r,o,s,a,u,l,c,d,f;return(null===(t=e.conditions)||void 0===t?void 0:t.events)&&(null===(n=e.conditions)||void 0===n||null===(i=n.events)||void 0===i?void 0:i.values)&&(null===(r=e.conditions)||void 0===r||null===(o=r.events)||void 0===o||null===(s=o.values)||void 0===s?void 0:s.length)>0||(null===(a=e.conditions)||void 0===a?void 0:a.actions)&&(null===(u=e.conditions)||void 0===u||null===(l=u.actions)||void 0===l?void 0:l.values)&&(null===(c=e.conditions)||void 0===c||null===(d=c.actions)||void 0===d||null===(f=d.values)||void 0===f?void 0:f.length)>0}));return s.length>0&&(null===(r=t._surveyEventReceiver)||void 0===r||r.register(s)),null===(i=t.instance.persistence)||void 0===i||i.register(Ue({},an,o)),e(o)}})}},{key:"getActiveMatchingSurveys",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.getSurveys((function(n){var i,r=n.filter((function(e){return!(!e.start_date||e.end_date)})).filter((function(e){var t,n,i,r;if(!e.conditions)return!0;var o=null===(t=e.conditions)||void 0===t||!t.url||Ko[null!==(n=null===(i=e.conditions)||void 0===i?void 0:i.urlMatchType)&&void 0!==n?n:"icontains"](e.conditions.url),s=null===(r=e.conditions)||void 0===r||!r.selector||(null==vt?void 0:vt.querySelector(e.conditions.selector));return o&&s})),o=null===(i=t._surveyEventReceiver)||void 0===i?void 0:i.getSurveys(),s=r.filter((function(e){var n,i,r,s,a,u,l,c,d,f;if(!e.linked_flag_key&&!e.targeting_flag_key&&!e.internal_targeting_flag_key)return!0;var p=!e.linked_flag_key||t.instance.featureFlags.isFeatureEnabled(e.linked_flag_key),h=!e.targeting_flag_key||t.instance.featureFlags.isFeatureEnabled(e.targeting_flag_key),v=(null===(n=e.conditions)||void 0===n?void 0:n.events)&&(null===(i=e.conditions)||void 0===i||null===(r=i.events)||void 0===r?void 0:r.values)&&(null===(s=e.conditions)||void 0===s||null===(a=s.events)||void 0===a?void 0:a.values.length)>0,g=(null===(u=e.conditions)||void 0===u?void 0:u.actions)&&(null===(l=e.conditions)||void 0===l||null===(c=l.actions)||void 0===c?void 0:c.values)&&(null===(d=e.conditions)||void 0===d||null===(f=d.actions)||void 0===f?void 0:f.values.length)>0,_=!v&&!g||(null==o?void 0:o.includes(e.id)),m=t._canActivateRepeatedly(e),y=!(e.internal_targeting_flag_key&&!m)||t.instance.featureFlags.isFeatureEnabled(e.internal_targeting_flag_key);return p&&h&&y&&_}));return e(s)}),n)}},{key:"getNextSurveyStep",value:function(e,t,n){var i,r=e.questions[t],o=t+1;if(null===(i=r.branching)||void 0===i||!i.type)return t===e.questions.length-1?Ho.End:o;if(r.branching.type===Ho.End)return Ho.End;if(r.branching.type===Ho.SpecificQuestion){if(Number.isInteger(r.branching.index))return r.branching.index}else if(r.branching.type===Ho.ResponseBased){if(r.type===Bo.SingleChoice){var s,a,u=r.choices.indexOf("".concat(n));if(null!==(s=r.branching)&&void 0!==s&&null!==(a=s.responseValues)&&void 0!==a&&a.hasOwnProperty(u)){var l=r.branching.responseValues[u];return Number.isInteger(l)?l:l===Ho.End?Ho.End:o}}else if(r.type===Bo.Rating){var c,d;if("number"!=typeof n||!Number.isInteger(n))throw new Error("The response type must be an integer");var f=function(e,t){if(3===t){if(e<1||e>3)throw new Error("The response must be in range 1-3");return 1===e?"negative":2===e?"neutral":"positive"}if(5===t){if(e<1||e>5)throw new Error("The response must be in range 1-5");return e<=2?"negative":3===e?"neutral":"positive"}if(7===t){if(e<1||e>7)throw new Error("The response must be in range 1-7");return e<=3?"negative":4===e?"neutral":"positive"}if(10===t){if(e<0||e>10)throw new Error("The response must be in range 0-10");return e<=6?"detractors":e<=8?"passives":"promoters"}throw new Error("The scale must be one of: 3, 5, 7, 10")}(n,r.scale);if(null!==(c=r.branching)&&void 0!==c&&null!==(d=c.responseValues)&&void 0!==d&&d.hasOwnProperty(f)){var p=r.branching.responseValues[f];return Number.isInteger(p)?p:p===Ho.End?Ho.End:o}}return o}return St.warn(Yo,"Falling back to next question index due to unexpected branching type"),o}},{key:"_canActivateRepeatedly",value:function(e){var t;return ot(null===(t=wt.__PosthogExtensions__)||void 0===t?void 0:t.canActivateRepeatedly)?(St.warn(Yo,"canActivateRepeatedly is not defined, must init before calling"),!1):wt.__PosthogExtensions__.canActivateRepeatedly(e)}},{key:"canRenderSurvey",value:function(e){var t=this;ot(this._surveyManager)?St.warn(Yo,"canActivateRepeatedly is not defined, must init before calling"):this.getSurveys((function(n){var i=n.filter((function(t){return t.id===e}))[0];t._surveyManager.canRenderSurvey(i)}))}},{key:"renderSurvey",value:function(e,t){var n=this;ot(this._surveyManager)?St.warn(Yo,"canActivateRepeatedly is not defined, must init before calling"):this.getSurveys((function(i){var r=i.filter((function(t){return t.id===e}))[0];n._surveyManager.renderSurvey(r,null==vt?void 0:vt.querySelector(t))}))}}]),e}(),Jo=function(){function e(t){var n,i,r=this;Le(this,e),Ue(this,"serverLimits",{}),Ue(this,"lastEventRateLimited",!1),Ue(this,"checkForLimiting",(function(e){var t=e.text;if(t&&t.length)try{(JSON.parse(t).quota_limited||[]).forEach((function(e){St.info("[RateLimiter] ".concat(e||"events"," is quota limited.")),r.serverLimits[e]=(new Date).getTime()+6e4}))}catch(n){return void St.warn('[RateLimiter] could not rate limit - continuing. Error: "'.concat(null==n?void 0:n.message,'"'),{text:t})}})),this.instance=t,this.captureEventsPerSecond=(null===(n=t.config.rate_limiting)||void 0===n?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null===(i=t.config.rate_limiting)||void 0===i?void 0:i.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}return je(e,[{key:"clientRateLimitContext",value:function(){var e,t,n,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=(new Date).getTime(),o=null!==(e=null===(t=this.instance.persistence)||void 0===t?void 0:t.get_property(fn))&&void 0!==e?e:{tokens:this.captureEventsBurstLimit,last:r};o.tokens+=(r-o.last)/1e3*this.captureEventsPerSecond,o.last=r,o.tokens>this.captureEventsBurstLimit&&(o.tokens=this.captureEventsBurstLimit);var s=o.tokens<1;return s||i||(o.tokens=Math.max(0,o.tokens-1)),!s||this.lastEventRateLimited||i||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to ".concat(this.captureEventsPerSecond," events per second and ").concat(this.captureEventsBurstLimit," events burst limit.")},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=s,null===(n=this.instance.persistence)||void 0===n||n.set_property(fn,o),{isRateLimited:s,remainingTokens:o.tokens}}},{key:"isServerRateLimited",value:function(e){var t=this.serverLimits[e||"events"]||!1;return!1!==t&&(new Date).getTime()<t}}]),e}(),Xo=function(){return Ae({initialPathName:(null==gt?void 0:gt.pathname)||"",referringDomain:Wi.referringDomain()},Wi.campaignParams())},Zo=function(){function e(t,n,i){var r=this;Le(this,e),Ue(this,"_onSessionIdCallback",(function(e){var t=r._getStoredProps();if(!t||t.sessionId!==e){var n={sessionId:e,props:r._sessionSourceParamGenerator()};r._persistence.register(Ue({},dn,n))}})),this._sessionIdManager=t,this._persistence=n,this._sessionSourceParamGenerator=i||Xo,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}return je(e,[{key:"_getStoredProps",value:function(){return this._persistence.props[dn]}},{key:"getSessionProps",value:function(){var e,t=null===(e=this._getStoredProps())||void 0===e?void 0:e.props;return t?{$client_session_initial_referring_host:t.referringDomain,$client_session_initial_pathname:t.initialPathName,$client_session_initial_utm_source:t.utm_source,$client_session_initial_utm_campaign:t.utm_campaign,$client_session_initial_utm_medium:t.utm_medium,$client_session_initial_utm_content:t.utm_content,$client_session_initial_utm_term:t.utm_term}:{}}}]),e}(),es=["ahrefsbot","ahrefssiteaudit","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","deepscan","duckduckbot","facebookexternal","facebookcatalog","gptbot","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","slurp","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","headlesschrome","cypress","Google-HotelAdsVerifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","Bytespider;"],ts=function(e,t){if(!e)return!1;var n=e.toLowerCase();return es.concat(t||[]).some((function(e){var t=e.toLowerCase();return-1!==n.indexOf(t)}))},ns=function(){function e(){Le(this,e),this.clicks=[]}return je(e,[{key:"isRageClick",value:function(e,t,n){var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(e-i.x)+Math.abs(t-i.y)<30&&n-i.timestamp<1e3){if(this.clicks.push({x:e,y:t,timestamp:n}),3===this.clicks.length)return!0}else this.clicks=[{x:e,y:t,timestamp:n}];return!1}}]),e}();function is(e){var t;return e.id===_n||!(null===(t=e.closest)||void 0===t||!t.call(e,"#"+_n))}var rs=function(){function e(t){var n,i=this;Le(this,e),Ue(this,"rageclicks",new ns),Ue(this,"_enabledServerSide",!1),Ue(this,"_initialized",!1),Ue(this,"_flushInterval",null),this.instance=t,this._enabledServerSide=!(null===(n=this.instance.persistence)||void 0===n||!n.props[qt]),null==lt||lt.addEventListener("beforeunload",(function(){i.flush()}))}return je(e,[{key:"flushIntervalMilliseconds",get:function(){var e=5e3;return Ze(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}},{key:"isEnabled",get:function(){return tt(this.instance.config.capture_heatmaps)?tt(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps:!1!==this.instance.config.capture_heatmaps}},{key:"startIfEnabled",value:function(){if(this.isEnabled){if(this._initialized)return;St.info("[heatmaps] starting..."),this._setupListeners(),this._flushInterval=setInterval(this.flush.bind(this),this.flushIntervalMilliseconds)}else{var e;clearInterval(null!==(e=this._flushInterval)&&void 0!==e?e:void 0),this.getAndClearBuffer()}}},{key:"afterDecideResponse",value:function(e){var t=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register(Ue({},qt,t)),this._enabledServerSide=t,this.startIfEnabled()}},{key:"getAndClearBuffer",value:function(){var e=this.buffer;return this.buffer=void 0,e}},{key:"_setupListeners",value:function(){var e=this;lt&&vt&&(Lt(vt,"click",(function(t){return e._onClick(t||(null==lt?void 0:lt.event))}),!1,!0),Lt(vt,"mousemove",(function(t){return e._onMouseMove(t||(null==lt?void 0:lt.event))}),!1,!0),this._initialized=!0)}},{key:"_getProperties",value:function(e,t){var n=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),r=this.instance.scrollManager.scrollElement(),o=function(e,t,n){for(var i=e;i&&rr(i)&&!or(i,"body");){if(i===n)return!1;if(It(t,null==lt?void 0:lt.getComputedStyle(i).position))return!0;i=lr(i)}return!1}(ir(e),["fixed","sticky"],r);return{x:e.clientX+(o?0:i),y:e.clientY+(o?0:n),target_fixed:o,type:t}}},{key:"_onClick",value:function(e){var t;if(!is(e.target)){var n=this._getProperties(e,"click");null!==(t=this.rageclicks)&&void 0!==t&&t.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this._capture(Ae(Ae({},n),{},{type:"rageclick"})),this._capture(n)}}},{key:"_onMouseMove",value:function(e){var t=this;is(e.target)||(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout((function(){t._capture(t._getProperties(e,"mousemove"))}),500))}},{key:"_capture",value:function(e){if(lt){var t=lt.location.href;this.buffer=this.buffer||{},this.buffer[t]||(this.buffer[t]=[]),this.buffer[t].push(e)}}},{key:"flush",value:function(){this.buffer&&!et(this.buffer)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}]),e}(),os=function(){function e(t){var n=this;Le(this,e),Ue(this,"_updateScrollData",(function(){var e,t,i,r;n.context||(n.context={});var o=n.scrollElement(),s=n.scrollY(),a=o?Math.max(0,o.scrollHeight-o.clientHeight):0,u=s+((null==o?void 0:o.clientHeight)||0),l=(null==o?void 0:o.scrollHeight)||0;n.context.lastScrollY=Math.ceil(s),n.context.maxScrollY=Math.max(s,null!==(e=n.context.maxScrollY)&&void 0!==e?e:0),n.context.maxScrollHeight=Math.max(a,null!==(t=n.context.maxScrollHeight)&&void 0!==t?t:0),n.context.lastContentY=u,n.context.maxContentY=Math.max(u,null!==(i=n.context.maxContentY)&&void 0!==i?i:0),n.context.maxContentHeight=Math.max(l,null!==(r=n.context.maxContentHeight)&&void 0!==r?r:0)})),this.instance=t}return je(e,[{key:"getContext",value:function(){return this.context}},{key:"resetContext",value:function(){var e=this.context;return setTimeout(this._updateScrollData,0),e}},{key:"startMeasuringScrollPosition",value:function(){null==lt||lt.addEventListener("scroll",this._updateScrollData,!0),null==lt||lt.addEventListener("scrollend",this._updateScrollData,!0),null==lt||lt.addEventListener("resize",this._updateScrollData)}},{key:"scrollElement",value:function(){if(!this.instance.config.scroll_root_selector)return null==lt?void 0:lt.document.documentElement;var e,t=We(Je(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector]);try{for(t.s();!(e=t.n()).done;){var n=e.value,i=null==lt?void 0:lt.document.querySelector(n);if(i)return i}}catch(r){t.e(r)}finally{t.f()}}},{key:"scrollY",value:function(){if(this.instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return lt&&(lt.scrollY||lt.pageYOffset||lt.document.documentElement.scrollTop)||0}},{key:"scrollX",value:function(){if(this.instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return lt&&(lt.scrollX||lt.pageXOffset||lt.document.documentElement.scrollLeft)||0}}]),e}(),ss="$copy_autocapture";function as(e,t){return t.length>e?t.slice(0,e)+"...":t}var us,ls=function(){function e(t){Le(this,e),Ue(this,"_initialized",!1),Ue(this,"_isDisabledServerSide",null),Ue(this,"rageclicks",new ns),Ue(this,"_elementsChainAsString",!1),this.instance=t,this._elementSelectors=null}return je(e,[{key:"config",get:function(){var e,t,n=Ze(this.instance.config.autocapture)?this.instance.config.autocapture:{};return n.url_allowlist=null===(e=n.url_allowlist)||void 0===e?void 0:e.map((function(e){return new RegExp(e)})),n.url_ignorelist=null===(t=n.url_ignorelist)||void 0===t?void 0:t.map((function(e){return new RegExp(e)})),n}},{key:"_addDomEventHandlers",value:function(){var e=this;if(this.isBrowserSupported()){if(lt&&vt){var t=function(t){t=t||(null==lt?void 0:lt.event);try{e._captureEvent(t)}catch(n){St.error("Failed to capture event",n)}},n=function(t){t=t||(null==lt?void 0:lt.event),e._captureEvent(t,ss)};Lt(vt,"submit",t,!1,!0),Lt(vt,"change",t,!1,!0),Lt(vt,"click",t,!1,!0),this.config.capture_copied_text&&(Lt(vt,"copy",n,!1,!0),Lt(vt,"cut",n,!1,!0))}}else St.info("Disabling Automatic Event Collection because this browser is not supported")}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}},{key:"afterDecideResponse",value:function(e){e.elementsChainAsString&&(this._elementsChainAsString=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register(Ue({},Ht,!!e.autocapture_opt_out)),this._isDisabledServerSide=!!e.autocapture_opt_out,this.startIfEnabled()}},{key:"setElementSelectors",value:function(e){this._elementSelectors=e}},{key:"getElementSelectors",value:function(e){var t,n=[];return null===(t=this._elementSelectors)||void 0===t||t.forEach((function(t){var i=null==vt?void 0:vt.querySelectorAll(t);null==i||i.forEach((function(i){e===i&&n.push(t)}))})),n}},{key:"isEnabled",get:function(){var e,t,n=null===(e=this.instance.persistence)||void 0===e?void 0:e.props[Ht],i=this._isDisabledServerSide;if(rt(i)&&!at(n)&&!this.instance.config.advanced_disable_decide)return!1;var r=null!==(t=this._isDisabledServerSide)&&void 0!==t?t:!!n;return!!this.instance.config.autocapture&&!r}},{key:"_previousElementSibling",value:function(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do{t=t.previousSibling}while(t&&!rr(t));return t}},{key:"_getAugmentPropertiesFromElement",value:function(e){if(!cr(e))return{};var t={};return Ct(e.attributes,(function(e){if(e.name&&0===e.name.indexOf("data-ph-capture-attribute")){var n=e.name.replace("data-ph-capture-attribute-",""),i=e.value;n&&i&&mr(i)&&(t[n]=i)}})),t}},{key:"_getPropertiesFromElement",value:function(e,t,n){var i,r=e.tagName.toLowerCase(),o={tag_name:r};ur.indexOf(r)>-1&&!n&&("a"===r.toLowerCase()||"button"===r.toLowerCase()?o.$el_text=as(1024,yr(e)):o.$el_text=as(1024,nr(e)));var s=er(e);s.length>0&&(o.classes=s.filter((function(e){return""!==e})));var a=null===(i=this.config)||void 0===i?void 0:i.element_attribute_ignorelist;Ct(e.attributes,(function(n){var i;if((!dr(e)||-1!==["name","id","class","aria-label"].indexOf(n.name))&&(null==a||!a.includes(n.name))&&!t&&mr(n.value)&&(i=n.name,!nt(i)||"_ngcontent"!==i.substring(0,10)&&"_nghost"!==i.substring(0,7))){var r=n.value;"class"===n.name&&(r=Xi(r).join(" ")),o["attr__"+n.name]=as(1024,r)}}));for(var u=1,l=1,c=e;c=this._previousElementSibling(c);)u++,c.tagName===e.tagName&&l++;return o.nth_child=u,o.nth_of_type=l,o}},{key:"_getDefaultProperties",value:function(e){return{$event_type:e,$ce_version:1}}},{key:"_captureEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$autocapture";if(this.isEnabled){var i,r=ir(e);sr(r)&&(r=r.parentNode||null),"$autocapture"===n&&"click"===e.type&&e instanceof MouseEvent&&this.instance.config.rageclick&&null!==(i=this.rageclicks)&&void 0!==i&&i.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this._captureEvent(e,"$rageclick");var o=n===ss;if(r&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;if(!lt||!e||or(e,"html")||!rr(e))return!1;if(null!=n&&n.url_allowlist&&!Zi(n.url_allowlist))return!1;if(null!=n&&n.url_ignorelist&&Zi(n.url_ignorelist))return!1;if(null!=n&&n.dom_event_allowlist){var o=n.dom_event_allowlist;if(o&&!o.some((function(e){return t.type===e})))return!1}for(var s=!1,a=[e],u=!0,l=e;l.parentNode&&!or(l,"body");)if(ar(l.parentNode))a.push(l.parentNode.host),l=l.parentNode.host;else{if(!(u=lr(l)))break;if(i||ur.indexOf(u.tagName.toLowerCase())>-1)s=!0;else{var c=lt.getComputedStyle(u);c&&"pointer"===c.getPropertyValue("cursor")&&(s=!0)}a.push(u),l=u}if(!function(e,t){var n=null==t?void 0:t.element_allowlist;if(tt(n))return!0;var i,r=We(e);try{var o=function(){var e=i.value;if(n.some((function(t){return e.tagName.toLowerCase()===t})))return{v:!0}};for(r.s();!(i=r.n()).done;){var s=o();if("object"===De(s))return s.v}}catch(a){r.e(a)}finally{r.f()}return!1}(a,n))return!1;if(!function(e,t){var n=null==t?void 0:t.css_selector_allowlist;if(tt(n))return!0;var i,r=We(e);try{var o=function(){var e=i.value;if(n.some((function(t){return e.matches(t)})))return{v:!0}};for(r.s();!(i=r.n()).done;){var s=o();if("object"===De(s))return s.v}}catch(a){r.e(a)}finally{r.f()}return!1}(a,n))return!1;var d=lt.getComputedStyle(e);if(d&&"pointer"===d.getPropertyValue("cursor")&&"click"===t.type)return!0;var f=e.tagName.toLowerCase();switch(f){case"html":return!1;case"form":return(r||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(r||["change","click"]).indexOf(t.type)>=0;default:return s?(r||["click"]).indexOf(t.type)>=0:(r||["click"]).indexOf(t.type)>=0&&(ur.indexOf(f)>-1||"true"===e.getAttribute("contenteditable"))}}(r,e,this.config,o,o?["copy","cut"]:void 0)){for(var s,a,u=[r],l=r;l.parentNode&&!or(l,"body");)ar(l.parentNode)?(u.push(l.parentNode.host),l=l.parentNode.host):(u.push(l.parentNode),l=l.parentNode);var c,d,f=[],p={},h=!1;if(Ct(u,(function(e){var n=cr(e);"a"===e.tagName.toLowerCase()&&(c=e.getAttribute("href"),c=n&&mr(c)&&c),It(er(e),"ph-no-capture")&&(h=!0),f.push(t._getPropertiesFromElement(e,t.instance.config.mask_all_element_attributes,t.instance.config.mask_all_text));var i=t._getAugmentPropertiesFromElement(e);Pt(p,i)})),this.instance.config.mask_all_text||("a"===r.tagName.toLowerCase()||"button"===r.tagName.toLowerCase()?f[0].$el_text=yr(r):f[0].$el_text=nr(r)),c){var v,g;f[0].attr__href=c;var _=null===(v=Wn(c))||void 0===v?void 0:v.host,m=null==lt||null===(g=lt.location)||void 0===g?void 0:g.host;_&&m&&_!==m&&(d=c)}if(h)return!1;var y=Pt(this._getDefaultProperties(e.type),this._elementsChainAsString?{$elements_chain:wr(f)}:{$elements:f},null!==(s=f[0])&&void 0!==s&&s.$el_text?{$el_text:null===(a=f[0])||void 0===a?void 0:a.$el_text}:{},d&&"click"===e.type?{$external_click_url:d}:{},p),b=this.getElementSelectors(r);if(b&&b.length>0&&(y.$element_selectors=b),n===ss){var w,k=tr(null==lt||null===(w=lt.getSelection())||void 0===w?void 0:w.toString()),S=e.type||"clipboard";if(!k)return!1;y.$selected_content=k,y.$copy_type=S}return this.instance.capture(n,y),!0}}}},{key:"isBrowserSupported",value:function(){return Xe(null==vt?void 0:vt.querySelectorAll)}}]),e}(),cs=function(){function e(t){var n=this;Le(this,e),Ue(this,"_restoreXHRPatch",void 0),Ue(this,"_restoreFetchPatch",void 0),Ue(this,"_startCapturing",(function(){var e,t,i,r;tt(n._restoreXHRPatch)&&(null===(e=wt.__PosthogExtensions__)||void 0===e||null===(t=e.tracingHeadersPatchFns)||void 0===t||t._patchXHR(n.instance.sessionManager)),tt(n._restoreFetchPatch)&&(null===(i=wt.__PosthogExtensions__)||void 0===i||null===(r=i.tracingHeadersPatchFns)||void 0===r||r._patchFetch(n.instance.sessionManager))})),this.instance=t}return je(e,[{key:"_loadScript",value:function(e){var t,n,i;null!==(t=wt.__PosthogExtensions__)&&void 0!==t&&t.tracingHeadersPatchFns&&e(),null===(n=wt.__PosthogExtensions__)||void 0===n||null===(i=n.loadExternalDependency)||void 0===i||i.call(n,this.instance,"tracing-headers",(function(t){if(t)return St.error("[TRACING-HEADERS] failed to load script",t);e()}))}},{key:"startIfEnabledOrStop",value:function(){var e,t;this.instance.config.__add_tracing_headers?this._loadScript(this._startCapturing):(null===(e=this._restoreXHRPatch)||void 0===e||e.call(this),null===(t=this._restoreFetchPatch)||void 0===t||t.call(this),this._restoreXHRPatch=void 0,this._restoreFetchPatch=void 0)}}]),e}();!function(e){e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED"}(us||(us={}));var ds=function(){function e(t){Le(this,e),this.instance=t}return je(e,[{key:"config",get:function(){return this.instance.config}},{key:"consent",get:function(){return this.getDnt()?us.DENIED:this.storedConsent}},{key:"isOptedOut",value:function(){return this.consent===us.DENIED||this.consent===us.PENDING&&this.config.opt_out_capturing_by_default}},{key:"isOptedIn",value:function(){return!this.isOptedOut()}},{key:"optInOut",value:function(e){this.storage.set(this.storageKey,e?1:0,this.config.cookie_expiration,this.config.cross_subdomain_cookie,this.config.secure_cookie)}},{key:"reset",value:function(){this.storage.remove(this.storageKey,this.config.cross_subdomain_cookie)}},{key:"storageKey",get:function(){var e=this.instance.config,t=e.token;return(e.opt_out_capturing_cookie_prefix||"__ph_opt_in_out_")+t}},{key:"storedConsent",get:function(){var e=this.storage.get(this.storageKey);return"1"===e?us.GRANTED:"0"===e?us.DENIED:us.PENDING}},{key:"storage",get:function(){if(!this._storage){var e=this.config.opt_out_capturing_persistence_type;this._storage="localStorage"===e?Ln:An;var t="localStorage"===e?An:Ln;t.get(this.storageKey)&&(this._storage.get(this.storageKey)||this.optInOut("1"===t.get(this.storageKey)),t.remove(this.storageKey,this.config.cross_subdomain_cookie))}return this._storage}},{key:"getDnt",value:function(){return!!this.config.respect_dnt&&!!Nt([null==ht?void 0:ht.doNotTrack,null==ht?void 0:ht.msDoNotTrack,wt.doNotTrack],(function(e){return It([!0,1,"1","yes"],e)}))}}]),e}(),fs="[Exception Autocapture]",ps=function(){function e(t){var n,i=this;Le(this,e),Ue(this,"originalOnUnhandledRejectionHandler",void 0),Ue(this,"startCapturing",(function(){var e,t,n,r;if(lt&&i.isEnabled&&!i.hasHandlers&&!i.isCapturing){var o=null===(e=wt.__PosthogExtensions__)||void 0===e||null===(t=e.errorWrappingFunctions)||void 0===t?void 0:t.wrapOnError,s=null===(n=wt.__PosthogExtensions__)||void 0===n||null===(r=n.errorWrappingFunctions)||void 0===r?void 0:r.wrapUnhandledRejection;if(o&&s)try{i.unwrapOnError=o(i.captureException.bind(i)),i.unwrapUnhandledRejection=s(i.captureException.bind(i))}catch(a){St.error(fs+" failed to start",a),i.stopCapturing()}else St.error(fs+" failed to load error wrapping functions - cannot start")}})),this.instance=t,this.remoteEnabled=!(null===(n=this.instance.persistence)||void 0===n||!n.props[zt]),this.startIfEnabled()}return je(e,[{key:"isEnabled",get:function(){var e;return null!==(e=this.remoteEnabled)&&void 0!==e&&e}},{key:"isCapturing",get:function(){var e;return!(null==lt||null===(e=lt.onerror)||void 0===e||!e.__POSTHOG_INSTRUMENTED__)}},{key:"hasHandlers",get:function(){return this.originalOnUnhandledRejectionHandler||this.unwrapOnError}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this.isCapturing&&(St.info(fs+" enabled, starting..."),this.loadScript(this.startCapturing))}},{key:"loadScript",value:function(e){var t,n;this.hasHandlers&&e(),null===(t=wt.__PosthogExtensions__)||void 0===t||null===(n=t.loadExternalDependency)||void 0===n||n.call(t,this.instance,"exception-autocapture",(function(t){if(t)return St.error(fs+" failed to load script",t);e()}))}},{key:"stopCapturing",value:function(){var e,t;null===(e=this.unwrapOnError)||void 0===e||e.call(this),null===(t=this.unwrapUnhandledRejection)||void 0===t||t.call(this)}},{key:"afterDecideResponse",value:function(e){var t=e.autocaptureExceptions;this.remoteEnabled=!!t||!1,this.instance.persistence&&this.instance.persistence.register(Ue({},zt,this.remoteEnabled)),this.startIfEnabled()}},{key:"captureException",value:function(e){var t=this.instance.requestRouter.endpointFor("ui");e.$exception_personURL="".concat(t,"/project/").concat(this.instance.config.token,"/person/").concat(this.instance.get_distinct_id()),this.instance.exceptions.sendExceptionEvent(e)}}]),e}(),hs=9e5,vs="[Web Vitals]",gs=function(){function e(t){var n,i=this;Le(this,e),Ue(this,"_enabledServerSide",!1),Ue(this,"_initialized",!1),Ue(this,"buffer",{url:void 0,metrics:[],firstMetricTimestamp:void 0}),Ue(this,"_flushToCapture",(function(){clearTimeout(i._delayedFlushTimer),0!==i.buffer.metrics.length&&(i.instance.capture("$web_vitals",i.buffer.metrics.reduce((function(e,t){var n;return Ae(Ae({},e),{},(Ue(n={},"$web_vitals_".concat(t.name,"_event"),Ae({},t)),Ue(n,"$web_vitals_".concat(t.name,"_value"),t.value),n))}),{})),i.buffer={url:void 0,metrics:[],firstMetricTimestamp:void 0})})),Ue(this,"_addToBuffer",(function(e){var t,n=null===(t=i.instance.sessionManager)||void 0===t?void 0:t.checkAndGetSessionAndWindowId(!0);if(tt(n))St.error(vs+"Could not read session ID. Dropping metrics!");else{i.buffer=i.buffer||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var r=i._currentURL();tt(r)||(ot(null==e?void 0:e.name)||ot(null==e?void 0:e.value)?St.error(vs+"Invalid metric received",e):i._maxAllowedValue&&e.value>=i._maxAllowedValue?St.error(vs+"Ignoring metric with value >= "+i._maxAllowedValue,e):(i.buffer.url!==r&&(i._flushToCapture(),i._delayedFlushTimer=setTimeout(i._flushToCapture,8e3)),tt(i.buffer.url)&&(i.buffer.url=r),i.buffer.firstMetricTimestamp=tt(i.buffer.firstMetricTimestamp)?Date.now():i.buffer.firstMetricTimestamp,i.buffer.metrics.push(Ae(Ae({},e),{},{$current_url:r,$session_id:n.sessionId,$window_id:n.windowId,timestamp:Date.now()})),i.buffer.metrics.length===i.allowedMetrics.length&&i._flushToCapture()))}})),Ue(this,"_startCapturing",(function(){var e,t,n,r,o=wt.__PosthogExtensions__;if(!tt(o)&&!tt(o.postHogWebVitalsCallbacks)){var s=o.postHogWebVitalsCallbacks;e=s.onLCP,t=s.onCLS,n=s.onFCP,r=s.onINP}e&&t&&n&&r?(i.allowedMetrics.indexOf("LCP")>-1&&e(i._addToBuffer.bind(i)),i.allowedMetrics.indexOf("CLS")>-1&&t(i._addToBuffer.bind(i)),i.allowedMetrics.indexOf("FCP")>-1&&n(i._addToBuffer.bind(i)),i.allowedMetrics.indexOf("INP")>-1&&r(i._addToBuffer.bind(i)),i._initialized=!0):St.error(vs+"web vitals callbacks not loaded - not starting")})),this.instance=t,this._enabledServerSide=!(null===(n=this.instance.persistence)||void 0===n||!n.props[Vt]),this.startIfEnabled()}return je(e,[{key:"allowedMetrics",get:function(){var e,t,n=Ze(this.instance.config.capture_performance)?null===(e=this.instance.config.capture_performance)||void 0===e?void 0:e.web_vitals_allowed_metrics:void 0;return tt(n)?(null===(t=this.instance.persistence)||void 0===t?void 0:t.props[Gt])||["CLS","FCP","INP","LCP"]:n}},{key:"_maxAllowedValue",get:function(){var e=Ze(this.instance.config.capture_performance)&&st(this.instance.config.capture_performance.__web_vitals_max_value)?this.instance.config.capture_performance.__web_vitals_max_value:hs;return 0<e&&e<=6e4?hs:e}},{key:"isEnabled",get:function(){var e=Ze(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals:void 0;return at(e)?e:this._enabledServerSide}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&(St.info(vs+" enabled, starting..."),this.loadScript(this._startCapturing))}},{key:"afterDecideResponse",value:function(e){var t=Ze(e.capturePerformance)&&!!e.capturePerformance.web_vitals,n=Ze(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this.instance.persistence&&(this.instance.persistence.register(Ue({},Vt,t)),this.instance.persistence.register(Ue({},Gt,n))),this._enabledServerSide=t,this.startIfEnabled()}},{key:"loadScript",value:function(e){var t,n,i;null!==(t=wt.__PosthogExtensions__)&&void 0!==t&&t.postHogWebVitalsCallbacks&&e(),null===(n=wt.__PosthogExtensions__)||void 0===n||null===(i=n.loadExternalDependency)||void 0===i||i.call(n,this.instance,"web-vitals",(function(t){t?St.error(vs+" failed to load script",t):e()}))}},{key:"_currentURL",value:function(){var e=lt?lt.location.href:void 0;return e||St.error(vs+"Could not determine current URL"),e}}]),e}(),_s={icontains:function(e,t){return!!lt&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1},not_icontains:function(e,t){return!!lt&&-1===t.href.toLowerCase().indexOf(e.toLowerCase())},regex:function(e,t){return!!lt&&Vn(t.href,e)},not_regex:function(e,t){return!!lt&&!Vn(t.href,e)},exact:function(e,t){return t.href===e},is_not:function(e,t){return t.href!==e}},ms=function(){function e(t){var n=this;Le(this,e),Ue(this,"getWebExperimentsAndEvaluateDisplayLogic",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.getWebExperiments((function(t){e.logInfo("retrieved web experiments from the server"),n._flagToExperiments=new Map,t.forEach((function(t){if(t.feature_flag_key&&n._featureFlags&&n._featureFlags[t.feature_flag_key]){var i;n._flagToExperiments&&(e.logInfo("setting flag key ",t.feature_flag_key," to web experiment ",t),null===(i=n._flagToExperiments)||void 0===i||i.set(t.feature_flag_key,t));var r=n._featureFlags[t.feature_flag_key];r&&t.variants[r]&&e.applyTransforms(t.name,r,t.variants[r].transforms)}else if(t.variants)for(var o in t.variants){var s=t.variants[o];e.matchesTestVariant(s)&&e.applyTransforms(t.name,o,s.transforms)}}))}),t)})),this.instance=t,this.instance.onFeatureFlags&&this.instance.onFeatureFlags((function(e){n.applyFeatureFlagChanges(e)})),this._flagToExperiments=new Map}return je(e,[{key:"applyFeatureFlagChanges",value:function(t){var n=this;e.logInfo("applying feature flags",t),ot(this._flagToExperiments)||this.instance.config.disable_web_experiments||t.forEach((function(t){var i;if(n._flagToExperiments&&null!==(i=n._flagToExperiments)&&void 0!==i&&i.has(t)){var r,o=n.instance.getFeatureFlag(t),s=null===(r=n._flagToExperiments)||void 0===r?void 0:r.get(t);o&&null!=s&&s.variants[o]&&e.applyTransforms(s.name,o,s.variants[o].transforms)}}))}},{key:"afterDecideResponse",value:function(e){this._featureFlags=e.featureFlags,this.loadIfEnabled()}},{key:"loadIfEnabled",value:function(){this.instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}},{key:"getWebExperiments",value:function(e,t){if(this.instance.config.disable_web_experiments)return e([]);var n=this.instance.get_property("$web_experiments");if(n&&!t)return e(n);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/web_experiments/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:function(t){if(200!==t.statusCode||!t.json)return e([]);var n=t.json.experiments||[];return e(n)}})}}],[{key:"matchesTestVariant",value:function(t){return!ot(t.conditions)&&e.matchUrlConditions(t)&&e.matchUTMConditions(t)}},{key:"matchUrlConditions",value:function(t){var n;if(ot(t.conditions)||ot(null===(n=t.conditions)||void 0===n?void 0:n.url))return!0;var i,r,o,s=e.getWindowLocation();return!!s&&(null===(i=t.conditions)||void 0===i||!i.url||_s[null!==(r=null===(o=t.conditions)||void 0===o?void 0:o.urlMatchType)&&void 0!==r?r:"icontains"](t.conditions.url,s))}},{key:"getWindowLocation",value:function(){return null==lt?void 0:lt.location}},{key:"matchUTMConditions",value:function(e){var t;if(ot(e.conditions)||ot(null===(t=e.conditions)||void 0===t?void 0:t.utm))return!0;var n=Wi.campaignParams();if(n.utm_source){var i,r,o,s,a,u,l,c,d,f,p,h,v,g,_,m,y=null===(i=e.conditions)||void 0===i||null===(r=i.utm)||void 0===r||!r.utm_campaign||(null===(o=e.conditions)||void 0===o||null===(s=o.utm)||void 0===s?void 0:s.utm_campaign)==n.utm_campaign,b=null===(a=e.conditions)||void 0===a||null===(u=a.utm)||void 0===u||!u.utm_source||(null===(l=e.conditions)||void 0===l||null===(c=l.utm)||void 0===c?void 0:c.utm_source)==n.utm_source,w=null===(d=e.conditions)||void 0===d||null===(f=d.utm)||void 0===f||!f.utm_medium||(null===(p=e.conditions)||void 0===p||null===(h=p.utm)||void 0===h?void 0:h.utm_medium)==n.utm_medium,k=null===(v=e.conditions)||void 0===v||null===(g=v.utm)||void 0===g||!g.utm_term||(null===(_=e.conditions)||void 0===_||null===(m=_.utm)||void 0===m?void 0:m.utm_term)==n.utm_term;return y&&w&&k&&b}return!1}},{key:"logInfo",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];St.info("[WebExperiments] ".concat(e),n)}},{key:"applyTransforms",value:function(t,n,i){i.forEach((function(i){if(i.selector){var r;e.logInfo("applying transform of variant ".concat(n," for experiment ").concat(t," "),i);var o=null===(r=document)||void 0===r?void 0:r.querySelectorAll(i.selector);null==o||o.forEach((function(e){var t=e;i.attributes&&i.attributes.forEach((function(e){switch(e.name){case"text":t.innerText=e.value;break;case"html":t.innerHTML=e.value;break;case"cssClass":t.className=e.value;break;default:t.setAttribute(e.name,e.value)}})),i.text&&(t.innerText=i.text),i.html&&(t.innerHTML=i.html),i.className&&(t.className=i.className)}))}}))}}]),e}(),ys=function(){function e(t){var n;Le(this,e),this.instance=t,this._endpointSuffix=(null===(n=this.instance.persistence)||void 0===n?void 0:n.props[Wt])||"/e/"}return je(e,[{key:"endpoint",get:function(){return this.instance.requestRouter.endpointFor("api",this._endpointSuffix)}},{key:"afterDecideResponse",value:function(e){var t=e.autocaptureExceptions;this._endpointSuffix=Ze(t)&&t.endpoint||"/e/",this.instance.persistence&&this.instance.persistence.register(Ue({},Wt,this._endpointSuffix))}},{key:"sendExceptionEvent",value:function(e){this.instance.capture("$exception",e,{_noTruncate:!0,_batchKey:"exceptionEvent",_url:this.endpoint})}}]),e}(),bs={},ws=function(){},ks="posthog",Ss=!xo&&-1===(null==bt?void 0:bt.indexOf("MSIE"))&&-1===(null==bt?void 0:bt.indexOf("Mozilla")),Es=function(){var e,t,n;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:(t=null==vt?void 0:vt.location,n=null==t?void 0:t.hostname,!!nt(n)&&"herokuapp.com"!==n.split(".").slice(-2).join(".")),persistence:"localStorage+cookie",persistence_name:"",loaded:ws,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:"if_capture_pageview",debug:gt&&nt(null==gt?void 0:gt.search)&&-1!==gt.search.indexOf("__posthog_debug=true")||!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,enable_recording_console_log:void 0,secure_cookie:"https:"===(null==lt||null===(e=lt.location)||void 0===e?void 0:e.protocol),ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,on_request_error:function(e){var t="Bad HTTP status: "+e.statusCode+" "+e.text;St.error(t)},get_device_id:function(e){return e},_onCapture:ws,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"always",__add_tracing_headers:!1}},xs=function(e){var t={};tt(e.process_person)||(t.person_profiles=e.process_person),tt(e.xhr_headers)||(t.request_headers=e.xhr_headers),tt(e.cookie_name)||(t.persistence_name=e.cookie_name),tt(e.disable_cookie)||(t.disable_persistence=e.disable_cookie);var n=Pt({},t,e);return Je(e.property_blacklist)&&(tt(e.property_denylist)?n.property_denylist=e.property_blacklist:Je(e.property_denylist)?n.property_denylist=[].concat(He(e.property_blacklist),He(e.property_denylist)):St.error("Invalid value for property_denylist config: "+e.property_denylist)),n},Ts=function(){function e(){Le(this,e),Ue(this,"__forceAllowLocalhost",!1)}return je(e,[{key:"_forceAllowLocalhost",get:function(){return this.__forceAllowLocalhost},set:function(e){St.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}]),e}(),Cs=function(){function e(){var t=this;Le(this,e),Ue(this,"webPerformance",new Ts),Ue(this,"version",Ve.LIB_VERSION),Ue(this,"_internalEventEmitter",new Wo),this.config=Es(),this.decideEndpointWasHit=!1,this.SentryIntegration=jo,this.sentryIntegration=function(e){return n=No(t,e),{name:Lo,processEvent:function(e){return n(e)}};var n},this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this._initialPageviewCaptured=!1,this.featureFlags=new Sn(this),this.toolbar=new qr(this),this.scrollManager=new os(this),this.pageViewManager=new qo(this),this.surveys=new Qo(this),this.experiments=new ms(this),this.exceptions=new ys(this),this.rateLimiter=new Jo(this),this.requestRouter=new Do(this),this.consent=new ds(this),this.people={set:function(e,n,i){var r=nt(e)?Ue({},e,n):e;t.setPersonProperties(r),null==i||i({})},set_once:function(e,n,i){var r=nt(e)?Ue({},e,n):e;t.setPersonProperties(void 0,r),null==i||i({})}},this.on("eventCaptured",(function(e){return St.info("send",e)}))}return je(e,[{key:"init",value:function(t,n,i){if(i&&i!==ks){var r,o=null!==(r=bs[i])&&void 0!==r?r:new e;return o._init(t,n,i),bs[i]=o,bs[ks][i]=o,o}return this._init(t,n,i)}},{key:"_init",value:function(e){var t,n,i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;if(tt(e)||it(e))return St.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return St.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this._triggered_notifs=[],this.set_config(Pt({},Es(),xs(r),{name:o,token:e})),this.config.on_xhr_error&&St.error("[posthog] on_xhr_error is deprecated. Use on_request_error instead"),this.compression=r.disable_compression?void 0:At.GZipJS,this.persistence=new Gi(this.config),this.sessionPersistence="sessionStorage"===this.config.persistence?this.persistence:new Gi(Ae(Ae({},this.config),{},{persistence:"sessionStorage"}));var s=Ae({},this.persistence.props),a=Ae({},this.sessionPersistence.props);if(this._requestQueue=new zr((function(e){return i._send_retriable_request(e)})),this._retryQueue=new $o(this),this.__request_queue=[],this.sessionManager=new Mo(this.config,this.persistence),this.sessionPropsManager=new Zo(this.sessionManager,this.persistence),new cs(this).startIfEnabledOrStop(),this.sessionRecording=new jr(this),this.sessionRecording.startIfEnabledOrStop(),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new ls(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new rs(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new gs(this),this.exceptionObserver=new ps(this),this.exceptionObserver.startIfEnabled(),Ve.DEBUG=Ve.DEBUG||this.config.debug,Ve.DEBUG&&St.info("Starting in debug mode",{this:this,config:r,thisC:Ae({},this.config),p:s,s:a}),this._sync_opt_out_with_persistence(),void 0!==(null===(t=r.bootstrap)||void 0===t?void 0:t.distinctID)){var u,l,c=this.config.get_device_id(On()),d=null!==(u=r.bootstrap)&&void 0!==u&&u.isIdentifiedID?c:r.bootstrap.distinctID;this.persistence.set_property(cn,null!==(l=r.bootstrap)&&void 0!==l&&l.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:r.bootstrap.distinctID,$device_id:d})}if(this._hasBootstrappedFeatureFlags()){var f,p,h=Object.keys((null===(f=r.bootstrap)||void 0===f?void 0:f.featureFlags)||{}).filter((function(e){var t,n;return!(null===(t=r.bootstrap)||void 0===t||null===(n=t.featureFlags)||void 0===n||!n[e])})).reduce((function(e,t){var n,i;return e[t]=(null===(n=r.bootstrap)||void 0===n||null===(i=n.featureFlags)||void 0===i?void 0:i[t])||!1,e}),{}),v=Object.keys((null===(p=r.bootstrap)||void 0===p?void 0:p.featureFlagPayloads)||{}).filter((function(e){return h[e]})).reduce((function(e,t){var n,i,o,s;return null!==(n=r.bootstrap)&&void 0!==n&&null!==(i=n.featureFlagPayloads)&&void 0!==i&&i[t]&&(e[t]=null===(o=r.bootstrap)||void 0===o||null===(s=o.featureFlagPayloads)||void 0===s?void 0:s[t]),e}),{});this.featureFlags.receivedFeatureFlags({featureFlags:h,featureFlagPayloads:v})}if(!this.get_distinct_id()){var g=this.config.get_device_id(On());this.register_once({distinct_id:g,$device_id:g},""),this.persistence.set_property(cn,"anonymous")}return null==lt||null===(n=lt.addEventListener)||void 0===n||n.call(lt,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),this.toolbar.maybeLoadToolbar(),r.segment?function(e,t){var n=e.config.segment;if(!n)return t();!function(e,t){var n=e.config.segment;if(!n)return t();var i=function(n){var i=function(){return n.anonymousId()||On()};e.config.get_device_id=i,n.id()&&(e.register({distinct_id:n.id(),$device_id:i()}),e.persistence.set_property(cn,"identified")),t()},r=n.user();"then"in r&&Xe(r.then)?r.then((function(e){return i(e)})):i(r)}(e,(function(){n.register(function(e){Promise&&Promise.resolve||St.warn("This browser does not have Promise support, and can not use the segment integration");var t=function(t,n){var i;if(!n)return t;t.event.userId||t.event.anonymousId===e.get_distinct_id()||(St.info("Segment integration does not have a userId set, resetting PostHog"),e.reset()),t.event.userId&&t.event.userId!==e.get_distinct_id()&&(St.info("Segment integration has a userId set, identifying with PostHog"),e.identify(t.event.userId));var r=e._calculate_event_properties(n,null!==(i=t.event.properties)&&void 0!==i?i:{},new Date);return t.event.properties=Object.assign({},r,t.event.properties),t};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:function(e){return t(e,e.event.event)},page:function(e){return t(e,"$pageview")},identify:function(e){return t(e,"$identify")},screen:function(e){return t(e,"$screen")}}}(e)).then((function(){t()}))}))}(this,(function(){return i._loaded()})):this._loaded(),Xe(this.config._onCapture)&&this.on("eventCaptured",(function(e){return i.config._onCapture(e.event,e)})),this}},{key:"_afterDecideResponse",value:function(e){var t,n,i,r,o,s,a,u,l;this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=It(e.supportedCompression,At.GZipJS)?At.GZipJS:It(e.supportedCompression,At.Base64)?At.Base64:void 0),null!==(t=e.analytics)&&void 0!==t&&t.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),null===(n=this.sessionRecording)||void 0===n||n.afterDecideResponse(e),null===(i=this.autocapture)||void 0===i||i.afterDecideResponse(e),null===(r=this.heatmaps)||void 0===r||r.afterDecideResponse(e),null===(o=this.experiments)||void 0===o||o.afterDecideResponse(e),null===(s=this.surveys)||void 0===s||s.afterDecideResponse(e),null===(a=this.webVitalsAutocapture)||void 0===a||a.afterDecideResponse(e),null===(u=this.exceptions)||void 0===u||u.afterDecideResponse(e),null===(l=this.exceptionObserver)||void 0===l||l.afterDecideResponse(e)}},{key:"_loaded",value:function(){var e=this,t=this.config.advanced_disable_decide;t||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(n){St.critical("`loaded` function failed",n)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout((function(){e.consent.isOptedIn()&&e._captureInitialPageview()}),1),t||(new Ur(this).call(),this.featureFlags.resetRequestQueue())}},{key:"_start_queue_if_opted_in",value:function(){var e;this.has_opted_out_capturing()||this.config.request_batching&&(null===(e=this._requestQueue)||void 0===e||e.enable())}},{key:"_dom_loaded",value:function(){var e=this;this.has_opted_out_capturing()||Tt(this.__request_queue,(function(t){return e._send_retriable_request(t)})),this.__request_queue=[],this._start_queue_if_opted_in()}},{key:"_handle_unload",value:function(){var e,t;this.config.request_batching?(this._shouldCapturePageleave()&&this.capture("$pageleave"),null===(e=this._requestQueue)||void 0===e||e.unload(),null===(t=this._retryQueue)||void 0===t||t.unload()):this._shouldCapturePageleave()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}},{key:"_send_request",value:function(e){var t=this;this.__loaded&&(Ss?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=Co(e.url,{ip:this.config.ip?1:0}),e.headers=Ae({},this.config.request_headers),e.compression="best-available"===e.compression?this.compression:e.compression,function(e){var t,n,i,r=Ae({},e);r.timeout=r.timeout||6e4,r.url=Co(r.url,{_:(new Date).getTime().toString(),ver:Ve.LIB_VERSION,compression:r.compression});var o=null!==(t=r.transport)&&void 0!==t?t:"XHR",s=null!==(n=null===(i=Nt(Io,(function(e){return e.transport===o})))||void 0===i?void 0:i.method)&&void 0!==n?n:Io[0].method;if(!s)throw new Error("No available transport method");s(r)}(Ae(Ae({},e),{},{callback:function(n){var i,r,o;t.rateLimiter.checkForLimiting(n),n.statusCode>=400&&(null===(r=(o=t.config).on_request_error)||void 0===r||r.call(o,n)),null===(i=e.callback)||void 0===i||i.call(e,n)}}))))}},{key:"_send_retriable_request",value:function(e){this._retryQueue?this._retryQueue.retriableRequest(e):this._send_request(e)}},{key:"_execute_array",value:function(e){var t,n=this,i=[],r=[],o=[];Tt(e,(function(e){e&&(t=e[0],Je(t)?o.push(e):Xe(e)?e.call(n):Je(e)&&"alias"===t?i.push(e):Je(e)&&-1!==t.indexOf("capture")&&Xe(n[t])?o.push(e):r.push(e))}));var s=function(e,t){Tt(e,(function(e){if(Je(e[0])){var n=t;Ct(e,(function(e){n=n[e[0]].apply(n,e.slice(1))}))}else this[e[0]].apply(this,e.slice(1))}),t)};s(i,this),s(r,this),s(o,this)}},{key:"_hasBootstrappedFeatureFlags",value:function(){var e,t;return(null===(e=this.config.bootstrap)||void 0===e?void 0:e.featureFlags)&&Object.keys(null===(t=this.config.bootstrap)||void 0===t?void 0:t.featureFlags).length>0||!1}},{key:"push",value:function(e){this._execute_array([e])}},{key:"capture",value:function(e,t,n){var i;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue){if(!this.consent.isOptedOut())if(!tt(e)&&nt(e)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var r=null!=n&&n.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null==r||!r.isRateLimited){this.sessionPersistence.update_search_keyword(),this.config.store_google&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.store_google||this.config.save_referrer)&&this.persistence.set_initial_person_info();var o=new Date,s=(null==n?void 0:n.timestamp)||o,a={uuid:On(),event:e,properties:this._calculate_event_properties(e,t||{},s)};r&&(a.properties.$lib_rate_limit_remaining_tokens=r.remainingTokens),(null==n?void 0:n.$set)&&(a.$set=null==n?void 0:n.$set);var u=this._calculate_set_once_properties(null==n?void 0:n.$set_once);u&&(a.$set_once=u),(a=function(e,t){return n=e,i=function(e){return nt(e)&&!rt(t)?e.slice(0,t):e},r=new Set,function e(t,n){return t!==Object(t)?i?i(t):t:r.has(t)?void 0:(r.add(t),Je(t)?(o=[],Tt(t,(function(t){o.push(e(t))}))):(o={},Ct(t,(function(t,n){r.has(t)||(o[n]=e(t,n))}))),o);var o}(n);var n,i,r}(a,null!=n&&n._noTruncate?null:this.config.properties_string_max_length)).timestamp=s,tt(null==n?void 0:n.timestamp)||(a.properties.$event_time_override_provided=!0,a.properties.$event_time_override_system_time=o);var l=Ae(Ae({},a.properties.$set),a.$set);et(l)||this.setPersonPropertiesForFlags(l),this._internalEventEmitter.emit("eventCaptured",a);var c={method:"POST",url:null!==(i=null==n?void 0:n._url)&&void 0!==i?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:a,compression:"best-available",batchKey:null==n?void 0:n._batchKey};return!this.config.request_batching||n&&(null==n||!n._batchKey)||null!=n&&n.send_instantly?this._send_retriable_request(c):this._requestQueue.enqueue(c),a}St.critical("This capture call is ignored due to client rate limiting.")}}else St.error("No event name provided to posthog.capture")}else St.uninitializedWarning("posthog.capture")}},{key:"_addCaptureHook",value:function(e){return this.on("eventCaptured",(function(t){return e(t.event,t)}))}},{key:"_calculate_event_properties",value:function(e,t,n){if(n=n||new Date,!this.persistence||!this.sessionPersistence)return t;var i=this.persistence.remove_event_timer(e),r=Ae({},t);if(r.token=this.config.token,"$snapshot"===e){var o=Ae(Ae({},this.persistence.properties()),this.sessionPersistence.properties());return r.distinct_id=o.distinct_id,(!nt(r.distinct_id)&&!st(r.distinct_id)||it(r.distinct_id))&&St.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),r}var s=Wi.properties();if(this.sessionManager){var a=this.sessionManager.checkAndGetSessionAndWindowId(),u=a.sessionId,l=a.windowId;r.$session_id=u,r.$window_id=l}if(this.requestRouter.region===Oo.CUSTOM&&(r.$lib_custom_api_host=this.config.api_host),this.sessionPropsManager&&this.config.__preview_send_client_session_params&&("$pageview"===e||"$pageleave"===e||"$autocapture"===e)){var c=this.sessionPropsManager.getSessionProps();r=Pt(r,c)}if(!this.config.disable_scroll_properties){var d={};"$pageview"===e?d=this.pageViewManager.doPageView(n):"$pageleave"===e&&(d=this.pageViewManager.doPageLeave(n)),r=Pt(r,d)}if("$pageview"===e&&vt&&(r.title=vt.title),!tt(i)){var f=n.getTime()-i;r.$duration=parseFloat((f/1e3).toFixed(3))}bt&&this.config.opt_out_useragent_filter&&(r.$browser_type=this._is_bot()?"bot":"browser"),(r=Pt({},s,this.persistence.properties(),this.sessionPersistence.properties(),r)).$is_identified=this._isIdentified(),Je(this.config.property_denylist)?Ct(this.config.property_denylist,(function(e){delete r[e]})):St.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var p=this.config.sanitize_properties;return p&&(r=p(r,e)),r.$process_person_profile=this._hasPersonProcessing(),r}},{key:"_calculate_set_once_properties",value:function(e){if(!this.persistence||!this._hasPersonProcessing())return e;var t=Pt({},this.persistence.get_initial_props(),e||{});return et(t)?void 0:t}},{key:"register",value:function(e,t){var n;null===(n=this.persistence)||void 0===n||n.register(e,t)}},{key:"register_once",value:function(e,t,n){var i;null===(i=this.persistence)||void 0===i||i.register_once(e,t,n)}},{key:"register_for_session",value:function(e){var t;null===(t=this.sessionPersistence)||void 0===t||t.register(e)}},{key:"unregister",value:function(e){var t;null===(t=this.persistence)||void 0===t||t.unregister(e)}},{key:"unregister_for_session",value:function(e){var t;null===(t=this.sessionPersistence)||void 0===t||t.unregister(e)}},{key:"_register_single",value:function(e,t){this.register(Ue({},e,t))}},{key:"getFeatureFlag",value:function(e,t){return this.featureFlags.getFeatureFlag(e,t)}},{key:"getFeatureFlagPayload",value:function(e){var t=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(t)}catch(n){return t}}},{key:"isFeatureEnabled",value:function(e,t){return this.featureFlags.isFeatureEnabled(e,t)}},{key:"reloadFeatureFlags",value:function(){this.featureFlags.reloadFeatureFlags()}},{key:"updateEarlyAccessFeatureEnrollment",value:function(e,t){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,t)}},{key:"getEarlyAccessFeatures",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(e,t)}},{key:"on",value:function(e,t){return this._internalEventEmitter.on(e,t)}},{key:"onFeatureFlags",value:function(e){return this.featureFlags.onFeatureFlags(e)}},{key:"onSessionId",value:function(e){var t,n;return null!==(t=null===(n=this.sessionManager)||void 0===n?void 0:n.onSessionId(e))&&void 0!==t?t:function(){}}},{key:"getSurveys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getSurveys(e,t)}},{key:"getActiveMatchingSurveys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getActiveMatchingSurveys(e,t)}},{key:"renderSurvey",value:function(e,t){this.surveys.renderSurvey(e,t)}},{key:"canRenderSurvey",value:function(e){this.surveys.canRenderSurvey(e)}},{key:"getNextSurveyStep",value:function(e,t,n){return this.surveys.getNextSurveyStep(e,t,n)}},{key:"identify",value:function(e,t,n){if(!this.__loaded||!this.persistence)return St.uninitializedWarning("posthog.identify");if(st(e)&&(e=e.toString(),St.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),e){if(["distinct_id","distinctid"].includes(e.toLowerCase()))St.critical('The string "'.concat(e,'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else if(this._requirePersonProcessing("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var r=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:r},"")}e!==i&&e!==this.get_property(Ut)&&(this.unregister(Ut),this.register({distinct_id:e}));var o="anonymous"===(this.persistence.get_property(cn)||"anonymous");e!==i&&o?(this.persistence.set_property(cn,"identified"),this.setPersonPropertiesForFlags(t||{},!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:i},{$set:t||{},$set_once:n||{}}),this.featureFlags.setAnonymousDistinctId(i)):(t||n)&&this.setPersonProperties(t,n),e!==i&&(this.reloadFeatureFlags(),this.unregister(ln))}}else St.error("Unique user id has not been set in posthog.identify")}},{key:"setPersonProperties",value:function(e,t){(e||t)&&this._requirePersonProcessing("posthog.setPersonProperties")&&(this.setPersonPropertiesForFlags(e||{}),this.capture("$set",{$set:e||{},$set_once:t||{}}))}},{key:"group",value:function(e,t,n){if(e&&t){if(this._requirePersonProcessing("posthog.group")){var i=this.getGroups();i[e]!==t&&this.resetGroupPropertiesForFlags(e),this.register({$groups:Ae(Ae({},i),{},Ue({},e,t))}),n&&(this.capture("$groupidentify",{$group_type:e,$group_key:t,$group_set:n}),this.setGroupPropertiesForFlags(Ue({},e,n))),i[e]===t||n||this.reloadFeatureFlags()}}else St.error("posthog.group requires a group type and group key")}},{key:"resetGroups",value:function(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}},{key:"setPersonPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._requirePersonProcessing("posthog.setPersonPropertiesForFlags")&&this.featureFlags.setPersonPropertiesForFlags(e,t)}},{key:"resetPersonPropertiesForFlags",value:function(){this.featureFlags.resetPersonPropertiesForFlags()}},{key:"setGroupPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._requirePersonProcessing("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(e,t)}},{key:"resetGroupPropertiesForFlags",value:function(e){this.featureFlags.resetGroupPropertiesForFlags(e)}},{key:"reset",value:function(e){var t,n,i,r;if(St.info("reset"),!this.__loaded)return St.uninitializedWarning("posthog.reset");var o=this.get_property("$device_id");this.consent.reset(),null===(t=this.persistence)||void 0===t||t.clear(),null===(n=this.sessionPersistence)||void 0===n||n.clear(),null===(i=this.persistence)||void 0===i||i.set_property(cn,"anonymous"),null===(r=this.sessionManager)||void 0===r||r.resetSessionId();var s=this.config.get_device_id(On());this.register_once({distinct_id:s,$device_id:e?s:o},"")}},{key:"get_distinct_id",value:function(){return this.get_property("distinct_id")}},{key:"getGroups",value:function(){return this.get_property("$groups")||{}}},{key:"get_session_id",value:function(){var e,t;return null!==(e=null===(t=this.sessionManager)||void 0===t?void 0:t.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==e?e:""}},{key:"get_session_replay_url",value:function(e){if(!this.sessionManager)return"";var t=this.sessionManager.checkAndGetSessionAndWindowId(!0),n=t.sessionId,i=t.sessionStartTimestamp,r=this.requestRouter.endpointFor("ui","/project/".concat(this.config.token,"/replay/").concat(n));if(null!=e&&e.withTimestamp&&i){var o,s=null!==(o=e.timestampLookBack)&&void 0!==o?o:10;if(!i)return r;var a=Math.max(Math.floor(((new Date).getTime()-i)/1e3)-s,0);r+="?t=".concat(a)}return r}},{key:"alias",value:function(e,t){return e===this.get_property(jt)?(St.critical("Attempting to create alias for existing People user - aborting."),-2):this._requirePersonProcessing("posthog.alias")?(tt(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(Ut,e),this.capture("$create_alias",{alias:e,distinct_id:t})):(St.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1)):void 0}},{key:"set_config",value:function(e){var t,n,i,r,o=Ae({},this.config);Ze(e)&&(Pt(this.config,xs(e)),null===(t=this.persistence)||void 0===t||t.update_config(this.config,o),this.sessionPersistence="sessionStorage"===this.config.persistence?this.persistence:new Gi(Ae(Ae({},this.config),{},{persistence:"sessionStorage"})),Ln.is_supported()&&"true"===Ln.get("ph_debug")&&(this.config.debug=!0),this.config.debug&&(Ve.DEBUG=!0,St.info("set_config",{config:e,oldConfig:o,newConfig:Ae({},this.config)})),null===(n=this.sessionRecording)||void 0===n||n.startIfEnabledOrStop(),null===(i=this.autocapture)||void 0===i||i.startIfEnabled(),null===(r=this.heatmaps)||void 0===r||r.startIfEnabled(),this.surveys.loadIfEnabled(),this._sync_opt_out_with_persistence())}},{key:"startSessionRecording",value:function(e){var t,n=at(e)&&e;if(n||null!=e&&e.sampling){var i,r,o=null===(i=this.sessionManager)||void 0===i?void 0:i.checkAndGetSessionAndWindowId();null===(r=this.persistence)||void 0===r||r.register(Ue({},tn,!0)),St.info("Session recording started with sampling override for session: ",null==o?void 0:o.sessionId)}(n||null!=e&&e.linked_flag)&&(null===(t=this.sessionRecording)||void 0===t||t.overrideLinkedFlag(),St.info("Session recording started with linked_flags override")),this.set_config({disable_session_recording:!1})}},{key:"stopSessionRecording",value:function(){this.set_config({disable_session_recording:!0})}},{key:"sessionRecordingStarted",value:function(){var e;return!(null===(e=this.sessionRecording)||void 0===e||!e.started)}},{key:"captureException",value:function(e,t){var n,i=Xe(null===(n=wt.__PosthogExtensions__)||void 0===n?void 0:n.parseErrorAsProperties)?wt.__PosthogExtensions__.parseErrorAsProperties([e.message,void 0,void 0,void 0,e]):Ae({$exception_type:e.name,$exception_message:e.message,$exception_level:"error"},t);this.exceptions.sendExceptionEvent(i)}},{key:"loadToolbar",value:function(e){return this.toolbar.loadToolbar(e)}},{key:"get_property",value:function(e){var t;return null===(t=this.persistence)||void 0===t?void 0:t.props[e]}},{key:"getSessionProperty",value:function(e){var t;return null===(t=this.sessionPersistence)||void 0===t?void 0:t.props[e]}},{key:"toString",value:function(){var e,t=null!==(e=this.config.name)&&void 0!==e?e:ks;return t!==ks&&(t=ks+"."+t),t}},{key:"_isIdentified",value:function(){var e,t;return"identified"===(null===(e=this.persistence)||void 0===e?void 0:e.get_property(cn))||"identified"===(null===(t=this.sessionPersistence)||void 0===t?void 0:t.get_property(cn))}},{key:"_hasPersonProcessing",value:function(){var e,t,n,i;return!("never"===this.config.person_profiles||"identified_only"===this.config.person_profiles&&!this._isIdentified()&&et(this.getGroups())&&(null===(e=this.persistence)||void 0===e||null===(t=e.props)||void 0===t||!t[Ut])&&(null===(n=this.persistence)||void 0===n||null===(i=n.props)||void 0===i||!i[gn]))}},{key:"_shouldCapturePageleave",value:function(){return!0===this.config.capture_pageleave||"if_capture_pageview"===this.config.capture_pageleave&&this.config.capture_pageview}},{key:"createPersonProfile",value:function(){this._hasPersonProcessing()||this._requirePersonProcessing("posthog.createPersonProfile")&&this.setPersonProperties({},{})}},{key:"_requirePersonProcessing",value:function(e){return"never"===this.config.person_profiles?(St.error(e+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this._register_single(gn,!0),!0)}},{key:"_sync_opt_out_with_persistence",value:function(){var e,t,n,i,r=this.consent.isOptedOut(),o=this.config.opt_out_persistence_by_default,s=this.config.disable_persistence||r&&!!o;(null===(e=this.persistence)||void 0===e?void 0:e.disabled)!==s&&(null===(n=this.persistence)||void 0===n||n.set_disabled(s)),(null===(t=this.sessionPersistence)||void 0===t?void 0:t.disabled)!==s&&(null===(i=this.sessionPersistence)||void 0===i||i.set_disabled(s))}},{key:"opt_in_capturing",value:function(e){var t;this.consent.optInOut(!0),this._sync_opt_out_with_persistence(),(tt(null==e?void 0:e.captureEventName)||null!=e&&e.captureEventName)&&this.capture(null!==(t=null==e?void 0:e.captureEventName)&&void 0!==t?t:"$opt_in",null==e?void 0:e.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this._captureInitialPageview()}},{key:"opt_out_capturing",value:function(){this.consent.optInOut(!1),this._sync_opt_out_with_persistence()}},{key:"has_opted_in_capturing",value:function(){return this.consent.isOptedIn()}},{key:"has_opted_out_capturing",value:function(){return this.consent.isOptedOut()}},{key:"clear_opt_in_out_capturing",value:function(){this.consent.reset(),this._sync_opt_out_with_persistence()}},{key:"_is_bot",value:function(){return ht?function(e,t){if(!e)return!1;var n=e.userAgent;if(n&&ts(n,t))return!0;try{var i=null==e?void 0:e.userAgentData;if(null!=i&&i.brands&&i.brands.some((function(e){return ts(null==e?void 0:e.brand,t)})))return!0}catch(r){}return!!e.webdriver}(ht,this.config.custom_blocked_useragents):void 0}},{key:"_captureInitialPageview",value:function(){vt&&!this._initialPageviewCaptured&&(this._initialPageviewCaptured=!0,this.capture("$pageview",{title:vt.title},{send_instantly:!0}))}},{key:"debug",value:function(e){!1===e?(null==lt||lt.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(null==lt||lt.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}]),e}();!function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=$t(e.prototype[t[n]])}(Cs,["identify"]);var Ps,Is=(Ps=bs[ks]=new Cs,function(){function e(){e.done||(e.done=!0,Ss=!1,Ct(bs,(function(e){e._dom_loaded()})))}null!=vt&&vt.addEventListener&&("complete"===vt.readyState?e():vt.addEventListener("DOMContentLoaded",e,!1)),lt&&Lt(lt,"load",e,!0)}(),Ps),Os={},Rs=Object.freeze({}),$s=Array.isArray;function Fs(e){return null==e}function Ms(e){return null!=e}function As(e){return!0===e}function Ds(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function Ls(e){return"function"==typeof e}function Ns(e){return null!==e&&"object"==typeof e}var js=Object.prototype.toString;function Us(e){return"[object Object]"===js.call(e)}function Bs(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function Hs(e){return Ms(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function qs(e){return null==e?"":Array.isArray(e)||Us(e)&&e.toString===js?JSON.stringify(e,zs,2):String(e)}function zs(e,t){return t&&t.__v_isRef?t.value:t}function Ws(e){var t=parseFloat(e);return isNaN(t)?e:t}function Vs(e,t){for(var n=Object.create(null),i=e.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}Vs("slot,component",!0);var Gs=Vs("key,ref,slot,slot-scope,is");function Ys(e,t){var n=e.length;if(n){if(t===e[n-1])return void(e.length=n-1);var i=e.indexOf(t);if(i>-1)return e.splice(i,1)}}var Ks=Object.prototype.hasOwnProperty;function Qs(e,t){return Ks.call(e,t)}function Js(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}var Xs=/-(\w)/g,Zs=Js((function(e){return e.replace(Xs,(function(e,t){return t?t.toUpperCase():""}))})),ea=Js((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),ta=/\B([A-Z])/g,na=Js((function(e){return e.replace(ta,"-$1").toLowerCase()}));var ia=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function n(n){var i=arguments.length;return i?i>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n};function ra(e,t){t=t||0;for(var n=e.length-t,i=new Array(n);n--;)i[n]=e[n+t];return i}function oa(e,t){for(var n in t)e[n]=t[n];return e}function sa(e){for(var t={},n=0;n<e.length;n++)e[n]&&oa(t,e[n]);return t}function aa(e,t,n){}var ua=function(e,t,n){return!1},la=function(e){return e};function ca(e,t){if(e===t)return!0;var n=Ns(e),i=Ns(t);if(!n||!i)return!n&&!i&&String(e)===String(t);try{var r=Array.isArray(e),o=Array.isArray(t);if(r&&o)return e.length===t.length&&e.every((function(e,n){return ca(e,t[n])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(r||o)return!1;var s=Object.keys(e),a=Object.keys(t);return s.length===a.length&&s.every((function(n){return ca(e[n],t[n])}))}catch(Dt){return!1}}function da(e,t){for(var n=0;n<e.length;n++)if(ca(e[n],t))return n;return-1}function fa(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function pa(e,t){return e===t?0===e&&1/e!=1/t:e==e||t==t}var ha="data-server-rendered",va=["component","directive","filter"],ga=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],_a={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:ua,isReservedAttr:ua,isUnknownElement:ua,getTagNamespace:aa,parsePlatformTagName:la,mustUseProp:ua,async:!0,_lifecycleHooks:ga};function ma(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function ya(e,t,n,i){Object.defineProperty(e,t,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var ba=new RegExp("[^".concat(/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/.source,".$_\\d]"));var wa="__proto__"in{},ka="undefined"!=typeof window,Sa=ka&&window.navigator.userAgent.toLowerCase(),Ea=Sa&&/msie|trident/.test(Sa),xa=Sa&&Sa.indexOf("msie 9.0")>0,Ta=Sa&&Sa.indexOf("edge/")>0;Sa&&Sa.indexOf("android");var Ca,Pa=Sa&&/iphone|ipad|ipod|ios/.test(Sa),Ia=Sa&&Sa.match(/firefox\/(\d+)/),Oa={}.watch,Ra=!1;if(ka)try{var $a={};Object.defineProperty($a,"passive",{get:function(){Ra=!0}}),window.addEventListener("test-passive",null,$a)}catch(Dt){}var Fa=function(){return void 0===Ca&&(Ca=!ka&&"undefined"!=typeof global&&(global.process&&"server"===Os.VUE_ENV)),Ca},Ma=ka&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function Aa(e){return"function"==typeof e&&/native code/.test(e.toString())}var Da,La="undefined"!=typeof Symbol&&Aa(Symbol)&&"undefined"!=typeof Reflect&&Aa(Reflect.ownKeys);Da="undefined"!=typeof Set&&Aa(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var Na=null;function ja(){return Na&&{proxy:Na}}function Ua(e){void 0===e&&(e=null),e||Na&&Na._scope.off(),Na=e,e&&e._scope.on()}var Ba=function(){function e(e,t,n,i,r,o,s,a){this.tag=e,this.data=t,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(e.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),e}(),Ha=function(e){void 0===e&&(e="");var t=new Ba;return t.text=e,t.isComment=!0,t};function qa(e){return new Ba(void 0,void 0,void 0,String(e))}function za(e){var t=new Ba(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}"function"==typeof SuppressedError&&SuppressedError;var Wa=0,Va=[],Ga=function(){for(var e=0;e<Va.length;e++){var t=Va[e];t.subs=t.subs.filter((function(e){return e})),t._pending=!1}Va.length=0},Ya=function(){function e(){this._pending=!1,this.id=Wa++,this.subs=[]}return e.prototype.addSub=function(e){this.subs.push(e)},e.prototype.removeSub=function(e){this.subs[this.subs.indexOf(e)]=null,this._pending||(this._pending=!0,Va.push(this))},e.prototype.depend=function(t){e.target&&e.target.addDep(this)},e.prototype.notify=function(e){for(var t=this.subs.filter((function(e){return e})),n=0,i=t.length;n<i;n++){t[n].update()}},e}();Ya.target=null;var Ka=[];function Qa(e){Ka.push(e),Ya.target=e}function Ja(){Ka.pop(),Ya.target=Ka[Ka.length-1]}var Xa=Array.prototype,Za=Object.create(Xa);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(e){var t=Xa[e];ya(Za,e,(function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r,o=t.apply(this,n),s=this.__ob__;switch(e){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2)}return r&&s.observeArray(r),s.dep.notify(),o}))}));var eu=Object.getOwnPropertyNames(Za),tu={},nu=!0;function iu(e){nu=e}var ru={notify:aa,depend:aa,addSub:aa,removeSub:aa},ou=function(){function e(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),this.value=e,this.shallow=t,this.mock=n,this.dep=n?ru:new Ya,this.vmCount=0,ya(e,"__ob__",this),$s(e)){if(!n)if(wa)e.__proto__=Za;else for(var i=0,r=eu.length;i<r;i++){ya(e,s=eu[i],Za[s])}t||this.observeArray(e)}else{var o=Object.keys(e);for(i=0;i<o.length;i++){var s;au(e,s=o[i],tu,void 0,t,n)}}}return e.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)su(e[t],!1,this.mock)},e}();function su(e,t,n){return e&&Qs(e,"__ob__")&&e.__ob__ instanceof ou?e.__ob__:!nu||!n&&Fa()||!$s(e)&&!Us(e)||!Object.isExtensible(e)||e.__v_skip||bu(e)||e instanceof Ba?void 0:new ou(e,t,n)}function au(e,t,n,i,r,o,s){void 0===s&&(s=!1);var a=new Ya,u=Object.getOwnPropertyDescriptor(e,t);if(!u||!1!==u.configurable){var l=u&&u.get,c=u&&u.set;l&&!c||n!==tu&&2!==arguments.length||(n=e[t]);var d=r?n&&n.__ob__:su(n,!1,o);return Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=l?l.call(e):n;return Ya.target&&(a.depend(),d&&(d.dep.depend(),$s(t)&&cu(t))),bu(t)&&!r?t.value:t},set:function(t){var i=l?l.call(e):n;if(pa(i,t)){if(c)c.call(e,t);else{if(l)return;if(!r&&bu(i)&&!bu(t))return void(i.value=t);n=t}d=r?t&&t.__ob__:su(t,!1,o),a.notify()}}}),a}}function uu(e,t,n){if(!gu(e)){var i=e.__ob__;return $s(e)&&Bs(t)?(e.length=Math.max(e.length,t),e.splice(t,1,n),i&&!i.shallow&&i.mock&&su(n,!1,!0),n):t in e&&!(t in Object.prototype)?(e[t]=n,n):e._isVue||i&&i.vmCount?n:i?(au(i.value,t,n,void 0,i.shallow,i.mock),i.dep.notify(),n):(e[t]=n,n)}}function lu(e,t){if($s(e)&&Bs(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||gu(e)||Qs(e,t)&&(delete e[t],n&&n.dep.notify())}}function cu(e){for(var t=void 0,n=0,i=e.length;n<i;n++)(t=e[n])&&t.__ob__&&t.__ob__.dep.depend(),$s(t)&&cu(t)}function du(e){return pu(e,!1),e}function fu(e){return pu(e,!0),ya(e,"__v_isShallow",!0),e}function pu(e,t){gu(e)||su(e,t,Fa())}function hu(e){return gu(e)?hu(e.__v_raw):!(!e||!e.__ob__)}function vu(e){return!(!e||!e.__v_isShallow)}function gu(e){return!(!e||!e.__v_isReadonly)}function _u(e){var t=e&&e.__v_raw;return t?_u(t):e}function mu(e){return Object.isExtensible(e)&&ya(e,"__v_skip",!0),e}var yu="__v_isRef";function bu(e){return!(!e||!0!==e.__v_isRef)}function wu(e){return Su(e,!1)}function ku(e){return Su(e,!0)}function Su(e,t){if(bu(e))return e;var n={};return ya(n,yu,!0),ya(n,"__v_isShallow",t),ya(n,"dep",au(n,"value",e,null,t,Fa())),n}function Eu(e){e.dep&&e.dep.notify()}function xu(e){return bu(e)?e.value:e}function Tu(e,t,n){Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function(){var e=t[n];if(bu(e))return e.value;var i=e&&e.__ob__;return i&&i.dep.depend(),e},set:function(e){var i=t[n];bu(i)&&!bu(e)?i.value=e:t[n]=e}})}function Cu(e){var t=$s(e)?new Array(e.length):{};for(var n in e)t[n]=Pu(e,n);return t}function Pu(e,t,n){var i=e[t];if(bu(i))return i;var r={get value(){var i=e[t];return void 0===i?n:i},set value(n){e[t]=n}};return ya(r,yu,!0),r}var Iu="__v_rawToReadonly",Ou="__v_rawToShallowReadonly";function Ru(e){return $u(e,!1)}function $u(e,t){if(!Us(e))return e;if(gu(e))return e;var n=t?Ou:Iu,i=e[n];if(i)return i;var r=Object.create(Object.getPrototypeOf(e));ya(e,n,r),ya(r,"__v_isReadonly",!0),ya(r,"__v_raw",e),bu(e)&&ya(r,yu,!0),(t||vu(e))&&ya(r,"__v_isShallow",!0);for(var o=Object.keys(e),s=0;s<o.length;s++)Fu(r,e,o[s],t);return r}function Fu(e,t,n,i){Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function(){var e=t[n];return i||!Us(e)?e:Ru(e)},set:function(){}})}function Mu(e,t){var n,i,r=Ls(e);r?(n=e,i=aa):(n=e.get,i=e.set);var o=Fa()?null:new wc(Na,n,aa,{lazy:!0}),s={effect:o,get value(){return o?(o.dirty&&o.evaluate(),Ya.target&&o.depend(),o.value):n()},set value(e){i(e)}};return ya(s,yu,!0),ya(s,"__v_isReadonly",r),s}var Au="watcher",Du="".concat(Au," callback"),Lu="".concat(Au," getter"),Nu="".concat(Au," cleanup");function ju(e,t){return qu(e,null,{flush:"post"})}var Uu,Bu={};function Hu(e,t,n){return qu(e,t,n)}function qu(e,t,n){var i=void 0===n?Rs:n,r=i.immediate,o=i.deep,s=i.flush,a=void 0===s?"pre":s;i.onTrack,i.onTrigger;var u,l,c=Na,d=function(e,t,n){void 0===n&&(n=null);var i=Bl(e,null,n,c,t);return o&&i&&i.__ob__&&i.__ob__.dep.depend(),i},f=!1,p=!1;if(bu(e)?(u=function(){return e.value},f=vu(e)):hu(e)?(u=function(){return e.__ob__.dep.depend(),e},o=!0):$s(e)?(p=!0,f=e.some((function(e){return hu(e)||vu(e)})),u=function(){return e.map((function(e){return bu(e)?e.value:hu(e)?(e.__ob__.dep.depend(),_c(e)):Ls(e)?d(e,Lu):void 0}))}):u=Ls(e)?t?function(){return d(e,Lu)}:function(){if(!c||!c._isDestroyed)return l&&l(),d(e,Au,[v])}:aa,t&&o){var h=u;u=function(){return _c(h())}}var v=function(e){l=g.onStop=function(){d(e,Nu)}};if(Fa())return v=aa,t?r&&d(t,Du,[u(),p?[]:void 0,v]):u(),aa;var g=new wc(Na,u,aa,{lazy:!0});g.noRecurse=!t;var _=p?[]:Bu;return g.run=function(){if(g.active)if(t){var e=g.get();(o||f||(p?e.some((function(e,t){return pa(e,_[t])})):pa(e,_)))&&(l&&l(),d(t,Du,[e,_===Bu?void 0:_,v]),_=e)}else g.get()},"sync"===a?g.update=g.run:"post"===a?(g.post=!0,g.update=function(){return qc(g)}):g.update=function(){if(c&&c===Na&&!c._isMounted){var e=c._preWatchers||(c._preWatchers=[]);e.indexOf(g)<0&&e.push(g)}else qc(g)},t?r?g.run():_=g.get():"post"===a&&c?c.$once("hook:mounted",(function(){return g.get()})):g.get(),function(){g.teardown()}}var zu=function(){function e(e){void 0===e&&(e=!1),this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Uu,!e&&Uu&&(this.index=(Uu.scopes||(Uu.scopes=[])).push(this)-1)}return e.prototype.run=function(e){if(this.active){var t=Uu;try{return Uu=this,e()}finally{Uu=t}}},e.prototype.on=function(){Uu=this},e.prototype.off=function(){Uu=this.parent},e.prototype.stop=function(e){if(this.active){var t=void 0,n=void 0;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].teardown();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){var i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this.active=!1}},e}();function Wu(e){return new zu(e)}function Vu(){return Uu}function Gu(e){Uu&&Uu.cleanups.push(e)}function Yu(e,t){Na&&(Ku(Na)[e]=t)}function Ku(e){var t=e._provided,n=e.$parent&&e.$parent._provided;return n===t?e._provided=Object.create(n):t}function Qu(e,t,n){void 0===n&&(n=!1);var i=Na;if(i){var r=i.$parent&&i.$parent._provided;if(r&&e in r)return r[e];if(arguments.length>1)return n&&Ls(t)?t.call(i):t}}var Ju=Js((function(e){var t="&"===e.charAt(0),n="~"===(e=t?e.slice(1):e).charAt(0),i="!"===(e=n?e.slice(1):e).charAt(0);return{name:e=i?e.slice(1):e,once:n,capture:i,passive:t}}));function Xu(e,t){function n(){var e=n.fns;if(!$s(e))return Bl(e,null,arguments,t,"v-on handler");for(var i=e.slice(),r=0;r<i.length;r++)Bl(i[r],null,arguments,t,"v-on handler")}return n.fns=e,n}function Zu(e,t,n,i,r,o){var s,a,u,l;for(s in e)a=e[s],u=t[s],l=Ju(s),Fs(a)||(Fs(u)?(Fs(a.fns)&&(a=e[s]=Xu(a,o)),As(l.once)&&(a=e[s]=r(l.name,a,l.capture)),n(l.name,a,l.capture,l.passive,l.params)):a!==u&&(u.fns=a,e[s]=u));for(s in t)Fs(e[s])&&i((l=Ju(s)).name,t[s],l.capture)}function el(e,t,n){var i;e instanceof Ba&&(e=e.data.hook||(e.data.hook={}));var r=e[t];function o(){n.apply(this,arguments),Ys(i.fns,o)}Fs(r)?i=Xu([o]):Ms(r.fns)&&As(r.merged)?(i=r).fns.push(o):i=Xu([r,o]),i.merged=!0,e[t]=i}function tl(e,t,n,i,r){if(Ms(t)){if(Qs(t,n))return e[n]=t[n],r||delete t[n],!0;if(Qs(t,i))return e[n]=t[i],r||delete t[i],!0}return!1}function nl(e){return Ds(e)?[qa(e)]:$s(e)?rl(e):void 0}function il(e){return Ms(e)&&Ms(e.text)&&!1===e.isComment}function rl(e,t){var n,i,r,o,s=[];for(n=0;n<e.length;n++)Fs(i=e[n])||"boolean"==typeof i||(o=s[r=s.length-1],$s(i)?i.length>0&&(il((i=rl(i,"".concat(t||"","_").concat(n)))[0])&&il(o)&&(s[r]=qa(o.text+i[0].text),i.shift()),s.push.apply(s,i)):Ds(i)?il(o)?s[r]=qa(o.text+i):""!==i&&s.push(qa(i)):il(i)&&il(o)?s[r]=qa(o.text+i.text):(As(e._isVList)&&Ms(i.tag)&&Fs(i.key)&&Ms(t)&&(i.key="__vlist".concat(t,"_").concat(n,"__")),s.push(i)));return s}function ol(e,t){var n,i,r,o,s=null;if($s(e)||"string"==typeof e)for(s=new Array(e.length),n=0,i=e.length;n<i;n++)s[n]=t(e[n],n);else if("number"==typeof e)for(s=new Array(e),n=0;n<e;n++)s[n]=t(n+1,n);else if(Ns(e))if(La&&e[Symbol.iterator]){s=[];for(var a=e[Symbol.iterator](),u=a.next();!u.done;)s.push(t(u.value,s.length)),u=a.next()}else for(r=Object.keys(e),s=new Array(r.length),n=0,i=r.length;n<i;n++)o=r[n],s[n]=t(e[o],o,n);return Ms(s)||(s=[]),s._isVList=!0,s}function sl(e,t,n,i){var r,o=this.$scopedSlots[e];o?(n=n||{},i&&(n=oa(oa({},i),n)),r=o(n)||(Ls(t)?t():t)):r=this.$slots[e]||(Ls(t)?t():t);var s=n&&n.slot;return s?this.$createElement("template",{slot:s},r):r}function al(e){return ad(this.$options,"filters",e)||la}function ul(e,t){return $s(e)?-1===e.indexOf(t):e!==t}function ll(e,t,n,i,r){var o=_a.keyCodes[t]||n;return r&&i&&!_a.keyCodes[t]?ul(r,i):o?ul(o,e):i?na(i)!==t:void 0===e}function cl(e,t,n,i,r){if(n)if(Ns(n)){$s(n)&&(n=sa(n));var o=void 0,s=function(s){if("class"===s||"style"===s||Gs(s))o=e;else{var a=e.attrs&&e.attrs.type;o=i||_a.mustUseProp(t,a,s)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var u=Zs(s),l=na(s);u in o||l in o||(o[s]=n[s],r&&((e.on||(e.on={}))["update:".concat(s)]=function(e){n[s]=e}))};for(var a in n)s(a)}else;return e}function dl(e,t){var n=this._staticTrees||(this._staticTrees=[]),i=n[e];return i&&!t||pl(i=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,this._c,this),"__static__".concat(e),!1),i}function fl(e,t,n){return pl(e,"__once__".concat(t).concat(n?"_".concat(n):""),!0),e}function pl(e,t,n){if($s(e))for(var i=0;i<e.length;i++)e[i]&&"string"!=typeof e[i]&&hl(e[i],"".concat(t,"_").concat(i),n);else hl(e,t,n)}function hl(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function vl(e,t){if(t)if(Us(t)){var n=e.on=e.on?oa({},e.on):{};for(var i in t){var r=n[i],o=t[i];n[i]=r?[].concat(r,o):o}}else;return e}function gl(e,t,n,i){t=t||{$stable:!n};for(var r=0;r<e.length;r++){var o=e[r];$s(o)?gl(o,t,n):o&&(o.proxy&&(o.fn.proxy=!0),t[o.key]=o.fn)}return i&&(t.$key=i),t}function _l(e,t){for(var n=0;n<t.length;n+=2){var i=t[n];"string"==typeof i&&i&&(e[t[n]]=t[n+1])}return e}function ml(e,t){return"string"==typeof e?t+e:e}function yl(e){e._o=fl,e._n=Ws,e._s=qs,e._l=ol,e._t=sl,e._q=ca,e._i=da,e._m=dl,e._f=al,e._k=ll,e._b=cl,e._v=qa,e._e=Ha,e._u=gl,e._g=vl,e._d=_l,e._p=ml}function bl(e,t){if(!e||!e.length)return{};for(var n={},i=0,r=e.length;i<r;i++){var o=e[i],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==t&&o.fnContext!==t||!s||null==s.slot)(n.default||(n.default=[])).push(o);else{var a=s.slot,u=n[a]||(n[a]=[]);"template"===o.tag?u.push.apply(u,o.children||[]):u.push(o)}}for(var l in n)n[l].every(wl)&&delete n[l];return n}function wl(e){return e.isComment&&!e.asyncFactory||" "===e.text}function kl(e){return e.isComment&&e.asyncFactory}function Sl(e,t,n,i){var r,o=Object.keys(n).length>0,s=t?!!t.$stable:!o,a=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(s&&i&&i!==Rs&&a===i.$key&&!o&&!i.$hasNormal)return i;for(var u in r={},t)t[u]&&"$"!==u[0]&&(r[u]=El(e,n,u,t[u]))}else r={};for(var l in n)l in r||(r[l]=xl(n,l));return t&&Object.isExtensible(t)&&(t._normalized=r),ya(r,"$stable",s),ya(r,"$key",a),ya(r,"$hasNormal",o),r}function El(e,t,n,i){var r=function(){var t=Na;Ua(e);var n=arguments.length?i.apply(null,arguments):i({}),r=(n=n&&"object"==typeof n&&!$s(n)?[n]:nl(n))&&n[0];return Ua(t),n&&(!r||1===n.length&&r.isComment&&!kl(r))?void 0:n};return i.proxy&&Object.defineProperty(t,n,{get:r,enumerable:!0,configurable:!0}),r}function xl(e,t){return function(){return e[t]}}function Tl(e){return{get attrs(){if(!e._attrsProxy){var t=e._attrsProxy={};ya(t,"_v_attr_proxy",!0),Cl(t,e.$attrs,Rs,e,"$attrs")}return e._attrsProxy},get listeners(){e._listenersProxy||Cl(e._listenersProxy={},e.$listeners,Rs,e,"$listeners");return e._listenersProxy},get slots(){return function(e){e._slotsProxy||Il(e._slotsProxy={},e.$scopedSlots);return e._slotsProxy}(e)},emit:ia(e.$emit,e),expose:function(t){t&&Object.keys(t).forEach((function(n){return Tu(e,t,n)}))}}}function Cl(e,t,n,i,r){var o=!1;for(var s in t)s in e?t[s]!==n[s]&&(o=!0):(o=!0,Pl(e,s,i,r));for(var s in e)s in t||(o=!0,delete e[s]);return o}function Pl(e,t,n,i){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){return n[i][t]}})}function Il(e,t){for(var n in t)e[n]=t[n];for(var n in e)n in t||delete e[n]}function Ol(){return Rl().slots}function Rl(){var e=Na;return e._setupContext||(e._setupContext=Tl(e))}var $l=null;function Fl(e,t){return(e.__esModule||La&&"Module"===e[Symbol.toStringTag])&&(e=e.default),Ns(e)?t.extend(e):e}function Ml(e){if($s(e))for(var t=0;t<e.length;t++){var n=e[t];if(Ms(n)&&(Ms(n.componentOptions)||kl(n)))return n}}var Al=1,Dl=2;function Ll(e,t,n,i,r,o){return($s(n)||Ds(n))&&(r=i,i=n,n=void 0),As(o)&&(r=Dl),function(e,t,n,i,r){if(Ms(n)&&Ms(n.__ob__))return Ha();Ms(n)&&Ms(n.is)&&(t=n.is);if(!t)return Ha();$s(i)&&Ls(i[0])&&((n=n||{}).scopedSlots={default:i[0]},i.length=0);r===Dl?i=nl(i):r===Al&&(i=function(e){for(var t=0;t<e.length;t++)if($s(e[t]))return Array.prototype.concat.apply([],e);return e}(i));var o,s;if("string"==typeof t){var a=void 0;s=e.$vnode&&e.$vnode.ns||_a.getTagNamespace(t),o=_a.isReservedTag(t)?new Ba(_a.parsePlatformTagName(t),n,i,void 0,void 0,e):n&&n.pre||!Ms(a=ad(e.$options,"components",t))?new Ba(t,n,i,void 0,void 0,e):Jc(a,n,e,i,t)}else o=Jc(t,n,e,i);return $s(o)?o:Ms(o)?(Ms(s)&&Nl(o,s),Ms(n)&&function(e){Ns(e.style)&&_c(e.style);Ns(e.class)&&_c(e.class)}(n),o):Ha()}(e,t,n,i,r)}function Nl(e,t,n){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,n=!0),Ms(e.children))for(var i=0,r=e.children.length;i<r;i++){var o=e.children[i];Ms(o.tag)&&(Fs(o.ns)||As(n)&&"svg"!==o.tag)&&Nl(o,t,n)}}function jl(e,t,n){return Ll(Na,e,t,n,2,!0)}function Ul(e,t,n){Qa();try{if(t)for(var i=t;i=i.$parent;){var r=i.$options.errorCaptured;if(r)for(var o=0;o<r.length;o++)try{if(!1===r[o].call(i,e,t,n))return}catch(Dt){Hl(Dt,i,"errorCaptured hook")}}Hl(e,t,n)}finally{Ja()}}function Bl(e,t,n,i,r){var o;try{(o=n?e.apply(t,n):e.call(t))&&!o._isVue&&Hs(o)&&!o._handled&&(o.catch((function(e){return Ul(e,i,r+" (Promise/async)")})),o._handled=!0)}catch(Dt){Ul(Dt,i,r)}return o}function Hl(e,t,n){if(_a.errorHandler)try{return _a.errorHandler.call(null,e,t,n)}catch(Dt){Dt!==e&&ql(Dt)}ql(e)}function ql(e,t,n){if(!ka||"undefined"==typeof console)throw e;console.error(e)}var zl,Wl=!1,Vl=[],Gl=!1;function Yl(){Gl=!1;var e=Vl.slice(0);Vl.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!=typeof Promise&&Aa(Promise)){var Kl=Promise.resolve();zl=function(){Kl.then(Yl),Pa&&setTimeout(aa)},Wl=!0}else if(Ea||"undefined"==typeof MutationObserver||!Aa(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())zl="undefined"!=typeof setImmediate&&Aa(setImmediate)?function(){setImmediate(Yl)}:function(){setTimeout(Yl,0)};else{var Ql=1,Jl=new MutationObserver(Yl),Xl=document.createTextNode(String(Ql));Jl.observe(Xl,{characterData:!0}),zl=function(){Ql=(Ql+1)%2,Xl.data=String(Ql)},Wl=!0}function Zl(e,t){var n;if(Vl.push((function(){if(e)try{e.call(t)}catch(Dt){Ul(Dt,t,"nextTick")}else n&&n(t)})),Gl||(Gl=!0,zl()),!e&&"undefined"!=typeof Promise)return new Promise((function(e){n=e}))}function ec(e){if(ka){var t=Na;t&&ju((function(){var n=t.$el,i=e(t,t._setupProxy);if(n&&1===n.nodeType){var r=n.style;for(var o in i)r.setProperty("--".concat(o),i[o])}}))}}function tc(e){return function(t,n){if(void 0===n&&(n=Na),n)return function(e,t,n){var i=e.$options;i[t]=id(i[t],n)}(n,e,t)}}var nc=tc("beforeMount"),ic=tc("mounted"),rc=tc("beforeUpdate"),oc=tc("updated"),sc=tc("beforeDestroy"),ac=tc("destroyed"),uc=tc("activated"),lc=tc("deactivated"),cc=tc("serverPrefetch"),dc=tc("renderTracked"),fc=tc("renderTriggered"),pc=tc("errorCaptured");var hc="2.7.16";function vc(e){return e}var gc=new Da;function _c(e){return mc(e,gc),gc.clear(),e}function mc(e,t){var n,i,r=$s(e);if(!(!r&&!Ns(e)||e.__v_skip||Object.isFrozen(e)||e instanceof Ba)){if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(r)for(n=e.length;n--;)mc(e[n],t);else if(bu(e))mc(e.value,t);else for(n=(i=Object.keys(e)).length;n--;)mc(e[i[n]],t)}}var yc,bc=0,wc=function(){function e(e,t,n,i,r){var o,s;o=this,void 0===(s=Uu&&!Uu._vm?Uu:e?e._scope:void 0)&&(s=Uu),s&&s.active&&s.effects.push(o),(this.vm=e)&&r&&(e._watcher=this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++bc,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new Da,this.newDepIds=new Da,this.expression="",Ls(t)?this.getter=t:(this.getter=function(e){if(!ba.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}(t),this.getter||(this.getter=aa)),this.value=this.lazy?void 0:this.get()}return e.prototype.get=function(){var e;Qa(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(Dt){if(!this.user)throw Dt;Ul(Dt,t,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&_c(e),Ja(),this.cleanupDeps()}return e},e.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},e.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},e.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():qc(this)},e.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||Ns(e)||this.deep){var t=this.value;if(this.value=e,this.user){var n='callback for watcher "'.concat(this.expression,'"');Bl(this.cb,this.vm,[e,t],this.vm,n)}else this.cb.call(this.vm,e,t)}}},e.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},e.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},e.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&Ys(this.vm._scope.effects,this),this.active){for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},e}();function kc(e,t){yc.$on(e,t)}function Sc(e,t){yc.$off(e,t)}function Ec(e,t){var n=yc;return function i(){null!==t.apply(null,arguments)&&n.$off(e,i)}}function xc(e,t,n){yc=e,Zu(t,n||{},kc,Sc,Ec,e),yc=void 0}var Tc=null;function Cc(e){var t=Tc;return Tc=e,function(){Tc=t}}function Pc(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function Ic(e,t){if(t){if(e._directInactive=!1,Pc(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)Ic(e.$children[n]);Rc(e,"activated")}}function Oc(e,t){if(!(t&&(e._directInactive=!0,Pc(e))||e._inactive)){e._inactive=!0;for(var n=0;n<e.$children.length;n++)Oc(e.$children[n]);Rc(e,"deactivated")}}function Rc(e,t,n,i){void 0===i&&(i=!0),Qa();var r=Na,o=Vu();i&&Ua(e);var s=e.$options[t],a="".concat(t," hook");if(s)for(var u=0,l=s.length;u<l;u++)Bl(s[u],e,null,e,a);e._hasHookEvent&&e.$emit("hook:"+t),i&&(Ua(r),o&&o.on()),Ja()}var $c=[],Fc=[],Mc={},Ac=!1,Dc=!1,Lc=0;var Nc=0,jc=Date.now;if(ka&&!Ea){var Uc=window.performance;Uc&&"function"==typeof Uc.now&&jc()>document.createEvent("Event").timeStamp&&(jc=function(){return Uc.now()})}var Bc=function(e,t){if(e.post){if(!t.post)return 1}else if(t.post)return-1;return e.id-t.id};function Hc(){var e,t;for(Nc=jc(),Dc=!0,$c.sort(Bc),Lc=0;Lc<$c.length;Lc++)(e=$c[Lc]).before&&e.before(),t=e.id,Mc[t]=null,e.run();var n=Fc.slice(),i=$c.slice();Lc=$c.length=Fc.length=0,Mc={},Ac=Dc=!1,function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Ic(e[t],!0)}(n),function(e){var t=e.length;for(;t--;){var n=e[t],i=n.vm;i&&i._watcher===n&&i._isMounted&&!i._isDestroyed&&Rc(i,"updated")}}(i),Ga(),Ma&&_a.devtools&&Ma.emit("flush")}function qc(e){var t=e.id;if(null==Mc[t]&&(e!==Ya.target||!e.noRecurse)){if(Mc[t]=!0,Dc){for(var n=$c.length-1;n>Lc&&$c[n].id>e.id;)n--;$c.splice(n+1,0,e)}else $c.push(e);Ac||(Ac=!0,Zl(Hc))}}function zc(e,t){if(e){for(var n=Object.create(null),i=La?Reflect.ownKeys(e):Object.keys(e),r=0;r<i.length;r++){var o=i[r];if("__ob__"!==o){var s=e[o].from;if(s in t._provided)n[o]=t._provided[s];else if("default"in e[o]){var a=e[o].default;n[o]=Ls(a)?a.call(t):a}}}return n}}function Wc(e,t,n,i,r){var o,s=this,a=r.options;Qs(i,"_uid")?(o=Object.create(i))._original=i:(o=i,i=i._original);var u=As(a._compiled),l=!u;this.data=e,this.props=t,this.children=n,this.parent=i,this.listeners=e.on||Rs,this.injections=zc(a.inject,i),this.slots=function(){return s.$slots||Sl(i,e.scopedSlots,s.$slots=bl(n,i)),s.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Sl(i,e.scopedSlots,this.slots())}}),u&&(this.$options=a,this.$slots=this.slots(),this.$scopedSlots=Sl(i,e.scopedSlots,this.$slots)),a._scopeId?this._c=function(e,t,n,r){var s=Ll(o,e,t,n,r,l);return s&&!$s(s)&&(s.fnScopeId=a._scopeId,s.fnContext=i),s}:this._c=function(e,t,n,i){return Ll(o,e,t,n,i,l)}}function Vc(e,t,n,i,r){var o=za(e);return o.fnContext=n,o.fnOptions=i,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function Gc(e,t){for(var n in t)e[Zs(n)]=t[n]}function Yc(e){return e.name||e.__name||e._componentTag}yl(Wc.prototype);var Kc={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;Kc.prepatch(n,n)}else{(e.componentInstance=function(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},i=e.data.inlineTemplate;Ms(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns);return new e.componentOptions.Ctor(n)}(e,Tc)).$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var n=t.componentOptions;!function(e,t,n,i,r){var o=i.data.scopedSlots,s=e.$scopedSlots,a=!!(o&&!o.$stable||s!==Rs&&!s.$stable||o&&e.$scopedSlots.$key!==o.$key||!o&&e.$scopedSlots.$key),u=!!(r||e.$options._renderChildren||a),l=e.$vnode;e.$options._parentVnode=i,e.$vnode=i,e._vnode&&(e._vnode.parent=i),e.$options._renderChildren=r;var c=i.data.attrs||Rs;e._attrsProxy&&Cl(e._attrsProxy,c,l.data&&l.data.attrs||Rs,e,"$attrs")&&(u=!0),e.$attrs=c,n=n||Rs;var d=e.$options._parentListeners;if(e._listenersProxy&&Cl(e._listenersProxy,n,d||Rs,e,"$listeners"),e.$listeners=e.$options._parentListeners=n,xc(e,n,d),t&&e.$options.props){iu(!1);for(var f=e._props,p=e.$options._propKeys||[],h=0;h<p.length;h++){var v=p[h],g=e.$options.props;f[v]=ud(v,g,t,e)}iu(!0),e.$options.propsData=t}u&&(e.$slots=bl(r,i.context),e.$forceUpdate())}(t.componentInstance=e.componentInstance,n.propsData,n.listeners,t,n.children)},insert:function(e){var t,n=e.context,i=e.componentInstance;i._isMounted||(i._isMounted=!0,Rc(i,"mounted")),e.data.keepAlive&&(n._isMounted?((t=i)._inactive=!1,Fc.push(t)):Ic(i,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?Oc(t,!0):t.$destroy())}},Qc=Object.keys(Kc);function Jc(e,t,n,i,r){if(!Fs(e)){var o=n.$options._base;if(Ns(e)&&(e=o.extend(e)),"function"==typeof e){var s;if(Fs(e.cid)&&(e=function(e,t){if(As(e.error)&&Ms(e.errorComp))return e.errorComp;if(Ms(e.resolved))return e.resolved;var n=$l;if(n&&Ms(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n),As(e.loading)&&Ms(e.loadingComp))return e.loadingComp;if(n&&!Ms(e.owners)){var i=e.owners=[n],r=!0,o=null,s=null;n.$on("hook:destroyed",(function(){return Ys(i,n)}));var a=function(e){for(var t=0,n=i.length;t<n;t++)i[t].$forceUpdate();e&&(i.length=0,null!==o&&(clearTimeout(o),o=null),null!==s&&(clearTimeout(s),s=null))},u=fa((function(n){e.resolved=Fl(n,t),r?i.length=0:a(!0)})),l=fa((function(t){Ms(e.errorComp)&&(e.error=!0,a(!0))})),c=e(u,l);return Ns(c)&&(Hs(c)?Fs(e.resolved)&&c.then(u,l):Hs(c.component)&&(c.component.then(u,l),Ms(c.error)&&(e.errorComp=Fl(c.error,t)),Ms(c.loading)&&(e.loadingComp=Fl(c.loading,t),0===c.delay?e.loading=!0:o=setTimeout((function(){o=null,Fs(e.resolved)&&Fs(e.error)&&(e.loading=!0,a(!1))}),c.delay||200)),Ms(c.timeout)&&(s=setTimeout((function(){s=null,Fs(e.resolved)&&l(null)}),c.timeout)))),r=!1,e.loading?e.loadingComp:e.resolved}}(s=e,o),void 0===e))return function(e,t,n,i,r){var o=Ha();return o.asyncFactory=e,o.asyncMeta={data:t,context:n,children:i,tag:r},o}(s,t,n,i,r);t=t||{},kd(e),Ms(t.model)&&function(e,t){var n=e.model&&e.model.prop||"value",i=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var r=t.on||(t.on={}),o=r[i],s=t.model.callback;Ms(o)?($s(o)?-1===o.indexOf(s):o!==s)&&(r[i]=[s].concat(o)):r[i]=s}(e.options,t);var a=function(e,t,n){var i=t.options.props;if(!Fs(i)){var r={},o=e.attrs,s=e.props;if(Ms(o)||Ms(s))for(var a in i){var u=na(a);tl(r,s,a,u,!0)||tl(r,o,a,u,!1)}return r}}(t,e);if(As(e.options.functional))return function(e,t,n,i,r){var o=e.options,s={},a=o.props;if(Ms(a))for(var u in a)s[u]=ud(u,a,t||Rs);else Ms(n.attrs)&&Gc(s,n.attrs),Ms(n.props)&&Gc(s,n.props);var l=new Wc(n,s,r,i,e),c=o.render.call(null,l._c,l);if(c instanceof Ba)return Vc(c,n,l.parent,o);if($s(c)){for(var d=nl(c)||[],f=new Array(d.length),p=0;p<d.length;p++)f[p]=Vc(d[p],n,l.parent,o);return f}}(e,a,t,n,i);var u=t.on;if(t.on=t.nativeOn,As(e.options.abstract)){var l=t.slot;t={},l&&(t.slot=l)}!function(e){for(var t=e.hook||(e.hook={}),n=0;n<Qc.length;n++){var i=Qc[n],r=t[i],o=Kc[i];r===o||r&&r._merged||(t[i]=r?Xc(o,r):o)}}(t);var c=Yc(e.options)||r;return new Ba("vue-component-".concat(e.cid).concat(c?"-".concat(c):""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:a,listeners:u,tag:r,children:i},s)}}}function Xc(e,t){var n=function(n,i){e(n,i),t(n,i)};return n._merged=!0,n}var Zc=aa,ed=_a.optionMergeStrategies;function td(e,t,n){if(void 0===n&&(n=!0),!t)return e;for(var i,r,o,s=La?Reflect.ownKeys(t):Object.keys(t),a=0;a<s.length;a++)"__ob__"!==(i=s[a])&&(r=e[i],o=t[i],n&&Qs(e,i)?r!==o&&Us(r)&&Us(o)&&td(r,o):uu(e,i,o));return e}function nd(e,t,n){return n?function(){var i=Ls(t)?t.call(n,n):t,r=Ls(e)?e.call(n,n):e;return i?td(i,r):r}:t?e?function(){return td(Ls(t)?t.call(this,this):t,Ls(e)?e.call(this,this):e)}:t:e}function id(e,t){var n=t?e?e.concat(t):$s(t)?t:[t]:e;return n?function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(n):n}function rd(e,t,n,i){var r=Object.create(e||null);return t?oa(r,t):r}ed.data=function(e,t,n){return n?nd(e,t,n):t&&"function"!=typeof t?e:nd(e,t)},ga.forEach((function(e){ed[e]=id})),va.forEach((function(e){ed[e+"s"]=rd})),ed.watch=function(e,t,n,i){if(e===Oa&&(e=void 0),t===Oa&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var r={};for(var o in oa(r,e),t){var s=r[o],a=t[o];s&&!$s(s)&&(s=[s]),r[o]=s?s.concat(a):$s(a)?a:[a]}return r},ed.props=ed.methods=ed.inject=ed.computed=function(e,t,n,i){if(!e)return t;var r=Object.create(null);return oa(r,e),t&&oa(r,t),r},ed.provide=function(e,t){return e?function(){var n=Object.create(null);return td(n,Ls(e)?e.call(this):e),t&&td(n,Ls(t)?t.call(this):t,!1),n}:t};var od=function(e,t){return void 0===t?e:t};function sd(e,t,n){if(Ls(t)&&(t=t.options),function(e,t){var n=e.props;if(n){var i,r,o={};if($s(n))for(i=n.length;i--;)"string"==typeof(r=n[i])&&(o[Zs(r)]={type:null});else if(Us(n))for(var s in n)r=n[s],o[Zs(s)]=Us(r)?r:{type:r};e.props=o}}(t),function(e,t){var n=e.inject;if(n){var i=e.inject={};if($s(n))for(var r=0;r<n.length;r++)i[n[r]]={from:n[r]};else if(Us(n))for(var o in n){var s=n[o];i[o]=Us(s)?oa({from:o},s):{from:s}}}}(t),function(e){var t=e.directives;if(t)for(var n in t){var i=t[n];Ls(i)&&(t[n]={bind:i,update:i})}}(t),!t._base&&(t.extends&&(e=sd(e,t.extends,n)),t.mixins))for(var i=0,r=t.mixins.length;i<r;i++)e=sd(e,t.mixins[i],n);var o,s={};for(o in e)a(o);for(o in t)Qs(e,o)||a(o);function a(i){var r=ed[i]||od;s[i]=r(e[i],t[i],n,i)}return s}function ad(e,t,n,i){if("string"==typeof n){var r=e[t];if(Qs(r,n))return r[n];var o=Zs(n);if(Qs(r,o))return r[o];var s=ea(o);return Qs(r,s)?r[s]:r[n]||r[o]||r[s]}}function ud(e,t,n,i){var r=t[e],o=!Qs(n,e),s=n[e],a=fd(Boolean,r.type);if(a>-1)if(o&&!Qs(r,"default"))s=!1;else if(""===s||s===na(e)){var u=fd(String,r.type);(u<0||a<u)&&(s=!0)}if(void 0===s){s=function(e,t,n){if(!Qs(t,"default"))return;var i=t.default;if(e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n])return e._props[n];return Ls(i)&&"Function"!==cd(t.type)?i.call(e):i}(i,r,e);var l=nu;iu(!0),su(s),iu(l)}return s}var ld=/^\s*function (\w+)/;function cd(e){var t=e&&e.toString().match(ld);return t?t[1]:""}function dd(e,t){return cd(e)===cd(t)}function fd(e,t){if(!$s(t))return dd(t,e)?0:-1;for(var n=0,i=t.length;n<i;n++)if(dd(t[n],e))return n;return-1}var pd={enumerable:!0,configurable:!0,get:aa,set:aa};function hd(e,t,n){pd.get=function(){return this[t][n]},pd.set=function(e){this[t][n]=e},Object.defineProperty(e,n,pd)}function vd(e){var t=e.$options;if(t.props&&function(e,t){var n=e.$options.propsData||{},i=e._props=fu({}),r=e.$options._propKeys=[],o=!e.$parent;o||iu(!1);var s=function(o){r.push(o);var s=ud(o,t,n,e);au(i,o,s,void 0,!0),o in e||hd(e,"_props",o)};for(var a in t)s(a);iu(!0)}(e,t.props),function(e){var t=e.$options,n=t.setup;if(n){var i=e._setupContext=Tl(e);Ua(e),Qa();var r=Bl(n,null,[e._props||fu({}),i],e,"setup");if(Ja(),Ua(),Ls(r))t.render=r;else if(Ns(r))if(e._setupState=r,r.__sfc){var o=e._setupProxy={};for(var s in r)"__sfc"!==s&&Tu(o,r,s)}else for(var s in r)ma(s)||Tu(e,r,s)}}(e),t.methods&&function(e,t){for(var n in e.$options.props,t)e[n]="function"!=typeof t[n]?aa:ia(t[n],e)}(e,t.methods),t.data)!function(e){var t=e.$options.data;t=e._data=Ls(t)?function(e,t){Qa();try{return e.call(t,t)}catch(Dt){return Ul(Dt,t,"data()"),{}}finally{Ja()}}(t,e):t||{},Us(t)||(t={});var n=Object.keys(t),i=e.$options.props;e.$options.methods;var r=n.length;for(;r--;){var o=n[r];i&&Qs(i,o)||ma(o)||hd(e,"_data",o)}var s=su(t);s&&s.vmCount++}(e);else{var n=su(e._data={});n&&n.vmCount++}t.computed&&function(e,t){var n=e._computedWatchers=Object.create(null),i=Fa();for(var r in t){var o=t[r],s=Ls(o)?o:o.get;i||(n[r]=new wc(e,s||aa,aa,gd)),r in e||_d(e,r,o)}}(e,t.computed),t.watch&&t.watch!==Oa&&function(e,t){for(var n in t){var i=t[n];if($s(i))for(var r=0;r<i.length;r++)bd(e,n,i[r]);else bd(e,n,i)}}(e,t.watch)}var gd={lazy:!0};function _d(e,t,n){var i=!Fa();Ls(n)?(pd.get=i?md(t):yd(n),pd.set=aa):(pd.get=n.get?i&&!1!==n.cache?md(t):yd(n.get):aa,pd.set=n.set||aa),Object.defineProperty(e,t,pd)}function md(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),Ya.target&&t.depend(),t.value}}function yd(e){return function(){return e.call(this,this)}}function bd(e,t,n,i){return Us(n)&&(i=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,i)}var wd=0;function kd(e){var t=e.options;if(e.super){var n=kd(e.super);if(n!==e.superOptions){e.superOptions=n;var i=function(e){var t,n=e.options,i=e.sealedOptions;for(var r in n)n[r]!==i[r]&&(t||(t={}),t[r]=n[r]);return t}(e);i&&oa(e.extendOptions,i),(t=e.options=sd(n,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function Sd(e){this._init(e)}function Ed(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,i=n.cid,r=e._Ctor||(e._Ctor={});if(r[i])return r[i];var o=Yc(e)||Yc(n.options),s=function(e){this._init(e)};return(s.prototype=Object.create(n.prototype)).constructor=s,s.cid=t++,s.options=sd(n.options,e),s.super=n,s.options.props&&function(e){var t=e.options.props;for(var n in t)hd(e.prototype,"_props",n)}(s),s.options.computed&&function(e){var t=e.options.computed;for(var n in t)_d(e.prototype,n,t[n])}(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,va.forEach((function(e){s[e]=n[e]})),o&&(s.options.components[o]=s),s.superOptions=n.options,s.extendOptions=e,s.sealedOptions=oa({},s.options),r[i]=s,s}}function xd(e){return e&&(Yc(e.Ctor.options)||e.tag)}function Td(e,t){return $s(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:(n=e,"[object RegExp]"===js.call(n)&&e.test(t));var n}function Cd(e,t){var n=e.cache,i=e.keys,r=e._vnode,o=e.$vnode;for(var s in n){var a=n[s];if(a){var u=a.name;u&&!t(u)&&Pd(n,s,i,r)}}o.componentOptions.children=void 0}function Pd(e,t,n,i){var r=e[t];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),e[t]=null,Ys(n,t)}Sd.prototype._init=function(e){var t=this;t._uid=wd++,t._isVue=!0,t.__v_skip=!0,t._scope=new zu(!0),t._scope.parent=void 0,t._scope._vm=!0,e&&e._isComponent?function(e,t){var n=e.$options=Object.create(e.constructor.options),i=t._parentVnode;n.parent=t.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}(t,e):t.$options=sd(kd(t.constructor),e||{},t),t._renderProxy=t,t._self=t,function(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._provided=n?n._provided:Object.create(null),e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(t),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&xc(e,t)}(t),function(e){e._vnode=null,e._staticTrees=null;var t=e.$options,n=e.$vnode=t._parentVnode,i=n&&n.context;e.$slots=bl(t._renderChildren,i),e.$scopedSlots=n?Sl(e.$parent,n.data.scopedSlots,e.$slots):Rs,e._c=function(t,n,i,r){return Ll(e,t,n,i,r,!1)},e.$createElement=function(t,n,i,r){return Ll(e,t,n,i,r,!0)};var r=n&&n.data;au(e,"$attrs",r&&r.attrs||Rs,null,!0),au(e,"$listeners",t._parentListeners||Rs,null,!0)}(t),Rc(t,"beforeCreate",0,!1),function(e){var t=zc(e.$options.inject,e);t&&(iu(!1),Object.keys(t).forEach((function(n){au(e,n,t[n])})),iu(!0))}(t),vd(t),function(e){var t=e.$options.provide;if(t){var n=Ls(t)?t.call(e):t;if(!Ns(n))return;for(var i=Ku(e),r=La?Reflect.ownKeys(n):Object.keys(n),o=0;o<r.length;o++){var s=r[o];Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))}}}(t),Rc(t,"created"),t.$options.el&&t.$mount(t.$options.el)},function(e){var t={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=uu,e.prototype.$delete=lu,e.prototype.$watch=function(e,t,n){var i=this;if(Us(t))return bd(i,e,t,n);(n=n||{}).user=!0;var r=new wc(i,e,t,n);if(n.immediate){var o='callback for immediate watcher "'.concat(r.expression,'"');Qa(),Bl(t,i,[r.value],i,o),Ja()}return function(){r.teardown()}}}(Sd),function(e){var t=/^hook:/;e.prototype.$on=function(e,n){var i=this;if($s(e))for(var r=0,o=e.length;r<o;r++)i.$on(e[r],n);else(i._events[e]||(i._events[e]=[])).push(n),t.test(e)&&(i._hasHookEvent=!0);return i},e.prototype.$once=function(e,t){var n=this;function i(){n.$off(e,i),t.apply(n,arguments)}return i.fn=t,n.$on(e,i),n},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if($s(e)){for(var i=0,r=e.length;i<r;i++)n.$off(e[i],t);return n}var o,s=n._events[e];if(!s)return n;if(!t)return n._events[e]=null,n;for(var a=s.length;a--;)if((o=s[a])===t||o.fn===t){s.splice(a,1);break}return n},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?ra(n):n;for(var i=ra(arguments,1),r='event handler for "'.concat(e,'"'),o=0,s=n.length;o<s;o++)Bl(n[o],t,i,t,r)}return t}}(Sd),function(e){e.prototype._update=function(e,t){var n=this,i=n.$el,r=n._vnode,o=Cc(n);n._vnode=e,n.$el=r?n.__patch__(r,e):n.__patch__(n.$el,e,t,!1),o(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n);for(var s=n;s&&s.$vnode&&s.$parent&&s.$vnode===s.$parent._vnode;)s.$parent.$el=s.$el,s=s.$parent},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Rc(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||Ys(t.$children,e),e._scope.stop(),e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Rc(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(Sd),function(e){yl(e.prototype),e.prototype.$nextTick=function(e){return Zl(e,this)},e.prototype._render=function(){var e=this,t=e.$options,n=t.render,i=t._parentVnode;i&&e._isMounted&&(e.$scopedSlots=Sl(e.$parent,i.data.scopedSlots,e.$slots,e.$scopedSlots),e._slotsProxy&&Il(e._slotsProxy,e.$scopedSlots)),e.$vnode=i;var r,o=Na,s=$l;try{Ua(e),$l=e,r=n.call(e._renderProxy,e.$createElement)}catch(Dt){Ul(Dt,e,"render"),r=e._vnode}finally{$l=s,Ua(o)}return $s(r)&&1===r.length&&(r=r[0]),r instanceof Ba||(r=Ha()),r.parent=i,r}}(Sd);var Id=[String,RegExp,Array],Od={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Id,exclude:Id,max:[String,Number]},methods:{cacheVNode:function(){var e=this,t=e.cache,n=e.keys,i=e.vnodeToCache,r=e.keyToCache;if(i){var o=i.tag,s=i.componentInstance,a=i.componentOptions;t[r]={name:xd(a),tag:o,componentInstance:s},n.push(r),this.max&&n.length>parseInt(this.max)&&Pd(t,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Pd(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",(function(t){Cd(e,(function(e){return Td(t,e)}))})),this.$watch("exclude",(function(t){Cd(e,(function(e){return!Td(t,e)}))}))},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,t=Ml(e),n=t&&t.componentOptions;if(n){var i=xd(n),r=this.include,o=this.exclude;if(r&&(!i||!Td(r,i))||o&&i&&Td(o,i))return t;var s=this.cache,a=this.keys,u=null==t.key?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):t.key;s[u]?(t.componentInstance=s[u].componentInstance,Ys(a,u),a.push(u)):(this.vnodeToCache=t,this.keyToCache=u),t.data.keepAlive=!0}return t||e&&e[0]}}};!function(e){var t={get:function(){return _a}};Object.defineProperty(e,"config",t),e.util={warn:Zc,extend:oa,mergeOptions:sd,defineReactive:au},e.set=uu,e.delete=lu,e.nextTick=Zl,e.observable=function(e){return su(e),e},e.options=Object.create(null),va.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,oa(e.options.components,Od),function(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=ra(arguments,1);return n.unshift(this),Ls(e.install)?e.install.apply(e,n):Ls(e)&&e.apply(null,n),t.push(e),this}}(e),function(e){e.mixin=function(e){return this.options=sd(this.options,e),this}}(e),Ed(e),function(e){va.forEach((function(t){e[t]=function(e,n){return n?("component"===t&&Us(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&Ls(n)&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}}))}(e)}(Sd),Object.defineProperty(Sd.prototype,"$isServer",{get:Fa}),Object.defineProperty(Sd.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Sd,"FunctionalRenderContext",{value:Wc}),Sd.version=hc;var Rd=Vs("style,class"),$d=Vs("input,textarea,option,select,progress"),Fd=Vs("contenteditable,draggable,spellcheck"),Md=Vs("events,caret,typing,plaintext-only"),Ad=function(e,t){return Ud(t)||"false"===t?"false":"contenteditable"===e&&Md(t)?t:"true"},Dd=Vs("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Ld="http://www.w3.org/1999/xlink",Nd=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},jd=function(e){return Nd(e)?e.slice(6,e.length):""},Ud=function(e){return null==e||!1===e};function Bd(e){for(var t=e.data,n=e,i=e;Ms(i.componentInstance);)(i=i.componentInstance._vnode)&&i.data&&(t=Hd(i.data,t));for(;Ms(n=n.parent);)n&&n.data&&(t=Hd(t,n.data));return function(e,t){if(Ms(e)||Ms(t))return qd(e,zd(t));return""}(t.staticClass,t.class)}function Hd(e,t){return{staticClass:qd(e.staticClass,t.staticClass),class:Ms(e.class)?[e.class,t.class]:t.class}}function qd(e,t){return e?t?e+" "+t:e:t||""}function zd(e){return Array.isArray(e)?function(e){for(var t,n="",i=0,r=e.length;i<r;i++)Ms(t=zd(e[i]))&&""!==t&&(n&&(n+=" "),n+=t);return n}(e):Ns(e)?function(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}(e):"string"==typeof e?e:""}var Wd={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Vd=Vs("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Gd=Vs("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Yd=function(e){return Vd(e)||Gd(e)};var Kd=Object.create(null);var Qd=Vs("text,number,password,search,email,tel,url");var Jd=Object.freeze({__proto__:null,createElement:function(e,t){var n=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(e,t){return document.createElementNS(Wd[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,n){e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}}),Xd={create:function(e,t){Zd(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Zd(e,!0),Zd(t))},destroy:function(e){Zd(e,!0)}};function Zd(e,t){var n=e.data.ref;if(Ms(n)){var i=e.context,r=e.componentInstance||e.elm,o=t?null:r,s=t?void 0:r;if(Ls(n))Bl(n,i,[o],i,"template ref function");else{var a=e.data.refInFor,u="string"==typeof n||"number"==typeof n,l=bu(n),c=i.$refs;if(u||l)if(a){var d=u?c[n]:n.value;t?$s(d)&&Ys(d,r):$s(d)?d.includes(r)||d.push(r):u?(c[n]=[r],ef(i,n,c[n])):n.value=[r]}else if(u){if(t&&c[n]!==r)return;c[n]=s,ef(i,n,o)}else if(l){if(t&&n.value!==r)return;n.value=o}}}}function ef(e,t,n){var i=e._setupState;i&&Qs(i,t)&&(bu(i[t])?i[t].value=n:i[t]=n)}var tf=new Ba("",{},[]),nf=["create","activate","update","remove","destroy"];function rf(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&Ms(e.data)===Ms(t.data)&&function(e,t){if("input"!==e.tag)return!0;var n,i=Ms(n=e.data)&&Ms(n=n.attrs)&&n.type,r=Ms(n=t.data)&&Ms(n=n.attrs)&&n.type;return i===r||Qd(i)&&Qd(r)}(e,t)||As(e.isAsyncPlaceholder)&&Fs(t.asyncFactory.error))}function of(e,t,n){var i,r,o={};for(i=t;i<=n;++i)Ms(r=e[i].key)&&(o[r]=i);return o}var sf={create:af,update:af,destroy:function(e){af(e,tf)}};function af(e,t){(e.data.directives||t.data.directives)&&function(e,t){var n,i,r,o=e===tf,s=t===tf,a=lf(e.data.directives,e.context),u=lf(t.data.directives,t.context),l=[],c=[];for(n in u)i=a[n],r=u[n],i?(r.oldValue=i.value,r.oldArg=i.arg,df(r,"update",t,e),r.def&&r.def.componentUpdated&&c.push(r)):(df(r,"bind",t,e),r.def&&r.def.inserted&&l.push(r));if(l.length){var d=function(){for(var n=0;n<l.length;n++)df(l[n],"inserted",t,e)};o?el(t,"insert",d):d()}c.length&&el(t,"postpatch",(function(){for(var n=0;n<c.length;n++)df(c[n],"componentUpdated",t,e)}));if(!o)for(n in a)u[n]||df(a[n],"unbind",e,e,s)}(e,t)}var uf=Object.create(null);function lf(e,t){var n,i,r=Object.create(null);if(!e)return r;for(n=0;n<e.length;n++){if((i=e[n]).modifiers||(i.modifiers=uf),r[cf(i)]=i,t._setupState&&t._setupState.__sfc){var o=i.def||ad(t,"_setupState","v-"+i.name);i.def="function"==typeof o?{bind:o,update:o}:o}i.def=i.def||ad(t.$options,"directives",i.name)}return r}function cf(e){return e.rawName||"".concat(e.name,".").concat(Object.keys(e.modifiers||{}).join("."))}function df(e,t,n,i,r){var o=e.def&&e.def[t];if(o)try{o(n.elm,e,n,i,r)}catch(Dt){Ul(Dt,n.context,"directive ".concat(e.name," ").concat(t," hook"))}}var ff=[Xd,sf];function pf(e,t){var n=t.componentOptions;if(!(Ms(n)&&!1===n.Ctor.options.inheritAttrs||Fs(e.data.attrs)&&Fs(t.data.attrs))){var i,r,o=t.elm,s=e.data.attrs||{},a=t.data.attrs||{};for(i in(Ms(a.__ob__)||As(a._v_attr_proxy))&&(a=t.data.attrs=oa({},a)),a)r=a[i],s[i]!==r&&hf(o,i,r,t.data.pre);for(i in(Ea||Ta)&&a.value!==s.value&&hf(o,"value",a.value),s)Fs(a[i])&&(Nd(i)?o.removeAttributeNS(Ld,jd(i)):Fd(i)||o.removeAttribute(i))}}function hf(e,t,n,i){i||e.tagName.indexOf("-")>-1?vf(e,t,n):Dd(t)?Ud(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):Fd(t)?e.setAttribute(t,Ad(t,n)):Nd(t)?Ud(n)?e.removeAttributeNS(Ld,jd(t)):e.setAttributeNS(Ld,t,n):vf(e,t,n)}function vf(e,t,n){if(Ud(n))e.removeAttribute(t);else{if(Ea&&!xa&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var i=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",i)};e.addEventListener("input",i),e.__ieph=!0}e.setAttribute(t,n)}}var gf={create:pf,update:pf};function _f(e,t){var n=t.elm,i=t.data,r=e.data;if(!(Fs(i.staticClass)&&Fs(i.class)&&(Fs(r)||Fs(r.staticClass)&&Fs(r.class)))){var o=Bd(t),s=n._transitionClasses;Ms(s)&&(o=qd(o,zd(s))),o!==n._prevClass&&(n.setAttribute("class",o),n._prevClass=o)}}var mf,yf={create:_f,update:_f},bf="__r",wf="__c";function kf(e,t,n){var i=mf;return function r(){null!==t.apply(null,arguments)&&xf(e,r,n,i)}}var Sf=Wl&&!(Ia&&Number(Ia[1])<=53);function Ef(e,t,n,i){if(Sf){var r=Nc,o=t;t=o._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=r||e.timeStamp<=0||e.target.ownerDocument!==document)return o.apply(this,arguments)}}mf.addEventListener(e,t,Ra?{capture:n,passive:i}:n)}function xf(e,t,n,i){(i||mf).removeEventListener(e,t._wrapper||t,n)}function Tf(e,t){if(!Fs(e.data.on)||!Fs(t.data.on)){var n=t.data.on||{},i=e.data.on||{};mf=t.elm||e.elm,function(e){if(Ms(e[bf])){var t=Ea?"change":"input";e[t]=[].concat(e[bf],e[t]||[]),delete e[bf]}Ms(e[wf])&&(e.change=[].concat(e[wf],e.change||[]),delete e[wf])}(n),Zu(n,i,Ef,xf,kf,t.context),mf=void 0}}var Cf,Pf={create:Tf,update:Tf,destroy:function(e){return Tf(e,tf)}};function If(e,t){if(!Fs(e.data.domProps)||!Fs(t.data.domProps)){var n,i,r=t.elm,o=e.data.domProps||{},s=t.data.domProps||{};for(n in(Ms(s.__ob__)||As(s._v_attr_proxy))&&(s=t.data.domProps=oa({},s)),o)n in s||(r[n]="");for(n in s){if(i=s[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),i===o[n])continue;1===r.childNodes.length&&r.removeChild(r.childNodes[0])}if("value"===n&&"PROGRESS"!==r.tagName){r._value=i;var a=Fs(i)?"":String(i);Of(r,a)&&(r.value=a)}else if("innerHTML"===n&&Gd(r.tagName)&&Fs(r.innerHTML)){(Cf=Cf||document.createElement("div")).innerHTML="<svg>".concat(i,"</svg>");for(var u=Cf.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;u.firstChild;)r.appendChild(u.firstChild)}else if(i!==o[n])try{r[n]=i}catch(Dt){}}}}function Of(e,t){return!e.composing&&("OPTION"===e.tagName||function(e,t){var n=!0;try{n=document.activeElement!==e}catch(Dt){}return n&&e.value!==t}(e,t)||function(e,t){var n=e.value,i=e._vModifiers;if(Ms(i)){if(i.number)return Ws(n)!==Ws(t);if(i.trim)return n.trim()!==t.trim()}return n!==t}(e,t))}var Rf={create:If,update:If},$f=Js((function(e){var t={},n=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach((function(e){if(e){var i=e.split(n);i.length>1&&(t[i[0].trim()]=i[1].trim())}})),t}));function Ff(e){var t=Mf(e.style);return e.staticStyle?oa(e.staticStyle,t):t}function Mf(e){return Array.isArray(e)?sa(e):"string"==typeof e?$f(e):e}var Af,Df=/^--/,Lf=/\s*!important$/,Nf=function(e,t,n){if(Df.test(t))e.style.setProperty(t,n);else if(Lf.test(n))e.style.setProperty(na(t),n.replace(Lf,""),"important");else{var i=Uf(t);if(Array.isArray(n))for(var r=0,o=n.length;r<o;r++)e.style[i]=n[r];else e.style[i]=n}},jf=["Webkit","Moz","ms"],Uf=Js((function(e){if(Af=Af||document.createElement("div").style,"filter"!==(e=Zs(e))&&e in Af)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<jf.length;n++){var i=jf[n]+t;if(i in Af)return i}}));function Bf(e,t){var n=t.data,i=e.data;if(!(Fs(n.staticStyle)&&Fs(n.style)&&Fs(i.staticStyle)&&Fs(i.style))){var r,o,s=t.elm,a=i.staticStyle,u=i.normalizedStyle||i.style||{},l=a||u,c=Mf(t.data.style)||{};t.data.normalizedStyle=Ms(c.__ob__)?oa({},c):c;var d=function(e,t){for(var n,i={},r=e;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(n=Ff(r.data))&&oa(i,n);(n=Ff(e.data))&&oa(i,n);for(var o=e;o=o.parent;)o.data&&(n=Ff(o.data))&&oa(i,n);return i}(t);for(o in l)Fs(d[o])&&Nf(s,o,"");for(o in d)r=d[o],Nf(s,o,null==r?"":r)}}var Hf={create:Bf,update:Bf},qf=/\s+/;function zf(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(qf).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var n=" ".concat(e.getAttribute("class")||""," ");n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function Wf(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(qf).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" ".concat(e.getAttribute("class")||""," "),i=" "+t+" ";n.indexOf(i)>=0;)n=n.replace(i," ");(n=n.trim())?e.setAttribute("class",n):e.removeAttribute("class")}}function Vf(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&oa(t,Gf(e.name||"v")),oa(t,e),t}return"string"==typeof e?Gf(e):void 0}}var Gf=Js((function(e){return{enterClass:"".concat(e,"-enter"),enterToClass:"".concat(e,"-enter-to"),enterActiveClass:"".concat(e,"-enter-active"),leaveClass:"".concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-to"),leaveActiveClass:"".concat(e,"-leave-active")}})),Yf=ka&&!xa,Kf="transition",Qf="animation",Jf="transition",Xf="transitionend",Zf="animation",ep="animationend";Yf&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Jf="WebkitTransition",Xf="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Zf="WebkitAnimation",ep="webkitAnimationEnd"));var tp=ka?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function np(e){tp((function(){tp(e)}))}function ip(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),zf(e,t))}function rp(e,t){e._transitionClasses&&Ys(e._transitionClasses,t),Wf(e,t)}function op(e,t,n){var i=ap(e,t),r=i.type,o=i.timeout,s=i.propCount;if(!r)return n();var a=r===Kf?Xf:ep,u=0,l=function(){e.removeEventListener(a,c),n()},c=function(t){t.target===e&&++u>=s&&l()};setTimeout((function(){u<s&&l()}),o+1),e.addEventListener(a,c)}var sp=/\b(transform|all)(,|$)/;function ap(e,t){var n,i=window.getComputedStyle(e),r=(i[Jf+"Delay"]||"").split(", "),o=(i[Jf+"Duration"]||"").split(", "),s=up(r,o),a=(i[Zf+"Delay"]||"").split(", "),u=(i[Zf+"Duration"]||"").split(", "),l=up(a,u),c=0,d=0;return t===Kf?s>0&&(n=Kf,c=s,d=o.length):t===Qf?l>0&&(n=Qf,c=l,d=u.length):d=(n=(c=Math.max(s,l))>0?s>l?Kf:Qf:null)?n===Kf?o.length:u.length:0,{type:n,timeout:c,propCount:d,hasTransform:n===Kf&&sp.test(i[Jf+"Property"])}}function up(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map((function(t,n){return lp(t)+lp(e[n])})))}function lp(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function cp(e,t){var n=e.elm;Ms(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var i=Vf(e.data.transition);if(!Fs(i)&&!Ms(n._enterCb)&&1===n.nodeType){for(var r=i.css,o=i.type,s=i.enterClass,a=i.enterToClass,u=i.enterActiveClass,l=i.appearClass,c=i.appearToClass,d=i.appearActiveClass,f=i.beforeEnter,p=i.enter,h=i.afterEnter,v=i.enterCancelled,g=i.beforeAppear,_=i.appear,m=i.afterAppear,y=i.appearCancelled,b=i.duration,w=Tc,k=Tc.$vnode;k&&k.parent;)w=k.context,k=k.parent;var S=!w._isMounted||!e.isRootInsert;if(!S||_||""===_){var E=S&&l?l:s,x=S&&d?d:u,T=S&&c?c:a,C=S&&g||f,P=S&&Ls(_)?_:p,I=S&&m||h,O=S&&y||v,R=Ws(Ns(b)?b.enter:b),$=!1!==r&&!xa,F=pp(P),M=n._enterCb=fa((function(){$&&(rp(n,T),rp(n,x)),M.cancelled?($&&rp(n,E),O&&O(n)):I&&I(n),n._enterCb=null}));e.data.show||el(e,"insert",(function(){var t=n.parentNode,i=t&&t._pending&&t._pending[e.key];i&&i.tag===e.tag&&i.elm._leaveCb&&i.elm._leaveCb(),P&&P(n,M)})),C&&C(n),$&&(ip(n,E),ip(n,x),np((function(){rp(n,E),M.cancelled||(ip(n,T),F||(fp(R)?setTimeout(M,R):op(n,o,M)))}))),e.data.show&&(t&&t(),P&&P(n,M)),$||F||M()}}}function dp(e,t){var n=e.elm;Ms(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var i=Vf(e.data.transition);if(Fs(i)||1!==n.nodeType)return t();if(!Ms(n._leaveCb)){var r=i.css,o=i.type,s=i.leaveClass,a=i.leaveToClass,u=i.leaveActiveClass,l=i.beforeLeave,c=i.leave,d=i.afterLeave,f=i.leaveCancelled,p=i.delayLeave,h=i.duration,v=!1!==r&&!xa,g=pp(c),_=Ws(Ns(h)?h.leave:h),m=n._leaveCb=fa((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),v&&(rp(n,a),rp(n,u)),m.cancelled?(v&&rp(n,s),f&&f(n)):(t(),d&&d(n)),n._leaveCb=null}));p?p(y):y()}function y(){m.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),l&&l(n),v&&(ip(n,s),ip(n,u),np((function(){rp(n,s),m.cancelled||(ip(n,a),g||(fp(_)?setTimeout(m,_):op(n,o,m)))}))),c&&c(n,m),v||g||m())}}function fp(e){return"number"==typeof e&&!isNaN(e)}function pp(e){if(Fs(e))return!1;var t=e.fns;return Ms(t)?pp(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function hp(e,t){!0!==t.data.show&&cp(t)}var vp=function(e){var t,n,i={},r=e.modules,o=e.nodeOps;for(t=0;t<nf.length;++t)for(i[nf[t]]=[],n=0;n<r.length;++n)Ms(r[n][nf[t]])&&i[nf[t]].push(r[n][nf[t]]);function s(e){var t=o.parentNode(e);Ms(t)&&o.removeChild(t,e)}function a(e,t,n,r,s,a,d){if(Ms(e.elm)&&Ms(a)&&(e=a[d]=za(e)),e.isRootInsert=!s,!function(e,t,n,r){var o=e.data;if(Ms(o)){var s=Ms(e.componentInstance)&&o.keepAlive;if(Ms(o=o.hook)&&Ms(o=o.init)&&o(e,!1),Ms(e.componentInstance))return u(e,t),l(n,e.elm,r),As(s)&&function(e,t,n,r){var o,s=e;for(;s.componentInstance;)if(Ms(o=(s=s.componentInstance._vnode).data)&&Ms(o=o.transition)){for(o=0;o<i.activate.length;++o)i.activate[o](tf,s);t.push(s);break}l(n,e.elm,r)}(e,t,n,r),!0}}(e,t,n,r)){var h=e.data,v=e.children,g=e.tag;Ms(g)?(e.elm=e.ns?o.createElementNS(e.ns,g):o.createElement(g,e),p(e),c(e,v,t),Ms(h)&&f(e,t),l(n,e.elm,r)):As(e.isComment)?(e.elm=o.createComment(e.text),l(n,e.elm,r)):(e.elm=o.createTextNode(e.text),l(n,e.elm,r))}}function u(e,t){Ms(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,d(e)?(f(e,t),p(e)):(Zd(e),t.push(e))}function l(e,t,n){Ms(e)&&(Ms(n)?o.parentNode(n)===e&&o.insertBefore(e,t,n):o.appendChild(e,t))}function c(e,t,n){if($s(t))for(var i=0;i<t.length;++i)a(t[i],n,e.elm,null,!0,t,i);else Ds(e.text)&&o.appendChild(e.elm,o.createTextNode(String(e.text)))}function d(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return Ms(e.tag)}function f(e,n){for(var r=0;r<i.create.length;++r)i.create[r](tf,e);Ms(t=e.data.hook)&&(Ms(t.create)&&t.create(tf,e),Ms(t.insert)&&n.push(e))}function p(e){var t;if(Ms(t=e.fnScopeId))o.setStyleScope(e.elm,t);else for(var n=e;n;)Ms(t=n.context)&&Ms(t=t.$options._scopeId)&&o.setStyleScope(e.elm,t),n=n.parent;Ms(t=Tc)&&t!==e.context&&t!==e.fnContext&&Ms(t=t.$options._scopeId)&&o.setStyleScope(e.elm,t)}function h(e,t,n,i,r,o){for(;i<=r;++i)a(n[i],o,e,t,!1,n,i)}function v(e){var t,n,r=e.data;if(Ms(r))for(Ms(t=r.hook)&&Ms(t=t.destroy)&&t(e),t=0;t<i.destroy.length;++t)i.destroy[t](e);if(Ms(t=e.children))for(n=0;n<e.children.length;++n)v(e.children[n])}function g(e,t,n){for(;t<=n;++t){var i=e[t];Ms(i)&&(Ms(i.tag)?(_(i),v(i)):s(i.elm))}}function _(e,t){if(Ms(t)||Ms(e.data)){var n,r=i.remove.length+1;for(Ms(t)?t.listeners+=r:t=function(e,t){function n(){0==--n.listeners&&s(e)}return n.listeners=t,n}(e.elm,r),Ms(n=e.componentInstance)&&Ms(n=n._vnode)&&Ms(n.data)&&_(n,t),n=0;n<i.remove.length;++n)i.remove[n](e,t);Ms(n=e.data.hook)&&Ms(n=n.remove)?n(e,t):t()}else s(e.elm)}function m(e,t,n,i){for(var r=n;r<i;r++){var o=t[r];if(Ms(o)&&rf(e,o))return r}}function y(e,t,n,r,s,u){if(e!==t){Ms(t.elm)&&Ms(r)&&(t=r[s]=za(t));var l=t.elm=e.elm;if(As(e.isAsyncPlaceholder))Ms(t.asyncFactory.resolved)?k(e.elm,t,n):t.isAsyncPlaceholder=!0;else if(As(t.isStatic)&&As(e.isStatic)&&t.key===e.key&&(As(t.isCloned)||As(t.isOnce)))t.componentInstance=e.componentInstance;else{var c,f=t.data;Ms(f)&&Ms(c=f.hook)&&Ms(c=c.prepatch)&&c(e,t);var p=e.children,v=t.children;if(Ms(f)&&d(t)){for(c=0;c<i.update.length;++c)i.update[c](e,t);Ms(c=f.hook)&&Ms(c=c.update)&&c(e,t)}Fs(t.text)?Ms(p)&&Ms(v)?p!==v&&function(e,t,n,i,r){for(var s,u,l,c=0,d=0,f=t.length-1,p=t[0],v=t[f],_=n.length-1,b=n[0],w=n[_],k=!r;c<=f&&d<=_;)Fs(p)?p=t[++c]:Fs(v)?v=t[--f]:rf(p,b)?(y(p,b,i,n,d),p=t[++c],b=n[++d]):rf(v,w)?(y(v,w,i,n,_),v=t[--f],w=n[--_]):rf(p,w)?(y(p,w,i,n,_),k&&o.insertBefore(e,p.elm,o.nextSibling(v.elm)),p=t[++c],w=n[--_]):rf(v,b)?(y(v,b,i,n,d),k&&o.insertBefore(e,v.elm,p.elm),v=t[--f],b=n[++d]):(Fs(s)&&(s=of(t,c,f)),Fs(u=Ms(b.key)?s[b.key]:m(b,t,c,f))?a(b,i,e,p.elm,!1,n,d):rf(l=t[u],b)?(y(l,b,i,n,d),t[u]=void 0,k&&o.insertBefore(e,l.elm,p.elm)):a(b,i,e,p.elm,!1,n,d),b=n[++d]);c>f?h(e,Fs(n[_+1])?null:n[_+1].elm,n,d,_,i):d>_&&g(t,c,f)}(l,p,v,n,u):Ms(v)?(Ms(e.text)&&o.setTextContent(l,""),h(l,null,v,0,v.length-1,n)):Ms(p)?g(p,0,p.length-1):Ms(e.text)&&o.setTextContent(l,""):e.text!==t.text&&o.setTextContent(l,t.text),Ms(f)&&Ms(c=f.hook)&&Ms(c=c.postpatch)&&c(e,t)}}}function b(e,t,n){if(As(n)&&Ms(e.parent))e.parent.data.pendingInsert=t;else for(var i=0;i<t.length;++i)t[i].data.hook.insert(t[i])}var w=Vs("attrs,class,staticClass,staticStyle,key");function k(e,t,n,i){var r,o=t.tag,s=t.data,a=t.children;if(i=i||s&&s.pre,t.elm=e,As(t.isComment)&&Ms(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(Ms(s)&&(Ms(r=s.hook)&&Ms(r=r.init)&&r(t,!0),Ms(r=t.componentInstance)))return u(t,n),!0;if(Ms(o)){if(Ms(a))if(e.hasChildNodes())if(Ms(r=s)&&Ms(r=r.domProps)&&Ms(r=r.innerHTML)){if(r!==e.innerHTML)return!1}else{for(var l=!0,d=e.firstChild,p=0;p<a.length;p++){if(!d||!k(d,a[p],n,i)){l=!1;break}d=d.nextSibling}if(!l||d)return!1}else c(t,a,n);if(Ms(s)){var h=!1;for(var v in s)if(!w(v)){h=!0,f(t,n);break}!h&&s.class&&_c(s.class)}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,n,r){if(!Fs(t)){var s,u=!1,l=[];if(Fs(e))u=!0,a(t,l);else{var c=Ms(e.nodeType);if(!c&&rf(e,t))y(e,t,l,null,null,r);else{if(c){if(1===e.nodeType&&e.hasAttribute(ha)&&(e.removeAttribute(ha),n=!0),As(n)&&k(e,t,l))return b(t,l,!0),e;s=e,e=new Ba(o.tagName(s).toLowerCase(),{},[],void 0,s)}var f=e.elm,p=o.parentNode(f);if(a(t,l,f._leaveCb?null:p,o.nextSibling(f)),Ms(t.parent))for(var h=t.parent,_=d(t);h;){for(var m=0;m<i.destroy.length;++m)i.destroy[m](h);if(h.elm=t.elm,_){for(var w=0;w<i.create.length;++w)i.create[w](tf,h);var S=h.data.hook.insert;if(S.merged)for(var E=S.fns.slice(1),x=0;x<E.length;x++)E[x]()}else Zd(h);h=h.parent}Ms(p)?g([e],0,0):Ms(e.tag)&&v(e)}}return b(t,l,u),t.elm}Ms(e)&&v(e)}}({nodeOps:Jd,modules:[gf,yf,Pf,Rf,Hf,ka?{create:hp,activate:hp,remove:function(e,t){!0!==e.data.show?dp(e,t):t()}}:{}].concat(ff)});xa&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&Sp(e,"input")}));var gp={inserted:function(e,t,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?el(n,"postpatch",(function(){gp.componentUpdated(e,t,n)})):_p(e,t,n.context),e._vOptions=[].map.call(e.options,bp)):("textarea"===n.tag||Qd(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",wp),e.addEventListener("compositionend",kp),e.addEventListener("change",kp),xa&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){_p(e,t,n.context);var i=e._vOptions,r=e._vOptions=[].map.call(e.options,bp);if(r.some((function(e,t){return!ca(e,i[t])})))(e.multiple?t.value.some((function(e){return yp(e,r)})):t.value!==t.oldValue&&yp(t.value,r))&&Sp(e,"change")}}};function _p(e,t,n){mp(e,t),(Ea||Ta)&&setTimeout((function(){mp(e,t)}),0)}function mp(e,t,n){var i=t.value,r=e.multiple;if(!r||Array.isArray(i)){for(var o,s,a=0,u=e.options.length;a<u;a++)if(s=e.options[a],r)o=da(i,bp(s))>-1,s.selected!==o&&(s.selected=o);else if(ca(bp(s),i))return void(e.selectedIndex!==a&&(e.selectedIndex=a));r||(e.selectedIndex=-1)}}function yp(e,t){return t.every((function(t){return!ca(t,e)}))}function bp(e){return"_value"in e?e._value:e.value}function wp(e){e.target.composing=!0}function kp(e){e.target.composing&&(e.target.composing=!1,Sp(e.target,"input"))}function Sp(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function Ep(e){return!e.componentInstance||e.data&&e.data.transition?e:Ep(e.componentInstance._vnode)}var xp={model:gp,show:{bind:function(e,t,n){var i=t.value,r=(n=Ep(n)).data&&n.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;i&&r?(n.data.show=!0,cp(n,(function(){e.style.display=o}))):e.style.display=i?o:"none"},update:function(e,t,n){var i=t.value;!i!=!t.oldValue&&((n=Ep(n)).data&&n.data.transition?(n.data.show=!0,i?cp(n,(function(){e.style.display=e.__vOriginalDisplay})):dp(n,(function(){e.style.display="none"}))):e.style.display=i?e.__vOriginalDisplay:"none")},unbind:function(e,t,n,i,r){r||(e.style.display=e.__vOriginalDisplay)}}},Tp={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Cp(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?Cp(Ml(t.children)):e}function Pp(e){var t={},n=e.$options;for(var i in n.propsData)t[i]=e[i];var r=n._parentListeners;for(var i in r)t[Zs(i)]=r[i];return t}function Ip(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}var Op=function(e){return e.tag||kl(e)},Rp=function(e){return"show"===e.name},$p={name:"transition",props:Tp,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(Op)).length){var i=this.mode,r=n[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return r;var o=Cp(r);if(!o)return r;if(this._leaving)return Ip(e,r);var s="__transition-".concat(this._uid,"-");o.key=null==o.key?o.isComment?s+"comment":s+o.tag:Ds(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var a=(o.data||(o.data={})).transition=Pp(this),u=this._vnode,l=Cp(u);if(o.data.directives&&o.data.directives.some(Rp)&&(o.data.show=!0),l&&l.data&&!function(e,t){return t.key===e.key&&t.tag===e.tag}(o,l)&&!kl(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var c=l.data.transition=oa({},a);if("out-in"===i)return this._leaving=!0,el(c,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),Ip(e,r);if("in-out"===i){if(kl(o))return u;var d,f=function(){d()};el(a,"afterEnter",f),el(a,"enterCancelled",f),el(c,"delayLeave",(function(e){d=e}))}}return r}}},Fp=oa({tag:String,moveClass:String},Tp);delete Fp.mode;var Mp={props:Fp,beforeMount:function(){var e=this,t=this._update;this._update=function(n,i){var r=Cc(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,r(),t.call(e,n,i)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],o=this.children=[],s=Pp(this),a=0;a<r.length;a++){(c=r[a]).tag&&null!=c.key&&0!==String(c.key).indexOf("__vlist")&&(o.push(c),n[c.key]=c,(c.data||(c.data={})).transition=s)}if(i){var u=[],l=[];for(a=0;a<i.length;a++){var c;(c=i[a]).data.transition=s,c.data.pos=c.elm.getBoundingClientRect(),n[c.key]?u.push(c):l.push(c)}this.kept=e(t,null,u),this.removed=l}return e(t,null,o)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(Ap),e.forEach(Dp),e.forEach(Lp),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var n=e.elm,i=n.style;ip(n,t),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(Xf,n._moveCb=function e(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(Xf,e),n._moveCb=null,rp(n,t))})}})))},methods:{hasMove:function(e,t){if(!Yf)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){Wf(n,e)})),zf(n,t),n.style.display="none",this.$el.appendChild(n);var i=ap(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}};function Ap(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Dp(e){e.data.newPos=e.elm.getBoundingClientRect()}function Lp(e){var t=e.data.pos,n=e.data.newPos,i=t.left-n.left,r=t.top-n.top;if(i||r){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate(".concat(i,"px,").concat(r,"px)"),o.transitionDuration="0s"}}var Np={Transition:$p,TransitionGroup:Mp};Sd.config.mustUseProp=function(e,t,n){return"value"===n&&$d(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},Sd.config.isReservedTag=Yd,Sd.config.isReservedAttr=Rd,Sd.config.getTagNamespace=function(e){return Gd(e)?"svg":"math"===e?"math":void 0},Sd.config.isUnknownElement=function(e){if(!ka)return!0;if(Yd(e))return!1;if(e=e.toLowerCase(),null!=Kd[e])return Kd[e];var t=document.createElement(e);return e.indexOf("-")>-1?Kd[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Kd[e]=/HTMLUnknownElement/.test(t.toString())},oa(Sd.options.directives,xp),oa(Sd.options.components,Np),Sd.prototype.__patch__=ka?vp:aa,Sd.prototype.$mount=function(e,t){return function(e,t,n){var i;e.$el=t,e.$options.render||(e.$options.render=Ha),Rc(e,"beforeMount"),i=function(){e._update(e._render(),n)},new wc(e,i,aa,{before:function(){e._isMounted&&!e._isDestroyed&&Rc(e,"beforeUpdate")}},!0),n=!1;var r=e._preWatchers;if(r)for(var o=0;o<r.length;o++)r[o].run();return null==e.$vnode&&(e._isMounted=!0,Rc(e,"mounted")),e}(this,e=e&&ka?function(e){if("string"==typeof e){return document.querySelector(e)||document.createElement("div")}return e}(e):void 0,t)},ka&&setTimeout((function(){_a.devtools&&Ma&&Ma.emit("init",Sd)}),0);const jp=Object.freeze(Object.defineProperty({__proto__:null,EffectScope:zu,computed:Mu,customRef:function(e){var t=new Ya,n=e((function(){t.depend()}),(function(){t.notify()})),i=n.get,r=n.set,o={get value(){return i()},set value(e){r(e)}};return ya(o,yu,!0),o},default:Sd,defineAsyncComponent:function(e){Ls(e)&&(e={loader:e});var t=e.loader,n=e.loadingComponent,i=e.errorComponent,r=e.delay,o=void 0===r?200:r,s=e.timeout;e.suspensible;var a=e.onError,u=null,l=0,c=function(){var e;return u||(e=u=t().catch((function(e){if(e=e instanceof Error?e:new Error(String(e)),a)return new Promise((function(t,n){a(e,(function(){return t((l++,u=null,c()))}),(function(){return n(e)}),l+1)}));throw e})).then((function(t){return e!==u&&u?u:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),t)})))};return function(){return{component:c(),delay:o,timeout:s,error:i,loading:n}}},defineComponent:vc,del:lu,effectScope:Wu,getCurrentInstance:ja,getCurrentScope:Vu,h:jl,inject:Qu,isProxy:function(e){return hu(e)||gu(e)},isReactive:hu,isReadonly:gu,isRef:bu,isShallow:vu,markRaw:mu,mergeDefaults:function(e,t){var n=$s(e)?e.reduce((function(e,t){return e[t]={},e}),{}):e;for(var i in t){var r=n[i];r?$s(r)||Ls(r)?n[i]={type:r,default:t[i]}:r.default=t[i]:null===r&&(n[i]={default:t[i]})}return n},nextTick:Zl,onActivated:uc,onBeforeMount:nc,onBeforeUnmount:sc,onBeforeUpdate:rc,onDeactivated:lc,onErrorCaptured:function(e,t){void 0===t&&(t=Na),pc(e,t)},onMounted:ic,onRenderTracked:dc,onRenderTriggered:fc,onScopeDispose:Gu,onServerPrefetch:cc,onUnmounted:ac,onUpdated:oc,provide:Yu,proxyRefs:function(e){if(hu(e))return e;for(var t={},n=Object.keys(e),i=0;i<n.length;i++)Tu(t,e,n[i]);return t},reactive:du,readonly:Ru,ref:wu,set:uu,shallowReactive:fu,shallowReadonly:function(e){return $u(e,!0)},shallowRef:ku,toRaw:_u,toRef:Pu,toRefs:Cu,triggerRef:Eu,unref:xu,useAttrs:function(){return Rl().attrs},useCssModule:function(e){if(void 0===e&&(e="$style"),!Na)return Rs;var t=Na[e];return t||Rs},useCssVars:ec,useListeners:function(){return Rl().listeners},useSlots:Ol,version:hc,watch:Hu,watchEffect:function(e,t){return qu(e,null,t)},watchPostEffect:ju,watchSyncEffect:function(e,t){return qu(e,null,{flush:"sync"})}},Symbol.toStringTag,{value:"Module"})),Up=new Proxy({},{set:(e,t,n)=>(Sd.set(e,t,n),m.models.customization.computeProperties(),!0),deleteProperty:(e,t)=>(t in e&&(Sd.delete(e,t),m.models.customization.computeProperties()),!0)});function Bp(e={}){Object.entries(e).forEach((([e,t])=>{null===t?delete Up[e]:Up[e]=t}))}const Hp=du({experiments:[],visibilityOverride:Up,disableAppTransitions:!1,tabFocused:document.hasFocus(),tabVisible:"visible"===document.visibilityState,appsReady:!1,allowAwaitingAppsReadySmoothReflow:!1,dashboardOverlayActive:!1,introductionActive:!1,oneTimeLoginActive:!1,windowDimensions:{height:window.innerHeight,width:window.innerWidth,resizing:!1},onboardingRefreshing:!1,weatherDashAppWidth:0,calendarDashAppWidth:0,readyForWidgets:!1,syncSettingsComplete:!1});let qp;Hu((()=>Hp.appsReady),(e=>{e?setTimeout((()=>{Hp.allowAwaitingAppsReadySmoothReflow=!0}),500):Hp.allowAwaitingAppsReadySmoothReflow=!1})),window.addEventListener("resize",(()=>{Hp.windowDimensions.height=window.innerHeight,Hp.windowDimensions.width=window.innerWidth,Hp.windowDimensions.resizing=!0,clearTimeout(qp),qp=setTimeout((()=>{Hp.windowDimensions.resizing=!1}),200)})),window.addEventListener("focus",(()=>{Hp.tabFocused=!0})),window.addEventListener("blur",(()=>{Hp.tabFocused=!1})),window.addEventListener("visibilitychange",(()=>{Hp.tabVisible="visible"===document.visibilityState}));const zp=n();class Wp extends i{constructor(...e){super(...e),this.tabId=zp}}const Vp="analytics:batchEventNames",Gp=e=>localStorage.getObject(e)||Yp(),Yp=()=>({date:L(),count:0,firstLoad:Date.now()}),Kp="calculateUnregisteredDashboardExperiment",Qp="unregisteredDashboardExperimentRate",Jp="unregisteredDashboardExperimentVariant",Xp=()=>{var e;const t=localStorage.getItem("unregistered"),n=m.conditionalFeatures.featureEnabled("team"),i=n&&m.models.teamInfo&&m.models.teamInfo.get("team")&&(null==(e=m.models.teamInfo.get("team"))?void 0:e.userIsAdmin),r=n&&!i,o=m.conditionalFeatures.featureEnabled("plus");return t?"unregistered":i?"teamAdmin":r?"teamMember":o?"plus":"free"},Zp=()=>!!localStorage.getItem("unregistered"),eh=()=>{if(localStorage.getItem("token"))return!1;const e=localStorage.getObject("momentum-customization-1");return void 0!==(null==e?void 0:e.displayname)},th=()=>{let e=localStorage.getItem("user_uuid")||localStorage.getItem("userId");if(e)return e;const t=localStorage.getItem("token");if(!t)return null;const n=r(t);return n?(e=n.user_uuid||n.user_guid,e?e.toLowerCase():null):null},nh=()=>{const e=localStorage.getItem("token");if(!e)return null;const t=r(e);return t&&t.authenticated_user&&"object"==typeof t.authenticated_user?t.authenticated_user:null},ih=Object.freeze(Object.defineProperty({__proto__:null,getAuthenticatedUser:nh,getUserState:Xp,getUserUuid:th,userIsLegacyUnregistered:eh,userIsUnregistered:Zp},Symbol.toStringTag,{value:"Module"}));var rh="2.25.3";const oh=()=>location.host.includes("localhost:")||ye(),sh=(e,t)=>{const n=e.split(".").map(Number),i=t.split(".").map(Number);for(let r=0;r<n.length;r++){if((n[r]??-1)>(i[r]??-1))return 1;if((n[r]??-1)<(i[r]??-1))return-1}return 0},ah=()=>void 0===m.models.customization.get("displayname")&&!m.isLoggedIn()||localStorage.getItem("doLoginOnNextLoad")||localStorage.getItem("registrationStatePending")||localStorage.getItem("loginParams")||localStorage.getItem("pendingLoginState")||localStorage.getItem("tokenNeeded")&&!localStorage.getItem("token"),uh=()=>{const e=m.models.teamInfo.get("team");return m.conditionalFeatures.featureEnabled("team")&&e?e.type===h.TEAM?"Team":"Community":m.conditionalFeatures.featureEnabled("plus")?"Plus":"Free"},lh=Object.freeze(Object.defineProperty({__proto__:null,compareVersions:sh,currentVersionIsNewerThan:e=>1===sh(rh,e),getProduct:uh,isWebApp:oh,shouldShowIntroduction:ah},Symbol.toStringTag,{value:"Module"})),ch="deferRequestService:lastAllowed",dh=1e4,fh=36e5;class ph{constructor(e){this.manualResolve=null,this.deferralPromise=Promise.race([...e,new Promise((e=>{this.manualResolve=e}))])}resolveDeferral(){var e;null==(e=this.manualResolve)||e.call(this)}}function hh(e){return!!Vu()&&(Gu(e),!0)}function vh(e){return"function"==typeof e?e():xu(e)}Sd.util.warn;const gh="undefined"!=typeof window&&"undefined"!=typeof document;"undefined"!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope);const _h=e=>null!=e,mh=Object.prototype.toString,yh=e=>"[object Object]"===mh.call(e),bh=()=>{};function wh(e,t){return function(...n){return new Promise(((i,r)=>{Promise.resolve(e((()=>t.apply(this,n)),{fn:t,thisArg:this,args:n})).then(i).catch(r)}))}}const kh=e=>e();function Sh(e,t={}){let n,i,r=bh;const o=e=>{clearTimeout(e),r(),r=bh};return s=>{const a=vh(e),u=vh(t.maxWait);return n&&o(n),a<=0||void 0!==u&&u<=0?(i&&(o(i),i=null),Promise.resolve(s())):new Promise(((e,l)=>{r=t.rejectOnCancel?l:e,u&&!i&&(i=setTimeout((()=>{n&&o(n),i=null,e(s())}),u)),n=setTimeout((()=>{i&&o(i),i=null,e(s())}),a)}))}}function Eh(e,t=!1,n="Timeout"){return new Promise(((i,r)=>{t?setTimeout((()=>r(n)),e):setTimeout(i,e)}))}function xh(e){return ja()}function Th(e,t=200,n={}){return wh(Sh(t,n),e)}function Ch(e,t=!0,n){xh()?ic(e,n):t?e():Zl(e)}function Ph(e,t){xh()&&ac(e,t)}function Ih(e,t=!1){function n(n,{flush:i="sync",deep:r=!1,timeout:o,throwOnTimeout:s}={}){let a=null;const u=[new Promise((o=>{a=Hu(e,(e=>{n(e)!==t&&(null==a||a(),o(e))}),{flush:i,deep:r,immediate:!0})}))];return null!=o&&u.push(Eh(o,s).then((()=>vh(e))).finally((()=>null==a?void 0:a()))),Promise.race(u)}function i(i,r){if(!bu(i))return n((e=>e===i),r);const{flush:o="sync",deep:s=!1,timeout:a,throwOnTimeout:u}=null!=r?r:{};let l=null;const c=[new Promise((n=>{l=Hu([e,i],(([e,i])=>{t!==(e===i)&&(null==l||l(),n(e))}),{flush:o,deep:s,immediate:!0})}))];return null!=a&&c.push(Eh(a,u).then((()=>vh(e))).finally((()=>(null==l||l(),vh(e))))),Promise.race(c)}function r(e){return o(1,e)}function o(e=1,t){let i=-1;return n((()=>(i+=1,i>=e)),t)}if(Array.isArray(vh(e))){return{toMatch:n,toContains:function(e,t){return n((t=>{const n=Array.from(t);return n.includes(e)||n.includes(vh(e))}),t)},changed:r,changedTimes:o,get not(){return Ih(e,!t)}}}return{toMatch:n,toBe:i,toBeTruthy:function(e){return n((e=>Boolean(e)),e)},toBeNull:function(e){return i(null,e)},toBeNaN:function(e){return n(Number.isNaN,e)},toBeUndefined:function(e){return i(void 0,e)},changed:r,changedTimes:o,get not(){return Ih(e,!t)}}}function Oh(e){return Ih(e)}function Rh(e,t,n={}){const{debounce:i=0,maxWait:r,...o}=n;return function(e,t,n={}){const{eventFilter:i=kh,...r}=n;return Hu(e,wh(i,t),r)}(e,t,{...o,eventFilter:Sh(i,{maxWait:r})})}function $h(e,t,n){return Hu(e,t,{...n,immediate:!0})}const Fh=e=>new Promise((t=>{let n;Hu((()=>Hp.tabVisible),(i=>{i?n=window.setTimeout(t,e):window.clearTimeout(n)}),{immediate:!0})})),Mh=()=>new Promise((e=>{Oh((()=>Hp.appsReady)).toBe(!0).then((()=>{m.once("globalEvent:keydown globalEvent:keyup globalEvent:click",e)}))})),Ah=new ph([Fh(1e4),Mh()]);var Dh={URL_ROOT_API:"https://api.momentumdash.com/",URL_ROOT_ACCOUNT:"https://account.momentumdash.com/",URL_ROOT_MARKETING:"https://www.momentumdash.com/",VERSION:"2.25.3",PLATFORM:"Chrome",PARTNER_ID:0,MODE:"production",BETA:!1};const Lh="phc_GDjwotW3KHI0SgY928miUIOMOvyXlDe5VOD0tzkvi1M",Nh="phc_2L4lLfsYM8bDTchbBH0QcQRLVgDKgPzea3B96Q4YSW5",jh="e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",Uh=!!localStorage.getItem("disableAnalytics"),Bh="production"===Dh.MODE;let Hh=null;const qh=new Wp("tab.missingPosthogHost",1e-5);class zh{constructor(e={}){this.defaults=e}static capture(e,t,n){Jh(e,t,n)}static batchCapture(e,t){Vh(e,t)}static deferredCapture(e,t){Gh(e,t)}static identify(){return Uh?Promise.resolve():Yh().then((e=>{var t,n;let i=null==(n=null==(t=Is.persistence)?void 0:t.props)?void 0:n.$device_id;e&&(Is.identify(e),function(e){if(!localStorage.getItem("posthog:marketingSite:identified")){let t=function(e){"posthog:identified"===e.data&&(localStorage.setItem("posthog:marketingSite:identified",!0),window.removeEventListener("message",t))};window.addEventListener("message",t),Wh("distinctId="+e)}}(e),i=e),Is.get_distinct_id()===jh&&i&&Is.register_once({distinct_id:i}),function(){var e;null==(e=Se().runtime)||e.setUninstallURL(Dh.URL_ROOT_API+`account/uninstall?userUuid=${th()}`)}()}))}static sendBatchEventsIfNeeded(){!function(){let e=localStorage.getObject(Vp)||[];e.forEach((t=>{const n="analytics:"+re(t);let{count:i,firstLoad:r,date:o,properties:s}=Gp(n);o!==L()&&(i>0&&Jh(t,{...s,$time:Math.round(r/1e3),count:i},{timestamp:new Date(r)}),localStorage.removeItem(n),e=e.filter((e=>e!==t)))})),localStorage.setObject(Vp,e)}()}static reset(){return Uh?Promise.resolve():(Is.reset(!0),new Promise((e=>{function t(e){"posthog:reset"===e.data&&n()}function n(){window.removeEventListener("message",t),e()}window.addEventListener("message",t),setTimeout(n,2e3),Wh("reset=true")})))}static disableCaptureExceptFeatures(e){Hh=e}static enableCaptureForAllFeatures(){Hh=null}static async getDistinctId(e){const t=await Yh(e);return console.log(t),t}capture(e,t,n){Jh.call(this,e,Object.assign({},this.defaults,t),n)}batchCapture(e,t){Vh(e,t)}deferredCapture(e,t){Gh(e,Object.assign({},this.defaults,t))}}function Wh(e){const t=Dh.URL_ROOT_MARKETING;let n=document.getElementById("analytics-identify");n||(n=document.createElement("iframe"),n.setAttribute("id","analytics-identify"),document.documentElement.appendChild(n)),n.setAttribute("src",t+"posthog?"+e)}function Vh(e,t){((e,t)=>{const n="analytics:"+re(e),i=Gp(n);i.date!==L()&&console.warn(`This event (${e}) was dated for a previous day and has not been sent. Previous day's data needs to be sent before being captured for today`),i.properties={...i.properties,...t},i.count+=1,localStorage.setObject(n,i);const r=localStorage.getObject(Vp)||[];r.includes(e)||(r.push(e),localStorage.setObject(Vp,r))})(e,t)}function Gh(e,t){const n=new Date;Ah.deferralPromise.then((()=>{Jh(e,t,{timestamp:n})}))}async function Yh(e=th()){if(!e)return null;const n=t(e);if(!n)return null;const i=await crypto.subtle.digest("SHA-256",new Uint8Array(n));return new Uint8Array(i).reduce(((e,t)=>{const n=e+t.toString(16).padStart(2,"0");return n===jh?(console.error(new Error("null or undefined id used to generate distinct id. Please ensure null check is functioning.")),null):n}),"")}async function Kh(){const e=(await l((async()=>{const{default:e}=await import("./SubscriptionSummary-DTKaK_m5.js").then((e=>e.b));return{default:e}}),__vite__mapDeps([0,1,2,3]))).default(),{trialEnd:t,active:n,trialing:i,subscriptionEnd:r}=e;return{started_trial_ever:!!t,paid_for_plus_ever:!i&&n||!!r}}function Qh(){const[e,t,n]=Dh.VERSION.split(".").map((e=>parseInt(e))),i={};Object.values(Hp.experiments).forEach((e=>{i[e.experimentName]=e.variantName}));const r=localStorage.getItem(Jp);r&&(i[Jp]=r);const o=Object.keys(i).length>0,s=be();return{extension_version:Dh.VERSION,extension_version_major:e,extension_version_minor:t,extension_version_patch:n,in_any_experiment:o,experiments:i,in_extension_pwa:s}}function Jh(e,t={},n={}){Uh||Hh&&!Hh.includes(t.feature)||async function(){if(!m.models)return{};const e=localStorage.getItem("email"),t=localStorage.getItem("token"),n=uh();return{product:n,has_email:!!e&&m.isLoggedIn(),has_token:!!t,is_internal:(null==e?void 0:e.includes("@momentumdash.com"))||!1,is_admin:["Team","Community"].includes(n)&&m.models.teamInfo.get("team").userIsAdmin,is_beta:Dh.BETA,organization_id:["Team","Community"].includes(n)?m.models.teamInfo.get("id"):null,...await Kh(),...Qh()}}().then((i=>{!function(e,t){m.devTools&&m.devTools.getFeatureDebug("instrumentation")&&console.log(" "+e,t)}(e,t),Is.capture(e,Object.assign({$ignore_sent_at:!0,source:"extension",is_paid_event:!1},localStorage.getItem("token")&&!eh()?{$set:i}:{},Qh(),t),Object.assign({timestamp:new Date},n))}))}Uh||Promise.all([async function(e=Bh){if(!e)return g;try{const e=await o("posthog.host");if(e)return`https://${e}`}catch(Dt){console.error(Dt)}return v}(),async function(e=Bh){return e?await o("posthog.apiKey").catch(console.error)||Nh:Lh}()]).then((([e,t])=>{t&&e?Is.init(t,{api_host:e,disable_session_recording:!0,person_profiles:"identified_only",autocapture:!1,capture_pageview:!1,loaded(){zh.identify()}}):qh.error("Error initializing analytics. api key: "+t+". host: "+e+".")}));const Xh=["xhrQueue","idMap","syncedDb:clocks","syncedDb:countdowns","syncedDb:metrics","syncedDb:onboardingSteps","syncedDb:links","syncedDb:focus","syncedDb:notes","syncedDb:tabs","syncedDb:pomodoro","syncedDb:siteBlockerGroups","syncedDb:siteBlockerWebsites","syncedDb:streaks","syncedDb:soundsSoundscapes","syncedDb:soundsEmbeds","analyticsQueue","notificationsQueue","keyValueStorage","keyValueDb:misc","keyValueDb:timestamp","syncedDb:main.data.userSubscriptionSummary","syncedDb:main.data.teamSubscriptionSummary","syncedDb:main.data.pomodoroSession","syncedDb:main.data.soundsPlayer"],Zh="serviceWorker:failedUpdated:details",ev="data:collection:accepted",tv="login:data",nv=async()=>{iv();const e=[rv()];localStorage.getItem("analyticsDisabled")||e.push(zh.reset()),await Promise.allSettled(e)},iv=()=>{const e=["api","local-account","local-marketing","client_uuid","weather:forecast","weather:location","debugInstrumentation","notification:safariUpdate:forceVersionCheck","dev-panel:open","dev-panel:active-tab","experiments:disabled","dev:tokens","dev:lastApiUrl",Zh,ev,Jp].reduce(((e,t)=>{const n=localStorage.getItem(t);return n&&(e[t]=n),e}),{});localStorage.clear(),Object.entries(e).forEach((([e,t])=>{localStorage.setItem(e,t)}))},rv=()=>Promise.allSettled(Xh.map((e=>{if(e.includes(".")){const[t,n,i]=e.split(".");if(!t||!i||!n)return Promise.resolve();const r=indexedDB.open(t);r.onerror=()=>Promise.resolve(),r.onsuccess=()=>{const e=r.result;return e.objectStoreNames.contains(n)?new Promise(((t,r)=>{const o=e.transaction([n],"readwrite").objectStore(n).delete(i),s=t=>{e.close(),t()};o.onsuccess=()=>s(t),o.onerror=()=>s(r)})):(e.close(),Promise.resolve())}}return new Promise(((t,n)=>{const i=indexedDB.deleteDatabase(e);i.onsuccess=t,i.onerror=n}))}))),ov=Object.freeze(Object.defineProperty({__proto__:null,clearIndexedDb:rv,clearLocalStorage:iv,clearStorage:nv,getLocalStorageBool:(e,t=!1)=>{const n=localStorage.getItem(e);return null===n?t:"true"===n},toggleLocalStorageBool:e=>{const t="true"===localStorage[e]?"false":"true";return localStorage[e]=t,"true"===t}},Symbol.toStringTag,{value:"Module"})),sv=(e,t)=>e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className),av=(e,t,n,i,r,o,s,a)=>e>=r&&t>=o&&e+n<=s&&t+i<=a,uv=(e,t)=>{let n=0;const i=e=>{e.childNodes.forEach((e=>{var r;if(e instanceof Text){const i=e.textContent??"",o=n+i.length-t;o>0&&(e.textContent=i.substring(0,i.length-o)),n+=(null==(r=e.textContent)?void 0:r.length)??0}else e instanceof HTMLElement&&(n>=t?e.remove():i(e))}))};i(e)},lv=Object.freeze(Object.defineProperty({__proto__:null,addClass:(e,t)=>{e.classList?e.classList.add(t):sv(e,t)||(e.className+=" "+t)},boundingRectInMinMax:av,domReady:e=>{"complete"===document.readyState||"interactive"===document.readyState?setTimeout(e,1):document.addEventListener("DOMContentLoaded",e)},hasClass:sv,isInputOrTextAreaActive:()=>{var e,t;return"INPUT"===(null==(e=document.activeElement)?void 0:e.tagName)||"TEXTAREA"===(null==(t=document.activeElement)?void 0:t.tagName)||document.activeElement instanceof HTMLElement&&document.activeElement.isContentEditable},removeClass:(e,t)=>{e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("\\b"+t+"\\b","g"),"")},removePulseClass:e=>{var t,n;"pulse"!==(null==(t=e.originalEvent)?void 0:t.animationName)&&"pulselight"!==(null==(n=e.originalEvent)?void 0:n.animationName)||$(e.target).removeClass("pulse")},scrollToBottom:e=>{const t=e[0];t&&(t.scrollTop=t.scrollHeight)},setEndOfContentEditable:e=>{let t,n;document.createRange&&(t=document.createRange(),t.selectNodeContents(e),t.collapse(!1),n=window.getSelection(),null==n||n.removeAllRanges(),null==n||n.addRange(t))},toggleClassTwice:(e,t)=>{e.toggleClass(t),setTimeout((function(){e.toggleClass(t)}),T("timeToggleClassTwice"))},truncateHtml:uv},Symbol.toStringTag,{value:"Module"})),cv=e=>{try{return new URL(e),!0}catch{return!1}},dv=e=>(/^(((f|ht)tps?)|chrome|chrome-extension|chrome-search):\/\//i.test(e)||/^(file:\\|file:\/\/)+/i.test(e)||(e="https://"+e),e),fv=(e,t)=>{try{const n=new URL(e);return(t??"https://www.google.com/s2/favicons?sz=32&domain={{protocol}}//{{host}}{{pathname}}").replace("{{pathname}}",n.pathname).replace("{{host}}",n.host).replace("{{protocol}}",n.protocol)}catch(Dt){return"/img/icon/links-fallback.svg"}},pv=(...e)=>{const t=new URL(window.location.toString());e.forEach((e=>t.searchParams.delete(e)));const n=`${t.searchParams.size>0?"?":""}${t.searchParams.toString()}`,i=`${t.pathname}${n}`;window.history.replaceState({},"",i)},hv=()=>Object.fromEntries(new URLSearchParams(window.location.search)),vv=Object.freeze(Object.defineProperty({__proto__:null,ensureUrlScheme:dv,extendUrlParams:(e,t)=>{const n=new URL(e),i=new URLSearchParams([...Array.from(n.searchParams.entries()),...Object.entries(t)]);return`${n.origin}${n.pathname}?${i.toString()}`},getAndRemoveParamsFromUrl:(...e)=>{const t=hv();let n=!1;const i=e.reduce(((e,i)=>(e[i]=t[i]??"",e[i]&&(n=!0),e)),{});return n&&pv(...e),i},getFaviconUrl:fv,getParamsFromUrl:hv,isUrlLocalFileLink:e=>/^(file:\\|file:\/\/)+/i.test(e),isValidUrl:cv,removeUrlParams:pv},Symbol.toStringTag,{value:"Module"})),gv=(e=!1)=>{let t;return t=_v()?"Cmd":yv()?"Meta":"Ctrl",e&&(t=t.toLowerCase()),t},_v=()=>navigator.platform.includes("Mac"),mv=()=>["iPhone Simulator","iPod Simulator","iPhone","iPod","iPad"].includes(navigator.platform),yv=()=>navigator.platform.includes("Linux"),bv=()=>mv()||/iPhone|iPod|iPad|Android|Mobi/.test(navigator.userAgent)||navigator.userAgent.includes("Mac")&&"ontouchend"in document,wv=Object.freeze(Object.defineProperty({__proto__:null,getMetaKeyName:gv,isIOS:mv,isLinuxOS:yv,isMacOS:_v,isTouchDevice:bv,isWindowsOs:()=>navigator.platform.includes("Win")},Symbol.toStringTag,{value:"Module"}));var kv="production";const Sv=()=>{if(!Error.captureStackTrace)return;const e={stack:void 0};return Error.captureStackTrace(e,Sv),e.stack},Ev=()=>"production"!==kv,xv=Object.freeze(Object.defineProperty({__proto__:null,getStackTrace:Sv,isDev:Ev,logViaDom:(...e)=>{var t;let n=document.querySelector(".dom-debug-container");n||(n=document.createElement("div"),n.classList.add("dom-debug-container"),Object.assign(n.style,{pointerEvents:"none",padding:"10px",maxHeight:"100vh",overflow:"auto"}),null==(t=document.querySelector(".full"))||t.appendChild(n));const i=document.createElement("div");i.innerText=e.map((e=>String(e))).join(" "),n.appendChild(i)}},Symbol.toStringTag,{value:"Module"})),Tv=Object.freeze(Object.defineProperty({__proto__:null,isTabOrEnter:e=>{const t=e.originalEvent;return(null==t?void 0:t.key)?"Enter"===t.key||"Tab"===t.key:(null==t?void 0:t.code)?"Enter"===t.code||"Tab"===t.code||"NumpadEnter"===t.code:13===e.keyCode||9===e.keyCode}},Symbol.toStringTag,{value:"Module"})),Cv=()=>new Promise((e=>{requestAnimationFrame((()=>{requestAnimationFrame(e)}))})),Pv=e=>new Promise((t=>setTimeout(t,e))),Iv=e=>e().then((e=>e.default)),Ov=e=>("string"==typeof e&&""!==e||"number"==typeof e)&&!isNaN(+e),Rv=(e,t)=>(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e),$v=()=>{const e=()=>(46656*Math.random()|0).toString(36),t=e=>("000"+e).slice(-3);return t(e())+t(e())},Fv=e=>{var t;const[,n,i,r,o]=null==(t=e.match(/rgba\((\d+), (\d+), (\d+), ([\d.]+)\)/))?void 0:t.map(Number),s=n/255,a=i/255,u=r/255,l=Math.max(s,a,u),c=Math.min(s,a,u);let d,f;const p=(l+c)/2;if(l===c)d=f=0;else{const e=l-c;switch(f=p>.5?e/(2-l-c):e/(l+c),l){case s:d=(a-u)/e+(a<u?6:0);break;case a:d=(u-s)/e+2;break;case u:d=(s-a)/e+4}void 0!==d&&(d/=6)}return{h:360*Number(d),s:100*Number(f),l:100*Number(p),a:o}},Mv={...s,...ov,...lv,...Z,...vv,...wv,...Fe,...xv,...le,...a,...ih,...Tv,...Object.freeze(Object.defineProperty({__proto__:null,delay:Pv,doubleRaf:Cv},Symbol.toStringTag,{value:"Module"})),...Object.freeze(Object.defineProperty({__proto__:null,loadModuleDefault:Iv,newTabForFileLink:async e=>{ye()&&window.open(e),await Se().tabs.create({url:e})}},Symbol.toStringTag,{value:"Module"})),...Object.freeze(Object.defineProperty({__proto__:null,betweenInclusive:(e,t,n)=>e>=t&&e<=n,getRandomBoolByFrequency:e=>Math.random()<e,getRandomIntBetween:Rv,isNumber:Ov,shortId:$v},Symbol.toStringTag,{value:"Module"})),...lh,...u,...C,...Object.freeze(Object.defineProperty({__proto__:null,RGBAToHSLA:Fv},Symbol.toStringTag,{value:"Module"}))};export{gh as $,zh as A,Ol as B,$h as C,_e as D,I as E,me as F,$e as G,Pv as H,vc as I,th as J,ah as K,ce as L,P as M,R as N,D as O,Iv as P,oe as Q,Qp as R,Jp as S,Wp as T,Kp as U,Sd as V,eh as W,Ch as X,vh as Y,bh as Z,yh as _,Mv as a,bu as a$,hh as a0,_h as a1,b as a2,ec as a3,ku as a4,Eu as a5,tv as a6,ev as a7,fv as a8,cv as a9,he as aA,Pe as aB,Ph as aC,Q as aD,ge as aE,gv as aF,hv as aG,pv as aH,Xp as aI,Zp as aJ,ch as aK,Bp as aL,Ce as aM,U as aN,E as aO,se as aP,_v as aQ,mv as aR,ph as aS,Fh as aT,Mh as aU,fh as aV,dh as aW,Wu as aX,mu as aY,_u as aZ,xu as a_,dv as aa,Ov as ab,X as ac,ue as ad,A as ae,O as af,nv as ag,ve as ah,Qu as ai,F as aj,j as ak,V as al,ae as am,B as an,ke as ao,Ee as ap,Th as aq,Cv as ar,Ev as as,k as at,av as au,be as av,ye as aw,ie as ax,Te as ay,bv as az,xe as b,hu as b0,Vu as b1,Gu as b2,Zh as b3,oh as b4,_ as b5,jp as b6,uv as b7,w as b8,f as b9,p as ba,Fv as bb,fe as bc,te as bd,nh as be,Rv as bf,Rh as bg,zp as c,Hp as d,L as e,S as f,Se as g,jl as h,N as i,we as j,Cu as k,du as l,ja as m,Zl as n,uu as o,x as p,lu as q,wu as r,$v as s,Y as t,Oh as u,ic as v,Hu as w,ac as x,Mu as y,Yu as z};