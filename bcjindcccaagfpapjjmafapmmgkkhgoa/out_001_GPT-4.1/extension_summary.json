{
  "metadata": {
    "name": "JSON Formatter",
    "version": "0.8.0",
    "manifest_version": 3,
    "description": "Makes JSON easy to read. Open source.",
    "evidence": [{"file": "manifest.json", "start": 1, "end": 38}]
  },
  "permissions": {
    "api_permissions": ["storage"],
    "host_permissions": ["*://*/*", "<all_urls>"],
    "optional_permissions": [],
    "evidence": [{"file": "manifest.json", "start": 1, "end": 38}]
  },
  "components": {
    "background": {
      "files": [],
      "apis": [],
      "listeners": [],
      "evidence": []
    },
    "content_scripts": [
      {
        "files": ["content.js", "set-json-global.js"],
        "apis": ["chrome.storage.local.get"],
        "listeners": ["addEventListener"],
        "evidence": [
          {"file": "manifest.json", "start": 10, "end": 25},
          {"file": "content.js", "start": 1, "end": 292},
          {"file": "set-json-global.js", "start": 1, "end": 2}
        ]
      }
    ],
    "injected_scripts": [],
    "ui": [
      {
        "files": ["options/options.js"],
        "apis": ["chrome.storage.local.get", "chrome.storage.local.set", "chrome.storage.onChanged.addListener"],
        "listeners": ["addEventListener"],
        "evidence": [
          {"file": "manifest.json", "start": 26, "end": 30},
          {"file": "options/options.js", "start": 1, "end": 2}
        ]
      }
    ],
    "web_accessible_resources": []
  },
  "network": {
    "endpoints": []
  },
  "messaging": {
    "channels": []
  },
  "storage": {
    "keys": [
      {
        "key": "themeOverride",
        "type": "local",
        "purpose": "Theme selection",
        "retention": "indefinite",
        "evidence": [
          {"file": "content.js", "start": 285, "end": 285},
          {"file": "options/options.js", "start": 1, "end": 2}
        ]
      }
    ]
  },
  "workflows": [
    {
      "name": "Theme Selection Flow",
      "triggers": ["User loads page", "User opens options page"],
      "steps": [
        "Content script reads themeOverride from chrome.storage.local",
        "Content script applies theme to UI",
        "User opens options page",
        "Options page reads themeOverride from chrome.storage.local",
        "User selects theme",
        "Options page writes themeOverride to chrome.storage.local",
        "UI updates to reflect new theme"
      ],
      "apis": ["chrome.storage.local.get", "chrome.storage.local.set"],
      "messages": [],
      "endpoints": [],
      "storage_keys": ["themeOverride"],
      "evidence": [
        {"file": "content.js", "start": 285, "end": 285},
        {"file": "options/options.js", "start": 1, "end": 2}
      ]
    }
  ],
  "privacy": {
    "data_categories": ["user_preferences"],
    "purposes": ["personalization"],
    "minimization": "Collects only minimal data required for stated purpose (theme selection).",
    "consent": "No explicit consent mechanism observed; theme selection is user-driven.",
    "retention": "Indefinite storage in chrome.storage.local until user changes theme.",
    "third_parties": [],
    "policy_compliance": "No privacy or policy concerns observed; no PII, tracking, or remote endpoints.",
    "evidence": [
      {"file": "content.js", "start": 285, "end": 285},
      {"file": "options/options.js", "start": 1, "end": 2}
    ]
  },
  "risks": [],
  "code_signals": {
    "chrome_api_calls": ["chrome.storage.local.get", "chrome.storage.local.set", "chrome.storage.onChanged.addListener"],
    "event_listeners": ["addEventListener"],
    "dynamic_code": [],
    "wasm_modules": [],
    "third_party_libs": []
  }
}
