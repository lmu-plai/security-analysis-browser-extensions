(self.webpackChunk=self.webpackChunk||[]).push([[6077,751],{90193:(e,t,n)=>{n.r(t),n.d(t,{SettingsView:()=>x});var a=n(90023),o=n(92379),i=n(90572),r=n(14969),s=n(21100),l=n(13391),c=n(33885),u=n(58303),d=n(12518),p=n(90595),m=n(18838),g=n(35614),h=n(78819),b=n(77590),E=n(90189),f=n(86562),v=n(64835),y=n(63202),S=n(74609),k=n(19724),w=n(4972),C=n(19523);const x=({assistantSettingsViewModel:e,experimentClient:t,openSubscriptionDialog:n,getEnv:x})=>{const{domain:T,actions:B,state:A,hasInProductDiscountSpecialOffer:D}=e,P=o.useRef(l.h.create(u.YP)),[,I]=o.useState(!1),[L,R]=o.useState(!!A.view("page","enabled").get());o.useEffect((()=>{k.n.isFree(A.view("user").get())&&B.getConfiguration("assistantSettingsPopup").then((e=>{(0,a.zG)(e,d.UI((e=>{P.current.set(u.ij(e))}))),I(!0)}))}),[]);const G={checked:L,update:e=>{R(e),B.toggleSite(e,T),S.J.checkingToggleClick("assistant",w.y.other,e?"on":"off",T)}},U=o.useMemo((()=>new f.C((0,E.nD)(x()))),[]);return o.createElement(s.a.Context.Provider,{value:U},o.createElement(c.F.div,{role:"region","aria-label":"Grammarly settings"},A.view((({user:e,page:n,dynamicConfig:a,dapi:i,sessionTimeoutValue:r})=>o.createElement(v.a7,{actions:B,config:{enabled:!0,domain:T},settings:n,sessionTimeoutValue:r,user:e,dapi:i,dynamicConfig:a,siteCategory:w.y.other,isReportBugFeatureAllowed:!t.isGateEnabled(p.K.HideReportBugByGrammarlyEmployeeFeature),openReportBugForm:e=>{self.open(C.WY(e))},openDebugPage:()=>{self.open(chrome.runtime.getURL("src/debug.html"))},openUrl:e=>self.open(e),placement:"assistant",showCitationBuilderToggle:!1,siteSwitcherChecked:G,isIndianEnglishDialectSupported:t.isGateEnabled(p.K.IndianEnglishDialect)||t.isGateEnabled(p.K.IndianEnglishDialectInternal),isAutoApplySupported:t.isGateEnabled(p.K.SuggestionDeliveryAutoApply),downloadDebugReports:()=>b.B.download(),isCheetahSupported:!0,showSerengetiFeatureToggle:t.isGateEnabled(p.K.KnowledgeEngineSearchV2Alpha),isKnowledgeHubSupported:(0,h.a)(t),isHumanWritingReportSupported:(0,m.C0)(n.humanWritingReport)}))),(0,g.gm)(A,D).view((({user:e,hasSpecialOffer:a})=>o.createElement(y.Z,{user:e,openSubscriptionDialog:n,isAssistant:!0,hasInProductDiscountSpecialOffer:a,uphookConfiguration:P.current,trackUphookHubEvent:(e,t)=>{t.pipe((0,i.h)(u.pC),(0,r.P)()).subscribe((t=>{B.trackConfiguration(e,t.value)}))},experimentClient:t})))))}},20851:(e,t,n)=>{if(n.d(t,{Cr:()=>w,FU:()=>g,OY:()=>x,Td:()=>m,UI:()=>b,XG:()=>C,eC:()=>d,ex:()=>k,gO:()=>l,r4:()=>E,sO:()=>S,xq:()=>p}),1388==n.j)var a=n(90023);if(1388==n.j)var o=n(58303);if(1388==n.j)var i=n(66861);var r=n(25693),s=n(78767);function l(e,t){var n,a,o;const i=null===(o=null===(a=null===(n=null==t?void 0:t.citationBuilder)||void 0===n?void 0:n.domains)||void 0===a?void 0:a[e])||void 0===o?void 0:o.disabled;return void 0!==i?!i:void 0}function c(e,t){return v(t).some((t=>new RegExp(t.domain).test(e)))}function u(e){var t,n;return!(null!==(n=null===(t=e.citationBuilder)||void 0===t?void 0:t.disabled)&&void 0!==n&&n)}function d(e,t){return v(t).some((t=>{const n=new RegExp(t.domain),a=new RegExp(t.pathname);return n.test(e.hostname)&&a.test(e.pathname)}))}function p(e){return o.Y3((()=>{const t=new URL(e).hostname.split(".");return t.slice(t.length-2).join(".")}))}function m(e,t,n,a){return n?function(e,t,n){const a=l(e,n);return u(t)&&(void 0===a&&c(e,t)||!0===a)}(e,t,a):function(e,t,n){return u(t)&&c(e,t)&&!1!==l(e,n)}(e,t,a)}function g(e,t){return v(t).some((t=>new RegExp(t.domain).test(e)&&!0===t.reparse))}const h={verticalLocation:"bottom",horizontalLocation:"left",offsetX:17,offsetY:32};function b(e,t){var n;return(null===(n=v(t).find((t=>new RegExp(t.domain).test(e))))||void 0===n?void 0:n.buttonPosition)||h}function E(e,t,n){return u(t)&&(n?!function(e,t){var n,a;return(null!==(a=null===(n=t.citationBuilder)||void 0===n?void 0:n.blockedDomains)&&void 0!==a?a:[]).includes(e)}(e,t):c(e,t))}function f(e,t){var n,a,o;const i=new Set(null!==(a=null===(n=e.citationBuilder)||void 0===n?void 0:n.blockedDomains)&&void 0!==a?a:[]);return Object.entries((null===(o=t.citationBuilder)||void 0===o?void 0:o.domains)||{}).filter((([,e])=>void 0!==e&&!e.disabled)).filter((([e])=>{return t=e,!i.has(t);var t})).map((([e])=>e))}function v(e){var t,n;return null!==(n=null===(t=e.citationBuilder)||void 0===t?void 0:t.sources)&&void 0!==n?n:[]}const y=(0,s.hz)((()=>{const e=document.location.href;return(0,r.KK)(e)}));function S(e){const t=e=>`^${e.replace(/\./g,"\\.")}$`;return{sources:v(e.dynamicConfig),explicitlyEnabledDomainsWithRegexStrings:f(e.dynamicConfig,e.page).map((e=>[e,t(e)]))}}const k=(0,s.hz)((e=>{const t=document.location.href;return{url:t,domain:(0,r.KK)(t),isUrlAllowlisted:d(document.location,e)}})),w=(0,s.hz)((()=>s.iy.create()));function C(e){const t=w(),n=y();return(0,a.zG)(e,(0,i.H6)("citeCopyButtonClick","citeCopyIntextClick","citePopupButtonDisable","citePopupButtonShow","citePopupEditClick","citePopupButtonClick","citePopupEditSuccess","citePopupMissingInfoShow","citePopupMissingInfoFormShow","feedbackSentButtonClick","citePopupAddMissingClick"),(e=>({...e,domain:n,sessionId:t})))}function x(e,t){return e.manualInvocation&&!0===l(t.domain,t)}},15329:(e,t,n)=>{n.d(t,{V:()=>i,X:()=>r});var a=n(90595),o=n(70843);function i(e){return e.isGateEnabled(a.K.GOSRollout)||"test"===e.getTreatment(o.p.GOSRollout)}function r(e){return!!i(e)&&(e.isGateEnabled(a.K.OggyOnGOS)||"test"===e.getTreatment(o.p.OggyOnGOS))}},42175:(e,t,n)=>{n.d(t,{QU:()=>o,Uv:()=>a,XW:()=>s,_f:()=>i,bd:()=>c,dL:()=>r,yg:()=>l,ym:()=>u});const a=2,o=20,i=92,r=10,s=["chat.openai.com","gemini.google.com","www.perplexity.ai","perplexity.ai","chatgpt.com","claude.ai","www.wikipedia.org",".wikipedia.org"],l=["docs.google.com"],c=1e4,u={howItWorks:"https://grammarly.com",learnMoreTransparency:"https://grammarly.com",learnMoreSafety:"https://grammarly.com",learnMoreControl:"https://grammarly.com",reportAnIssue:"https://support.grammarly.com/hc/en-us"}},18838:(e,t,n)=>{n.d(t,{C0:()=>c,E3:()=>s,MP:()=>r,Ng:()=>i,YI:()=>l,wg:()=>o});var a=n(42175);const o={kind:"initial",allDomainsTrackingEnabled:!1};function i(e,t,n){if("enabled"===n.kind){const a=n.domainSettings.find((({domain:e})=>e===t));return!!a&&(a.logAllDocuments?!a.pausedDocumentIds.includes(e):a.activeDocumentIds.includes(e))}return!1}function r(e,t,n){var a;if("enabled"===n.kind){const o=n.domainSettings.find((({domain:e})=>e===t));return!!o&&(!!o.logAllDocuments||((null===(a=o.pausedDocumentIds)||void 0===a?void 0:a.includes(e))||o.activeDocumentIds.includes(e)))}return!1}function s(e,t){var n,a;return"enabled"===t.kind&&Boolean(null===(a=null===(n=t.domainSettings)||void 0===n?void 0:n.find((({domain:t})=>t===e)))||void 0===a?void 0:a.logAllDocuments)}function l(e,t,n,o=!1){if("enabled"===(null==t?void 0:t.kind)&&void 0===t.deniedClipboardAccessSince){const i=void 0===t.allowedClipboardAccess?function(e){return"enabled"===(null==e?void 0:e.kind)&&e.domainSettings.some((e=>e.logAllDocuments?e.logAllDocuments:e.activeDocumentIds.length>0))}(t):t.allowedClipboardAccess,r=t.allDomainsTrackingEnabled?""!==e&&a.yg.concat((null==n?void 0:n.blockedDomains)||[]).every((t=>!new RegExp(t).test(e))):a.XW.some((t=>new RegExp(t).test(e)));return i&&(r||o)}return!1}function c(e){return!!e&&("initial"!==e.kind&&"disabled"!==e.kind||"disabled"===e.kind&&e.disabledByUser)}},85041:(e,t,n)=>{n.d(t,{c:()=>o});var a=n(90595);const o=e=>e.isGateEnabled(a.K.KnowledgeHubGmail)},78819:(e,t,n)=>{n.d(t,{a:()=>r});var a=n(85041),o=n(90595);var i=n(24435);const r=e=>(0,i.Lt)(e)||(0,a.c)(e)||(e=>e.isGateEnabled(o.K.KnowledgeHubSlack)||e.isGateEnabled(o.K.KnowledgeHubWord))(e)},19540:(e,t,n)=>{n.d(t,{c:()=>u});var a=n(13391),o=n(84308),i=n(59179),r=n(20161),s=n(36344),l=n(63532),c=n(55388);class u{constructor(e,t){this._lastSubmittedShortcutValue=e,this._isInputFocused=t,this._isActiveHotkeyChange=a.h.create(!1),this.onApplyHotkeyChange=e=>{e.setTouchTypistHotkey({hotkey:this._tmpHotkey.get()}),this._isActiveHotkeyChange.set(!1)},this.onDismissHotkeyChange=()=>{this._tmpHotkey.set(this._lastSubmittedShortcutValue),this._isActiveHotkeyChange.set(!1)},this.onIsActiveHotkeyChange=()=>{this._isActiveHotkeyChange.set(!0)},this._tmpHotkey=a.h.create(this._lastSubmittedShortcutValue)}listenToHotkeyChange(e){return o.a([this._isActiveHotkeyChange,this._isInputFocused]).pipe(i.U((([e,t])=>e&&t)),r.w((t=>t?(0,c.A8)(self,e):s.E)),l.b((({shortcut:e})=>{this._tmpHotkey.set(e)}))).subscribe()}get isActiveHotkeyChange(){return this._isActiveHotkeyChange}get tmpHotkey(){return this._tmpHotkey}}},55388:(e,t,n)=>{n.d(t,{A8:()=>E,_w:()=>f});var a=n(44071),o=n(13712),i=n(29416),r=n(63532),s=n(97092),l=n(59179),c=n(90572),u=n(64271);function d(e){const t=new Set;return e.filter((e=>{const n=e.code.toLowerCase();return!t.has(n)&&(t.add(n),!0)}))}function p(e,t){return"ControlLeft"===e.code||"ControlRight"===e.code?t?"⌃":"Ctrl":"ShiftLeft"===e.code||"ShiftRight"===e.code?"⇧":"AltLeft"===e.code||"AltRight"===e.code?t?"⌥":"Alt":"MetaLeft"===e.code||"MetaRight"===e.code?t?"⌘":"Win":"ArrowUp"===e.code?"↑":"ArrowDown"===e.code?"↓":"ArrowLeft"===e.code?"←":"ArrowRight"===e.code?"→":"Home"===e.code?"Home":"End"===e.code?"End":"PageUp"===e.code?"PageUp":"PageDown"===e.code?"PageDown":"Backspace"===e.code?"Backspace":"Delete"===e.code?"Delete":"Enter"===e.code?"Enter":"Tab"===e.code?"Tab":"Space"===e.code?"Space":e.code.startsWith("F")&&!isNaN(parseInt(e.code.substring(1),10))?e.code:"Escape"===e.code?"ESC":"CapsLock"===e.code?"CapsLock":"NumLock"===e.code?"NumLock":"ScrollLock"===e.code?"ScrollLock":"PrintScreen"===e.code?"PrintScreen":"Pause"===e.code?"Pause":"MediaPlayPause"===e.code?"MediaPlayPause":"VolumeUp"===e.code?"VolumeUp":"VolumeDown"===e.code?"VolumeDown":"AudioVolumeMute"===e.code?"Mute":e.code.startsWith("Digit")?e.code.slice(5):e.code.startsWith("Numpad")?e.code.slice(6):"Equal"===e.code?e.shiftKey?"plus":"=":"Minus"===e.code?"-":"NumpadAdd"===e.code?"plus":"NumpadSubtract"===e.code?"-":"NumpadEqual"===e.code?"=":null}function m(e){return function(t){return{shortcut:t.map((t=>{const n=p(t,e);return n||(t.code.toLowerCase().startsWith("key")?t.code.slice(3):t.code)})).join("")}}}function g(e,t,n){return e.map((e=>{const a=function(e,t,n){return["Tab","Enter","Backspace","ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].some((a=>e===a&&t===p({code:e},n)))}(e.code,t.get(),n);return a&&(e.preventDefault(),e.stopImmediatePropagation()),e}))}function h(e){e.preventDefault(),e.stopImmediatePropagation()}function b(e){return e.sort(((e,t)=>t.code.length-e.code.length))}function E(e,t){const n=a.R(e,"keydown",{capture:!0}).pipe(o.g("code")),u=a.R(e,"keyup",{capture:!0}).pipe(i.b(50));return n.pipe(r.b(h),s.f(u),l.U(d),c.h((e=>e.length>0)),l.U(b),l.U(m(t)))}function f(e,t,n){const o=a.R(e,"keydown",{capture:!0}),i=a.R(e,"keyup",{capture:!0}),s=new Map;return u.T(o.pipe(r.b((e=>{s.set(e.code,e)}))),i.pipe(r.b((e=>{s.delete(e.code)})))).pipe(l.U((()=>[...s.values()])),r.b((e=>g(e,n,t))),l.U(b),l.U((e=>{const{shortcut:n}=m(t)(e);return{shortcut:n,events:e}})))}},6882:(e,t,n)=>{n.d(t,{Zz:()=>l,h4:()=>r,uT:()=>s});var a=n(92379),o=n(41195),i=n(31e3);const r=({sanitizedTitle:e})=>a.createElement("div",{className:i.header},a.createElement("div",{className:i.flag},a.createElement("div",{className:i.flagTop}),a.createElement("div",{className:i.flagBottom})),a.createElement("div",{className:i.title,dangerouslySetInnerHTML:{__html:e}})),s=({sanitizedBody:e})=>a.createElement(a.Fragment,null,e.map((e=>a.createElement("p",{key:e,className:i.paragraph,dangerouslySetInnerHTML:{__html:e}})))),l=e=>a.createElement(o.X,{style:{width:280},onClose:e.onClose,includeMainContentPadding:!1,mainContent:a.createElement("div",{className:i.content,"data-has-footer":e.popupFooter?"true":"false"},a.createElement(r,{sanitizedTitle:e.sanitizedPopupTitle}),a.createElement(s,{sanitizedBody:e.sanitizedPopupBody}),e.popupFooter?e.popupFooter:null)})},6188:(e,t,n)=>{n.d(t,{c:()=>a});var a,o=n(72314);!function(e){e.sanitizeSuspendTitle=function(e){return e?(0,o.sanitize)(e):"Grammarly is unavailable in your country"},e.sanitizeSuspendBody=function(e){return e?e.map(o.sanitize):["In response to Russia’s invasion of Ukraine, we have suspended service to accounts in Russia and Belarus."]},e.sanitizeSuspendLearnMoreLabel=function(e){return e?(0,o.sanitize)(e):"Learn more"}}(a||(a={}))},32295:(e,t,n)=>{n.r(t),n.d(t,{StandWithUkraineGrammarlySuspendedPopup:()=>c,StandWithUkraineSuspendFooter:()=>u});var a=n(92379),o=n(6188),i=n(82914),r=n(1695),s=n(6882),l=n(59776);const c=e=>(a.useEffect((()=>{i.J.standWithUkraineSuspendPopupShow()}),[]),a.createElement(s.Zz,{onClose:()=>{e.onClose(),i.J.standWithUkraineSuspendCloseButtonClick()},sanitizedPopupTitle:o.c.sanitizeSuspendTitle(e.popupTitleHTML),sanitizedPopupBody:o.c.sanitizeSuspendBody(e.popupBodyHTML),popupFooter:a.createElement(u,{onLearnMore:()=>{e.onLearnMore(),i.J.standWithUkraineSuspendLearnMoreButtonClick()},sanitizedLearnMoreButtonLabelHTML:o.c.sanitizeSuspendLearnMoreLabel(e.popupLearnMoreButtonLabelHTML)})})),u=e=>a.createElement(r.z,{className:l.learnMoreButton,onClick:e.onLearnMore},a.createElement("span",{dangerouslySetInnerHTML:{__html:e.sanitizedLearnMoreButtonLabelHTML}}))},98692:(e,t,n)=>{n.d(t,{b:()=>y,f:()=>a});var a,o=n(92379),i=n(50635),r=n(69554),s=n(31702),l=n(12314),c=n(56863),u=n(6266),d=n(62067),p=n(47052),m=n(67505),g=n(74609),h=n(28898),b=n(35248),E=n(95404),f=n(91409);!function(e){e.hide="hideGdocsSigninPopupMessage"}(a||(a={}));const v=e=>e===d.VP.SignUp,y=e=>{const{userType:t,slot:n,authUserDetails:a,bgRpcApi:y}=e,S={source:"authHook",slot:n,name:d.Vi.Default,experience:d.VP.SignUp,lastKnownUserType:(0,u.qf)(a)},k=n=>{var a;const o={...S,action:n,authType:d.uN.Email},i={utmCampaign:"gdocsPopup",utmSource:v(n)?"signupHook":"signinHook"},r=v(n)?(0,E.Xc)(o,i):(0,E.s7)(o,i);g.J.gdocsRegisterPromptButtonClick(n),(0,l.T)(g.J,{authHookDetails:o,userType:t,isGDocs:!0}),(0,b.B)((0,h.O)().experimentClient)?y.launchAuthFlow(v(n),{...(0,c.xW)(o),...(0,E.OC)((0,E.g7)(i))}):e.openSigninPage(r),null===(a=e.onClick)||void 0===a||a.call(e)};return o.useEffect((()=>{(0,l.B)(g.J,{authHookDetails:S,userType:t,isGDocs:!0})}),[]),o.createElement("div",{className:f.wrapper},o.createElement(p.h,{onClose:e.onClose}),o.createElement("div",{className:f.animation}),o.createElement(i.k,{direction:"column",align:"center",paddingBottom:6,gap:4,className:f.content},o.createElement(r.X,{as:"h2",variant:"heading-xsmall",className:f.title},"Welcome to Grammarly for Google Docs!"),o.createElement(s.x,{as:"p",variant:"text-small"},"Sign up to turn on Grammarly suggestions in your Google Docs."),o.createElement(m.R,{onSignUp:()=>{k(d.VP.SignUp)},onSignIn:()=>{k(d.VP.SignIn)}})))}},5546:(e,t,n)=>{if(n.d(t,{E:()=>r,M:()=>i}),3075==n.j)var a=n(90595);var o=n(20905);const i=(e,t)=>e.anonymous&&(!t.hideGdocsSigninPopupTime||t.hideGdocsSigninPopupTime+o.g0<Date.now()),r=(e,t,n)=>e.anonymous&&n.isGateEnabled(a.K.StandWithUkraineGrammarlySuspended)&&(!t.hideGdocsStandWithUkraineSuspendedPopup||t.hideGdocsStandWithUkraineSuspendedPopup+o.g0<Date.now())},33839:(e,t,n)=>{n.d(t,{Y:()=>c});var a=n(92379),o=n(52348),i=n(81224),r=n(85837),s=n(51705),l=n.n(s);const c=({onClick:e,cta:t="Get Pro",dataGrammarlyPart:n="unlock-premium-button",className:s})=>a.createElement(o.z,{variant:"pro",onClick:e,"data-grammarly-part":n,iconStart:i.R,...(0,r.Sh)(l().premiumButton,s),text:t})},86090:(e,t,n)=>{n.d(t,{N:()=>r});var a=n(92379),o=n(4026),i=n(78703);class r extends a.Component{render(){const{institutionName:e,ssoId:t}=this.props,n="GrammarlyEnrollmentToken: "+t;return a.createElement("div",{className:(0,o.cs)(i.edc_stripe)},"Managed by ",a.createElement("b",{title:n},e))}}},37087:(e,t,n)=>{n.d(t,{MA:()=>hn,OB:()=>gn});var a=n(21100),o=n(1963),i=n(97484),r=n(53639);let s;function l(){return void 0===s&&(s=!!document.querySelector(".popup"),self.IS_POPUP=s),s}var c=n(84308),u=n(14969),d=n(18519),p=n(64017),m=n(64434),g=n(3620),h=n(4026),b=n(16381),E=n(39963),f=n(38364),v=n(40594),y=n(63838),S=n(7909),k=n(52698),w=n(90023),C=n(92379),x=n(95295),T=n(67249),B=n(50635),A=n(55368),D=n(31702),P=n(33885),I=n(54647),L=n(954),R=n(59179),G=n(58303),U=n(90595),_=n(56863),N=n(6266),O=n(62067),M=n(20851),F=n(42744),H=n(18838),W=n(35614),z=n(78819),K=n(78519),V=n(46599),J=n(28240),$=n(83507),q=n(31818);const j=/^http(s?)\:\/\/docs\.google\.com\/document/;var Z=n(98692),X=n(5546),Y=n(27327),Q=n(4636),ee=n(46418),te=n(86090),ne=n(85156),ae=n(90572),oe=n(83542),ie=n(13391),re=n(12518),se=n(74609),le=n(66886);const ce=()=>C.createElement("div",{className:le.footer},C.createElement("div",{className:le.footer_btn_container_ghost},C.createElement("div",{onClick:ue,className:le.footer_btn},C.createElement("div",{className:le.footer_icon_home},C.createElement(de,null)),"My Grammarly"))),ue=()=>{se.J.myGrammarlyButtonClick("settingsToolbar"),Ht((0,b.Um)().allSettings)},de=()=>C.createElement("svg",{width:"28",height:"28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},C.createElement("path",{d:"M6.563 21.438v-9.625L14 5.686l7.438 6.125v9.626m-9.625 0v-4.813c0-1.208.979-2.188 2.187-2.188v0c1.208 0 2.188.98 2.188 2.188v4.813",strokeWidth:".875",strokeLinecap:"round",strokeLinejoin:"round"}));var pe=n(28077);const me=({siteSwitcherProps:e})=>C.createElement($.L,{chunkName:"designSystem"},C.createElement(B.k,{className:le.ghostContainer,direction:"column",justify:"center",align:"start"},C.createElement("br",null),C.createElement("div",{className:le.ghostImage}),C.createElement("br",null),C.createElement(D.x,{as:"p",weight:"bold",variant:"text-medium"},"Some features temporarily paused"),C.createElement("br",null),C.createElement(D.x,{as:"p",variant:"text-medium"},"Your organization is currently studying the effectiveness of Grammarly’s writing suggestions."),C.createElement("br",null),C.createElement(D.x,{as:"p",variant:"text-medium"},"Some features are temporarily turned off until the study concludes."),C.createElement("br",null),C.createElement("div",{className:le.ghostSwitcher},C.createElement(pe.w,{...e}))));var ge,he=n(32073),be=n(44071),Ee=n(15380),fe=n(44675),ve=n(20905),ye=n(13736),Se=n(56623),ke=n(67960);!function(e){const t=[new Se.r("bg",(()=>gn().bgRpc.api.getBGLogs()),Se.r.getLogsFromSessionStorageFallbackGetter(ke.v.bgHistoryLogs)),new Se.r("popup",(()=>Promise.resolve(gn().historyLogsService.getLogs())),Se.r.getLogsFromSessionStorageFallbackGetter(ke.v.popupHistoryLogs)),new Se.r("cs",(async()=>{const e=[],t=t=>{e.push(...t.option.logs.map((e=>({...e,loggerName:`${t.option.isIframeIntegration?`iframe.[${t.caller.frameId}].`:""}${e.loggerName}`}))))};return gn().bgRpc.api.sendToFocusTab({kind:Ee.B.Kind.sendCsLogsToPopup}),gn().message.on(Ee.I.Kind.sendCsLogs,t),await(0,fe.gw)(ve.E0),e.length||await(0,fe.gw)(ve.E0),gn().message.off(Ee.I.Kind.sendCsLogs,t),e.length?e:void 0}),Se.r.getLogsFromSessionStorageFallbackGetter(ke.v.csHistoryLogs))];e.download=function(){(0,b.G6)()&&(0,b.CO)()?gn().bgRpc.api.sendToFocusTab({kind:Ee.B.Kind.downloadDebugReportsFromCS}):ye.E.download(t)},e.initDownloadOnKeyboardShortcut=function(){const e=new he.w0;return e.add((0,be.R)(self,"keydown").subscribe((e=>{["Semicolon","KeyD"].includes(e.code)&&e.altKey&&e.shiftKey&&(e.ctrlKey||e.metaKey)&&gn().bgRpc.api.toggleDebugMenu(!0)}))),e.add(ye.E.initKeyboardShortcutHandler(t)),e}}(ge||(ge={}));var we=n(36279),Ce=n(82065),xe=n(4531),Te=n(67505),Be=n(95404),Ae=n(47730);const De=e=>{const t={source:"authHook",slot:O.G0.Toolbar,name:O.Vi.SettingsFooter,lastKnownUserType:(0,N.qf)(e.authUserDetails),experience:O.VP.SignIn};return C.createElement(oe.x,{className:Ae.signUpFooter},C.createElement(D.x,{as:"p",weight:"bold",color:"base-default"},"Sign in to get key Grammarly features"),C.createElement(D.x,{as:"p",weight:"bold",color:"base-default"},"Access Grammarly's full functionality, including an easy-to-use editing experience and personalized dictionary."),C.createElement(Te.f,{handleClick:e=>{const n=e===O.VP.SignUp?(0,Be.Xc)({...t,action:O.VP.SignUp},{utmCampaign:"toolbarMenu",utmSource:"signupHook"}):(0,Be.s7)({...t,action:O.VP.SignIn},{utmCampaign:"toolbarMenu",utmSource:"signinHook"});self.open(n),se.J.gdocsRegisterPromptButtonClick(e)}}))},Pe=({openWebEditor:e,isDocsDisabled:t,summary:n})=>C.createElement(oe.x,{className:Ae.footer},n,C.createElement(B.k,{className:Ae.footer_btn_container},!t&&C.createElement("div",{onClick:()=>{se.J.newDocumentButtonClick("settingsToolbar"),e(!0)},className:Ae.footer_btn},C.createElement(we.J,{className:Ae.footer_icon_doc,size:"small",variant:"inherit",icon:Ce.x,accessibilityLabel:"New Document"}),C.createElement(D.x,{as:"span",variant:"text-small",color:"base-subdued"},"New Document")),C.createElement("div",{onClick:()=>{se.J.myGrammarlyButtonClick("settingsToolbar"),e()},className:Ae.footer_btn},C.createElement(we.J,{className:Ae.footer_icon_home,icon:xe.p,size:"small",variant:"inherit",accessibilityLabel:"Grammarly home"}),C.createElement(D.x,{as:"span",variant:"text-small",color:"base-subdued"},"My Grammarly"))));var Ie=n(47695);const Le=()=>C.createElement("div",{className:Ie["footer-ios"]},"Grammarly for Safari helps with spelling, grammar, and punctuation. To get advanced suggestions, use the Grammarly Keyboard.");var Re=n(20785),Ge=n(24825);const Ue=e=>{var t;return C.createElement("div",{className:Ge["header-ios"]},C.createElement(Re.T,{size:32,type:"full"}),C.createElement("a",{className:Ge.link,href:null!==(t=e.deeplink)&&void 0!==t?t:(0,b.Um)().iOSApp,onClick:()=>{se.J.openAppButtonClick("settingsPopup")}},"Open App"))};var _e=n(1695),Ne=n(86723);const Oe=({actions:e,domain:t})=>C.createElement("div",{className:Ne.wrapper},C.createElement("div",{className:Ne.heading},"Enable Grammarly on ",C.createElement("span",{className:Ne.domain},t),"?"),C.createElement("div",{className:Ne.description},"Grammarly needs access to the text you ",C.createElement("br",null),"write in order to provide suggestions."),C.createElement(_e.z,{kind:"success",onClick:()=>{e.enableOnceClickToRun(),se.J.clickToRunOptionButtonClick("allow_once")}},"Allow once"),C.createElement(_e.z,{kind:"success",onClick:()=>{e.toggleSite(!0,t,!0),se.J.clickToRunOptionButtonClick("allow_on_website")}},"Always allow on this website"),C.createElement(_e.z,{kind:"success",onClick:()=>{e.enableClickToRunOnAllSites(),se.J.clickToRunOptionButtonClick("allow_on_all_websites")}},"Always allow on every website"));var Me=n(64835),Fe=n(59819),He=n(27106),We=n(24664);function ze({brandingSet:e,...t}){if(void 0===e)return null;if("BUSINESS"===e)return C.createElement(He.V,{label:"Business",variant:"business",...t});if("PREMIUM"===e)return C.createElement(He.V,{label:"Premium",variant:"premium",...t});let n;switch(e){case"ENTERPRISE":n="enterprise";break;case"EDU":n="edu";break;case"PRO":n="pro";break;case"FREE":n="free"}return C.createElement(We.O,{variant:n,...t})}var Ke=n(72032);const Ve=e=>{var t;return C.createElement(B.k,{style:e.hideDelimiter?void 0:{borderBottom:"1px solid rgba(0, 0, 0, .06)"},justify:"space-between",align:"center",padding:4,paddingLeft:6,paddingRight:6},C.createElement("a",{target:"_blank",rel:"noreferrer",href:null!==(t=e.appUrl)&&void 0!==t?t:(0,b.Um)().app,"aria-label":"Grammarly homepage (opens in a new tab)",style:{outlineColor:"var(--color-border-brand-default)",outlineOffset:4,outlineWidth:2,height:21}},C.createElement(Fe.T,{composition:"lockup",accessibilityLabel:"",brand:(0,Ke.T)("go"),height:21})),C.createElement(ze,{brandingSet:e.brandingSet,size:"xsmall"}))};var Je=n(63202);class $e{static isEnabled(){return!1}}var qe=n(19724),je=n(91957),Ze=n(4972),Xe=n(9003);const Ye=({heading:e,enabled:t,children:n})=>t?C.createElement(C.Fragment,null,C.createElement("div",{className:Xe.heading},e),C.createElement("div",null,n)):C.createElement(C.Fragment,null,n);var Qe=n(46577);const et=e=>{var t;const{actions:n,activeTab:a,config:o,settings:i,siteCategory:r,className:s}=e,l=e.siteSwitcherChecked||{checked:!!i.enabled,update:e=>{n.toggleSite(e,o.domain),se.J.checkingToggleClick("toolbar",r,e?"on":"off",o.domain),(0,E.Tb)().toggleExtension(e,"toolbar",(0,je.Cg)(o.domain))}};return C.createElement("div",{className:(0,h.cs)(Qe.settingsContent,Qe.fullWidth,s)},C.createElement(Ye,{heading:"SITE SETTINGS"},C.createElement(pe.w,{domain:o.domain,enabledInConfig:null!==(t=o.enabled)&&void 0!==t&&t,siteSwitcherChecked:l,favicon:null==a?void 0:a.favIconUrl,siteCategory:r,centeredToggle:!0})))};var tt=n(78703);class nt extends C.Component{get _authUserDetails(){return(0,N.no)(this.props.state.settings)}constructor(e){super(e),this._logger=v.Y.create("SettingsComponent"),this.uphookConfiguration=ie.h.create(G.YP),this.state={hasSpecialOffer:G.YP,isLoadingSpecialOffer:!1,uphookConfigIsReady:!1},this._toggleSiteWrap=(e,t,n)=>{const{actions:a,reloadTab:o,gdocsIsActiveTab:i}=this.props;a.toggleSite({enabled:e,domain:t,clickToRunEnabled:n}),i&&o()},this._setKeyboardShortcutWrap=(e,t)=>{this.props.actions.setKeyboardShortcut({[e]:t})}}componentDidMount(){qe.n.isFree(this.props.state.user)&&this.props.actions.getConfiguration("browserToolbar").then(re.Pd((e=>this._logger.warn("Failed to fetch uphook configuration",e)),(e=>{var t,n;this.uphookConfiguration.set(G.G(e)),this.setState({uphookConfigIsReady:!0});"Get Pro"!==(null!==(n=null===(t=null==e?void 0:e.content)||void 0===t?void 0:t.ctaCopy)&&void 0!==n?n:"")&&this._logger.warn("UphookHub configuration does not match the expected")}))),this.props.canRequestInProductDiscountSpecialOffer()&&(this.setState({isLoadingSpecialOffer:!0}),(0,w.zG)((0,W.SU)(this.props.actions),(0,ne.x)((()=>{this.setState({isLoadingSpecialOffer:!1})}))).subscribe((e=>{this.setState({hasSpecialOffer:e,isLoadingSpecialOffer:!1})})))}get siteCategory(){return this.props.gdocsIsActiveTab?Ze.y.gdocs:Ze.y.other}get siteSwitcherProps(){var e,t;const{state:n}=this.props,a={checked:!!this.props.state.settings.enabled,update:e=>{this._toggleSiteWrap(e,n.config.domain),se.J.checkingToggleClick("toolbar",this.siteCategory,e?"on":"off",n.config.domain),(0,E.Tb)().toggleExtension(e,"toolbar",(0,je.Cg)(n.config.domain))}};return{domain:n.config.domain,enabledInConfig:null!==(e=n.config.enabled)&&void 0!==e&&e,siteCategory:this.siteCategory,siteSwitcherChecked:a,favicon:null===(t=this.props.state.activeTab)||void 0===t?void 0:t.favIconUrl}}get summary(){const{state:e,openSubscriptionDialog:t}=this.props;return!this.state.isLoadingSpecialOffer&&this.state.uphookConfigIsReady&&C.createElement(Je.Z,{user:e.user,openSubscriptionDialog:t,isAssistant:!1,hasInProductDiscountSpecialOffer:this.state.hasSpecialOffer,uphookConfiguration:this.uphookConfiguration,trackUphookHubEvent:(e,t)=>{t.pipe((0,ae.h)(G.pC),(0,u.P)()).subscribe((t=>{this.props.actions.trackConfiguration(e,t.value)}))},experimentClient:this.props.experimentClient})}get footer(){const{state:e,openWebEditor:t}=this.props;return this.props.isGhostProtocolEnabled?C.createElement(ce,null):this.props.isSafariIOS?C.createElement(Le,null):e.user.anonymous?C.createElement(De,{authUserDetails:this._authUserDetails}):C.createElement(Pe,{openWebEditor:t,isDocsDisabled:qe.n.isDocsDisabled(e.user),summary:this.summary})}get settingsContent(){const{state:e,actions:t,openReportBugForm:n,openDebugPage:a,isSafariIOS:o,citationBuilderSessionId:i,isCitationBuilderManualInvocationEnabled:r,isKnowledgeHubSupported:s,isTouchTypistSupported:l,isIndianEnglishDialectSupported:c,isCheetahSupported:u,showSerengetiFeatureToggle:d,isReportBugFeatureAllowed:p,isGhostProtocolEnabled:m,isAutoApplySupported:g,isHumanWritingReportSupported:h}=this.props;return m?C.createElement(me,{siteSwitcherProps:this.siteSwitcherProps}):o?[C.createElement(et,{key:"content",className:tt.settingsContent,actions:{...t,toggleSite:this._toggleSiteWrap},activeTab:e.activeTab,config:e.config,settings:e.settings,dynamicConfig:e.dynamicConfig,siteCategory:this.siteCategory})]:[C.createElement(Me.a7,{key:"content",className:tt.settingsContent,actions:{...t,toggleSite:this._toggleSiteWrap,setKeyboardShortcut:this._setKeyboardShortcutWrap},activeTab:e.activeTab,config:e.config,settings:e.settings,sessionTimeoutValue:e.sessionTimeoutValue,user:e.user,dapi:e.dapi,dynamicConfig:e.dynamicConfig,siteCategory:this.siteCategory,isReportBugFeatureAllowed:p,openReportBugForm:n,openDebugPage:a,openUrl:this.props.openUrl,placement:"popup",enableRenderingHack:!0,citationBuilderSessionId:i,isCitationBuilderManualInvocationEnabled:r,isKnowledgeHubSupported:s,isTouchTypistSupported:l,isIndianEnglishDialectSupported:c,isCheetahSupported:u,showSerengetiFeatureToggle:d,isAutoApplySupported:g,downloadDebugReports:()=>ge.download(),isHumanWritingReportSupported:h})]}get dataGrammarlyPartByUser(){var e;const{passport:t}=this.props.state,n=null===(e=t.entitlements)||void 0===e?void 0:e.brandingSet;return null!=n?n:"FREE"}render(){var e;const{state:t,actions:n,isSafariIOS:a}=this.props;if($e.isEnabled()&&!t.settings.enabledClickToRun)return C.createElement(Oe,{actions:{...n,toggleSite:this._toggleSiteWrap},domain:t.config.domain});{const n=(0,h.cs)(tt.gr_popup_settings,{[tt.iOS]:a,[tt.not_supported]:!t.config.enabled,[tt.has_favicon]:t.activeTab&&!!t.activeTab.favIconUrl});return C.createElement(B.k,{className:n,"data-grammarly-part":this.dataGrammarlyPartByUser},C.createElement(oe.x,{className:tt.content},a?C.createElement(Ue,null):C.createElement(Ve,{brandingSet:null===(e=this.props.state.passport.entitlements)||void 0===e?void 0:e.brandingSet}),C.createElement(oe.x,{"data-grammarly-part":"settings-popup-content",className:(0,h.cs)(tt.settingsContentWrapper,a?tt.withBackground:void 0)},this.settingsContent),this.footer))}}}var at=n(52348),ot=n(1087),it=n(15e3),rt=n(12314),st=n(72526),lt=n(47052),ct=n(98539);const ut=({onSignIn:e,onSignUp:t,hideSupplementaryLink:n})=>C.createElement(B.k,{direction:"column",gap:2},C.createElement(at.z,{onClick:t,width:"full","data-fire":"login-attempt, settings_toolbar_sign_up","data-test-attr":"signUpLink"},"Sign up"),!n&&C.createElement(B.k,{align:"center",justify:"center",gap:1},C.createElement(D.x,{as:"span",variant:"text-xsmall",color:"base-subdued"},"Already have an account?"),C.createElement(at.z,{onClick:e,variant:"ghost",size:"small","data-fire":"login-attempt, settings_toolbar_sign_in","data-test-attr":"signInLink"},"Sign in"))),dt=({onSignIn:e,onSignUp:t,hideSupplementaryLink:n})=>C.createElement(B.k,{direction:"column",gap:2},C.createElement(at.z,{onClick:e,width:"full","data-fire":"login-attempt, settings_toolbar_sign_in","data-test-attr":"signInLink"},"Sign in"),!n&&C.createElement(B.k,{align:"center",justify:"center",gap:1},C.createElement(D.x,{as:"span",variant:"text-xsmall",color:"base-subdued"},"Don't have an account?"),C.createElement(at.z,{onClick:t,variant:"ghost",size:"small","data-fire":"login-attempt, settings_toolbar_sign_up","data-test-attr":"signUpLink"},"Sign up"))),pt=({onRequestPermissions:e,requestingPermissions:t})=>C.createElement(C.Fragment,null,C.createElement(at.z,{onClick:e,"data-fire":"login-attempt, settings_toolbar_sign_in","data-test-attr":"signInLink",width:"full"},C.createElement("b",null,"Allow")," and continue to sign in"),C.createElement(D.x,{as:"p",variant:"text-xsmall",color:"base-subdued",marginTop:-1},t?"We are requesting your browser to grant permission.":"Next, your browser will ask you to grant permission.")),mt=({dynamicConfig:e,userType:t,...n})=>{const a={source:"authHook",slot:O.G0.Toolbar,name:O.Vi.Default,experience:n.authUserDetails.wasAuthenticatedUser||n.isBusiness?O.VP.SignIn:O.VP.SignUp,lastKnownUserType:(0,N.qf)(n.authUserDetails)},{onSignIn:o,onSignUp:i,...r}=(0,st.yw)({dynamicConfig:e}),s=e=>{(0,rt.T)(n.gnar,{authHookDetails:{...a,action:e,authType:O.uN.Email},userType:t})};return C.useEffect((()=>{(0,rt.B)(n.gnar,{authHookDetails:a,userType:t})}),[]),C.createElement(ht,{...n,...r,onSignIn:()=>{const e=O.VP.SignIn;s(e),o({...a,action:e})},onSignUp:()=>{const e=O.VP.SignUp;s(e),i({...a,action:e})}})},gt=({children:e})=>C.createElement("li",null,C.createElement(we.J,{icon:ot.L,size:"small",variant:"brand",accessibilityLabel:""}),C.createElement(D.x,{as:"span",variant:"text-small"},e)),ht=e=>{const{authUserDetails:t,onSignIn:n,onSignUp:a,needPermissions:o,requestingPermissions:i,onRequestPermissions:r,isSafariIOS:s,isBusiness:l,gnar:c}=e,u=o?null:C.createElement(oe.x,{bgColor:"background-brand-subdued",borderRadius:1,padding:2,className:ct.banner},C.createElement(we.J,{icon:it.m,accessibilityLabel:"",size:"large",variant:"brand",style:{minWidth:24}}),C.createElement(D.x,{as:"p",variant:"text-small",color:"brand-default"},l?"You're signed out of Grammarly Business.":"Grammarly is active, but key features are missing."));let d=C.createElement("div",{className:ct.descr},C.createElement(D.x,{as:"p",weight:"semibold"},"Sign up now to unlock the following:"),C.createElement("ul",null,C.createElement(gt,null,"Personal dictionary"),C.createElement(gt,null,"Save and access your documents"),C.createElement(gt,null,"Get weekly writing statistics and tips")));o?d=C.createElement(C.Fragment,null,C.createElement(D.x,{as:"p",weight:"semibold"},(0,b.G2)()," requires your permission to let Grammarly sign you in"),C.createElement(D.x,{as:"p",variant:"text-small"},"Please follow your browser's prompts to allow Grammarly to read grammarly.com site data.")):l&&(d=C.createElement("div",{className:ct.gb_descr},C.createElement(D.x,{as:"p",weight:"semibold"},"Sign in to access:"),C.createElement("ul",null,C.createElement(gt,null,"Writing suggestions"),C.createElement(gt,null,"Style Guide"),C.createElement(gt,null,"Brand Tones"),C.createElement(gt,null,"Snippets"))));let p=C.createElement(ut,{onSignIn:n,onSignUp:a});o?p=C.createElement(pt,{requestingPermissions:i,onRequestPermissions:r}):l?p=C.createElement(dt,{onSignIn:()=>{c.businessToolBarSigninButtonClick("toolbar"),n()},onSignUp:a,hideSupplementaryLink:!0}):t.wasAuthenticatedUser&&(p=C.createElement(dt,{onSignIn:n,onSignUp:a}));const m=(0,h.cs)(o?ct.permission:ct.signin,{[ct.iOS]:s});return C.createElement("div",{className:m},C.createElement(lt.h,{hideDelimiter:!0,isBusiness:l}),C.createElement(B.k,{direction:"column",padding:8,paddingTop:1,paddingBottom:4,className:ct.content,gap:4},u,d,p))};var bt=n(62531),Et=n(25693);Et.G1,Et.bL;function ft(e){return{title:`Use Grammarly in ${e}`,get message(){return`To check your writing on this page in ${e}, you’ll need to get the <a class="openGrammarly" href="${(0,b.Um)().desktop}">Grammarly desktop app</a>.`}}}const vt={"drive.google.com":{title:"Up and running in Google Docs",get message(){return"Start writing in a document and you’ll see suggestions appear."},get icon(){return"ok"}},"docs.google.com":{title:"Grammarly Isn't Available for this Google Product",get message(){return`We hope to support this Google product<br/> in the future, but for now please use your</br> <a class="openGrammarly" href="${(0,b.Um)().app}">Grammarly Editor</a>.`}},"chrome.google.com":{title:"Web Store Not Supported"}};function yt(e,t){return"docs.google.com"===e&&t.includes("/spreadsheets")?ft("Google Sheets"):e.includes("greenhouse.io")&&t.includes("/people")?ft("Greenhouse"):vt[e]}const St=(0,ve.LK)(10),kt=((0,ve.LK)(5),St);(0,ve.LK)(10),(0,ve.LK)(60),(0,ve.i4)(3),(0,ve.an)(12),(0,ve.an)(1),(0,ve.an)(365);var wt=n(72314),Ct=n(98811);const xt=(e="")=>(0,h.cs)(Ct.line,Ct.unsupported_item,e),Tt=({domain:e,customTitle:t,customMessage:n,customIcon:a})=>{const o=t?C.createElement("span",{dangerouslySetInnerHTML:{__html:(0,wt.sanitize)(t)}}):C.createElement(D.x,{as:"p"},C.createElement(D.x,{as:"strong",className:Ct.domain},e)," ","is not supported"),i=n?(0,wt.sanitize)(n):`For technical reasons, we currently do not check your text on this website. Please use your <a class="openGrammarly" href="${(0,b.Um)().app}">Grammarly Editor</a> instead.`,r=a?Ct[a]:Ct.warning;return C.createElement(oe.x,{className:xt()},C.createElement(oe.x,{className:r}),C.createElement(D.x,{as:"strong",className:Ct.unsupported_title,color:"base-default"},o),C.createElement(D.x,{as:"p",color:"base-default"},C.createElement("div",{dangerouslySetInnerHTML:{__html:i}})))},Bt=({domain:e})=>{const t=C.createElement(D.x,{as:"span",variant:"heading-small",color:"base-default"},"Checking Down on"," ",C.createElement(D.x,{as:"strong",color:"base-default",className:Ct.domain},e));return C.createElement(oe.x,{className:xt()},C.createElement(oe.x,{className:Ct.warning}),C.createElement(D.x,{as:"strong",variant:"text-small",className:Ct.unsupported_title},t),C.createElement(D.x,{as:"p",variant:"text-small",color:"base-default"},"There appears to be a temporary glitch affecting Grammarly’s performance on ",e,". Functionality should return soon."))},At=()=>C.createElement(oe.x,{className:xt(Ct.unsupported_grammarly)},C.createElement(oe.x,{className:Ct.ok}),C.createElement(D.x,{as:"strong",variant:"text-small",className:Ct.unsupported_message,color:"base-default"}," ","You Can’t Improve on Perfection"," "),C.createElement("br",null),C.createElement(D.x,{as:"span",variant:"text-small",color:"base-default",className:Ct.unsupported_grammarly_text},"Naturally, Grammarly’s browser extension is deactivated while you use the Grammarly Editor."));function Dt({domain:e,activeTabURL:t,temporary:n,grammarlyEditor:a,unsupportedMessage:o}){const i=yt(e,t);let r;return r=a?"grammarly_editor":i&&i.message||o&&o.message?"custom_message":n?"temporary":"default",r}class Pt extends C.PureComponent{componentDidMount(){const{config:{domain:e,temporary:t,grammarlyEditor:n},activeTab:{url:a}}=this.props,o=Dt({domain:e,activeTabURL:a,grammarlyEditor:null!=n&&n,temporary:null!=t&&t});(0,E.Tb)().settingsUnsupportedShow(o)}render(){const{config:{domain:e,temporary:t,grammarlyEditor:n,unsupportedMessage:a},activeTab:{url:o},isSafariIOS:i}=this.props,r=(0,h.cs)(Ct.gr_popup_unsupported,{[Ct.iOS]:i}),s=function(e,t,n,a){const o=a||yt(e,t);switch(n){case"grammarly_editor":return C.createElement(At,null);case"temporary":return C.createElement(Bt,{domain:e});default:return C.createElement(Tt,{domain:e,customTitle:o&&o.title,customMessage:o&&o.message,customIcon:o&&o.icon})}}(e,o,Dt({domain:e,activeTabURL:o,grammarlyEditor:null!=n&&n,temporary:null!=t&&t,unsupportedMessage:a}),a);return C.createElement(oe.x,{className:r,"data-grammarly-part":"unsupported-component"},C.createElement(oe.x,{className:(0,h.cs)(Ct.content,Ct.unsupported_site)},i?C.createElement(Ue,null):C.createElement(lt.h,null),s,i?null:C.createElement(Pe,{openWebEditor:this.props.openWebEditor,isDocsDisabled:qe.n.isDocsDisabled(this.props.user)})))}}var It=n(35248),Lt=n(19523);const Rt=()=>gn().browserApi,Gt=()=>gn().bgRpc.api,Ut=C.lazy((()=>n.e(7543).then(n.bind(n,20279)).then((({ChromeStoreToolbarPopup:e})=>({default:e}))))),_t=e=>C.createElement(C.Suspense,{fallback:C.createElement(C.Fragment,null)},C.createElement($.L,{chunkName:"chromeStoreToolbarPopup"},C.createElement(Ut,{...e})));class Nt extends C.Component{constructor(){super(...arguments),this._sub=[]}componentDidUpdate(){this.props.resize()}componentDidMount(){this.props.resize({force:!0}),this._sub.push(h.on.call(document,"visibilitychange",(e=>{document.hidden||this.props.resize()})));const{user:e,settings:t}=this.props.state;this._isGdocsPossible()&&(0,X.M)(e,t)&&Gt().sendToFocusTab({kind:Ee.B.Kind.hideGdocsSigninPopupMessage,option:{_tag:Z.f.hide}}),this._sub.push(h.on.call((0,x.findDOMNode)(this),"click",(e=>{const t=e.target.closest("[data-fire]");t&&(e.preventDefault(),this.processSignUpInClick(t))}))),this.props.actions.cheetahReloadStatus()}componentWillUnmount(){this._sub.forEach((e=>e.off()))}_gdocsIsActiveTab(){const{activeTab:e}=this.props.state,t=e&&"url"in e?e.url:void 0;return!!t&&j.test(t)}_isGdocsPossible(){return this._gdocsIsActiveTab()&&!(0,b.Am)()&&((0,b.CB)()||(0,b.pZ)()||(0,b.G6)())}_isDataControlActive(){return"data_control"===this.props.state.extensionFSM.stage}handleLoginAttempt(e){var t;const{actions:n}=this.props;null===(t=n.beginAuth)||void 0===t||t.call(n),"settings_toolbar_sign_up"===e&&se.J.signUpButtonClick("toolbar"),"settings_toolbar_sign_in"===e&&se.J.signInButtonClick("toolbar");const a=Rt();a.beginOAuth&&(a.beginOAuth(),Ot())}processSignUpInClick({href:e,dataset:t}){const{fire:n}=t;if(n){const[e,t]=n.split(", ");if("login-attempt"===e)return void this.handleLoginAttempt(t)}e&&Ht(e)}get settingsPopup(){const e=this.props.getTreatmentRelatedProps();return C.createElement(nt,{actions:this.props.actions,state:this.props.state,close:this.props.close,openUrl:this.props.openUrl,openWebEditor:this.props.openWebEditor,isReportBugFeatureAllowed:this.props.isReportBugFeatureAllowed,openReportBugForm:this.props.openReportBugForm,openDebugPage:this.props.openDebugPage,openSubscriptionDialog:this.props.openSubscriptionDialog,openGBLanding:this.props.openGBLanding,reloadTab:this.props.reloadTab,gdocsIsActiveTab:this._gdocsIsActiveTab(),isSafari:(0,b.G6)(),isChrome:(0,b.i7)(),isSafariIOS:(0,b.Am)(),isKnowledgeHubSupported:e.isKnowledgeHubSupported,isTouchTypistSupported:e.isTouchTypistSupported,citationBuilderSessionId:e.citationBuilderSessionId,isCitationBuilderManualInvocationEnabled:e.isCitationBuilderManualInvocationEnabled,isIndianEnglishDialectSupported:e.isIndianEnglishDialectSupported,isCheetahSupported:e.isCheetahSupported,showSerengetiFeatureToggle:e.showSerengetiFeatureToggle,isAutoApplySupported:e.isAutoApplyEnabled,isGhostProtocolEnabled:e.isGhostProtocolEnabled,isHumanWritingReportSupported:e.isHumanWritingReportSupported,canRequestInProductDiscountSpecialOffer:e.canRequestInProductDiscountSpecialOffer,experimentClient:this.props.experimentClient})}render(){try{const e=this.props,{actions:t,state:n}=e,{user:a,config:o,settings:i,dynamicConfig:r,activeTab:s,installSource:l,growth:c}=n,{chromeStoreSignup:u={}}=c||{},{timesToShowToolbarPopup:d}=u,{anonymous:p}=a,{enabled:m,servicePage:g}=o,h=(0,N.no)(i),E=this._isDataControlActive()?C.createElement(B.k,{align:"center",justify:"center",height:200},C.createElement(V.DataControlPopupDefault,{openAcceptPage:Vt})):e.getTreatmentRelatedProps().isStandWithUkraine?C.createElement(bt.I,{trackPopupShow:()=>{se.J.standWithUkraineSuspendSettingsPopupShow()},onLearnMore:()=>{var e;(0,q.RU)(null===(e=r.standWithUkraineGrammarlySuspendedPopup)||void 0===e?void 0:e.popupLearnMoreButtonLink),se.J.standWithUkraineSuspendLearnMoreButtonClick()},popupDynamicConfig:r.standWithUkraineGrammarlySuspendedPopup}):a.edc&&qe.n.isEdcBlocked(a)?C.createElement(J.w,{institutionName:a.edc.institutionName,ssoUrl:a.edc.ssoUrl}):p&&"chromeStorePopup"===u.popupType?C.createElement(_t,{gnar:se.J,chromeStoreSignup:u,installSource:l,storeActions:t,authUserDetails:h,dynamicConfig:r,onGoogleSignupClick:this.props.openGoogleSignupFlow,isDismissible:!!d&&d>1}):this._gdocsIsActiveTab()?this._isGdocsPossible()&&m?p?C.createElement(Z.b,{userType:qe.n.getType(a),slot:O.G0.Toolbar,authUserDetails:h,bgRpcApi:Gt(),openSigninPage:e=>{const t=Rt();t.beginOAuth?t.beginOAuth():self.open(e)},onClick:t.gdocsOptedIn}):this.settingsPopup:C.createElement(Pt,{activeTab:s,user:a,config:o,isSafariIOS:(0,b.Am)(),openWebEditor:e.openWebEditor}):(0,b.Am)()||!p||$e.isEnabled()&&!i.enabledClickToRun?m||g?this.settingsPopup:C.createElement(Pt,{activeTab:s,user:a,config:o,isSafariIOS:(0,b.Am)(),openWebEditor:e.openWebEditor}):C.createElement(mt,{dynamicConfig:r,storeActions:t,isSafariIOS:(0,b.Am)(),gnar:se.J,userType:qe.n.getType(a),authUserDetails:h,isBusiness:i.authenticatedUserWasBusinessAccount&&this.props.getTreatmentRelatedProps().isGBSigninEnabled}),f=a.edc;return C.createElement(A.A,{scheme:"auto"},C.createElement(Y.o,{ref:e=>this.element=e,"data-grammarly-part":"settingsPopup"},E,f&&C.createElement(te.N,{...f})))}catch(e){throw se.J.fail("popup","popupStateInitFail",e.message),(0,E.Tb)().popup.popupStateInitFail(e.message),e}}}function Ot(){const e=Rt();e.closePopup?e.closePopup():(0,h.ZT)("close-popup")}function Mt({force:e}={}){(0,h.ZT)("update-window-size",{force:e})}function Ft(){Gt().sendToFocusTab({kind:Ee.B.Kind.reloadTab}),Ot()}function Ht(e){Rt().openUrl(e),Ot()}function Wt(e){Ht(e?(0,b.Um)().newDoc:(0,b.Um)().app)}function zt(e){Ht(Lt.WY(e))}function Kt(){Ht(chrome.runtime.getURL("src/debug.html"))}function Vt(){Gt().openDataControl()}function Jt(e){Gt().openSubscriptionPage(e),Ot()}function $t(e){se.J.getGBButtonClick("gbExtUphookPopup","ExploreGrammarlyBusiness");Ht((0,Be.Z4)(e,"gbExtensionSettingsToolbar"))}function qt(e,t,n){if((0,It.B)(gn().experimentClient)){const t={...(0,_.xW)(e),...(0,Be.JQ)()};gn().bgRpc.api.launchAuthFlow(!1,t)}else{const a=(0,Be.wQ)(e,t),o=(0,Be.My)(a,n);self.open(o)}}var jt=n(79477),Zt=n(32626),Xt=n(43912),Yt=n(55830),Qt=n(78300),en=n(24007),tn=n(53981);n(1479);const nn=v.Y.create("universal.popup");let an=!1;function on(){let e=!1;(0,h.cn)(document.documentElement,"gr-"+(0,b.qs)()),(0,b.ED)()&&(0,h.cn)(document.documentElement,"windows"),(0,b.Am)()&&(0,h.cn)(document.body,"gr-safari-ios");const{enableHistoryLoggerInProd:t,bgRpc:n,browserApi:{preferences:o},experimentClient:i}=gn(),r=new Xt.h(o),s=(0,jt.X)(r,n),l=(0,Yt.q)(r),v=(0,y.r)(r,n),A=(0,k.W)(n),_=(0,p.n)(n),N=(0,Zt.z)(n),O=(0,m.b)(n),V=(0,g.o)(n),J=(0,tn.h)(n),$=(0,S.T)(r);ge.initDownloadOnKeyboardShortcut(),r.view("extensionSettings").view((e=>{var t;return null===(t=null==e?void 0:e.common)||void 0===t?void 0:t.historyLoggerEnabled})).subscribe((e=>{t("boolean"!=typeof e||e,"popup state update")}));let q=0;const j=(t=1)=>{if(e)return;nn.debug(`Popup initialization attempt ${t}/2`),q=t;const n=(0,fe.Fb)(ve.m9(3),i.fetchTreatments()).catch((e=>{const t=(0,Qt.H)(e)?e.message:String(e);return nn.warn("Experiments fetch failed, continuing without:",t),(0,E.Tb)().popup.fetchTreatmentsFail(t),null}));c.a([s,n]).pipe(u.P(),d.V(ve.m9(5))).subscribe({next:([t])=>{if(!e)try{e=!0,nn.debug("Popup initialization successful"),function(e,t,n,o){nn.warn("RENDER FROM",{currentState:e,actions:n}),function(e,t,n){const o=new hn;(0,x.render)(C.createElement(a.a.Context.Provider,{value:o},C.createElement(Q.p,null,C.createElement(P.F.Fragment,null,e.pipe(L.O(void 0),R.U((e=>{var a;return e?C.createElement(T.S,{name:"PopupMainViewErrorBoundary",fallback:()=>C.createElement(B.k,{direction:"column",align:"center",justify:"center",margin:4},C.createElement(D.x,{as:"small",variant:"text-xsmall"},"Settings popup cannot be rendered. Please contact Grammarly Support for help."))},C.createElement(Nt,{key:null===(a=e.activeTab)||void 0===a?void 0:a.id,state:e,actions:t,experimentClient:n,close:Ot,resize:Mt,openUrl:Ht,openWebEditor:Wt,isReportBugFeatureAllowed:!n.isGateEnabled(U.K.HideReportBugByGrammarlyEmployeeFeature),openReportBugForm:zt,openDebugPage:Kt,openSubscriptionDialog:Jt,openGBLanding:$t,openGoogleSignupFlow:qt,reloadTab:Ft,getTreatmentRelatedProps:()=>{var t;const a=(0,w.zG)(G.ij(null===(t=e.settings.cheetah)||void 0===t?void 0:t.status),G.g_(w.jv,(e=>e.status===I.l.Status.Enabled||e.status===I.l.Status.OptedOutByUser)));return{isKnowledgeHubSupported:(0,z.a)(n),isTouchTypistSupported:K.A.isAvailableByInstitution(e.dynamicConfig)&&K.A.isAvailableViaGateOrExperiment(n),isGBSigninEnabled:(o=e.user.anonymous,i=!!e.settings.authenticatedUserWasBusinessAccount,o&&(0,b.i7)()&&i),isStandWithUkraine:n.isGateEnabled(U.K.StandWithUkraineGrammarlySuspended),citationBuilderSessionId:(0,M.Td)(e.config.domain,e.dynamicConfig,n.isGateEnabled(U.K.CitationBuilderManualInvocation),e.settings)?(0,M.Cr)():void 0,isCitationBuilderManualInvocationEnabled:n.isGateEnabled(U.K.CitationBuilderManualInvocation),isIndianEnglishDialectSupported:n.isGateEnabled(U.K.IndianEnglishDialect)||n.isGateEnabled(U.K.IndianEnglishDialectInternal),isCheetahSupported:a,showSerengetiFeatureToggle:n.isGateEnabled(U.K.KnowledgeEngineSearchV2Alpha),isAutoApplyEnabled:n.isGateEnabled(U.K.SuggestionDeliveryAutoApply),isGhostProtocolEnabled:(0,F.L)(n),isHumanWritingReportSupported:(0,H.C0)(e.settings.humanWritingReport),canRequestInProductDiscountSpecialOffer:()=>(0,W.ol)(e.user,n)};var o,i}})):null})))),C.createElement(ee.G,null))),document.querySelector(".popup"))}(t,n,o),document.hidden||function(e){const{config:t,user:n,settings:a}=e,{enabled:o}=t;!1===a.enabledClickToRun?se.J.toolbarButtonClick("browser","click_to_run"):o?se.J.toolbarButtonClick("browser","supported"):se.J.toolbarButtonClick("browser","unsupported");if(n.anonymous);}(e);if(rn)return;rn=!0,(0,E.Tb)().popup.initSuccess()}(t,s,{...l.quickSettings,...l.gdocs,...l.settings,...l.tabs,...v,...A,..._,...N,...O,...V,...J,...l.auth,...$},i)}catch(t){throw nn.error("Error in show() function:",t),(0,E.Tb)().popup.popupStateInitFail((0,Qt.H)(t)?t.message:String(t)),e=!1,t}},error:e=>{const n=(0,Qt.H)(e)?e.message:String(e);nn.error(`Popup initialization attempt ${t} failed:`,n),se.J.fail("popup","popupInitFail",`attempt_${t}_${n}`),(0,E.Tb)().popup.popupInitFail(`attempt_${t}_${n}`,(0,en.nG)({})),t<2?(nn.debug(`Retrying initialization in ${1e3*t}ms...`),setTimeout((()=>j(t+1)),1e3*t)):(nn.error("All initialization attempts failed, giving up"),(0,E.Tb)().popup.popupStateInitFail(`all_attempts_failed_${n}`))}})};gn().message.sendBackground("tab-connected",{tab:"popup"}),j(),(0,f.Zk)((()=>{e||(an?(nn.error("Final timeout reached, popup never initialized"),se.J.fail("popup","popupInitTimeout"),(0,E.Tb)().settingsPopupTimeout()):(an=!0,j(q+1)))}),6e3)}let rn=!1;var sn,ln=n(33908),cn=n(10238),un=n(66209),dn=n(11950),pn=n(29483);class mn extends pn.OD{static getInstance(){if(void 0===this._instance)throw new Error("popup Env not inited yet");return this._instance}static get isInited(){return void 0!==this._instance}static init(e){if(void 0!==this._instance)throw new Error("popup Env already inited");const t=new mn(e);if(this._instance=t,pn.OD.initShared(t),!l)throw new Error("Not a popup");const n=(0,E.Tb)();(0,E.HS)(self,n.unhandledExceptions.unhandledPopupException,n.unhandledExceptions.unhandledPopupRejection),on()}constructor(e){super({browser:e.browser,extensionType:e.extensionType,deploymentType:e.deploymentType,context:"popup",browserInfo:e.browserApi.getBrowserInfo(),historyLoggerExtraArgs:{maxEventsToStore:100,backupStorage:new un.f(e.browserApi.sessionStorage,ke.v.popupHistoryLogs,(async()=>{var e;return!await(null===(e=this.bgRpc)||void 0===e?void 0:e.api.isGateEnabled("SessionStorageLogsBackup"))})),getExperimentClient:()=>this.experimentClient}}),(0,ln.wp)(),this.browserApi=e.browserApi,this.message=new cn.w(e.browserApi.message),this.bgRpc=new r.c(this.message),this.experimentClient=(0,o.M)(this.bgRpc),this.telemetryCallProvider=(0,dn._)(this.bgRpc),this.productMetricsCSClient=(0,i.l)(this.bgRpc)}}function gn(){return mn.getInstance()}!function(e){e.Flag=a.a.Flag}(sn||(sn={}));class hn{constructor(){this._flags=new Set,this.actions={openUrl:()=>{throw new Error("Not implemented")},openPopup:()=>{throw new Error("Not implemented")}}}has(e){return this._flags.has(e)}}},47052:(e,t,n)=>{n.d(t,{h:()=>p});var a=n(92379),o=n(50635),i=n(59819),r=n(36279),s=n(64803),l=n(4026),c=n(16381),u=n(72032),d=n(90867);const p=e=>{var t;return a.createElement(o.k,{className:(0,l.cs)(d.header,!e.hideDelimiter&&d.delimiter)},a.createElement("a",{target:"_blank",rel:"noreferrer",href:null!==(t=e.appUrl)&&void 0!==t?t:(0,c.Um)().app,className:d.logo,"aria-label":"Grammarly homepage (opens in a new tab)"},a.createElement(i.T,{composition:"lockup",accessibilityLabel:"",brand:(0,u.T)("go"),height:21})),e.onClose&&a.createElement("button",{onClick:e.onClose,className:d.closeButton},a.createElement(r.J,{icon:s.V,size:"small",accessibilityLabel:"Close"})))}},64835:(e,t,n)=>{n.d(t,{a7:()=>je});var a=n(92379),o=n(15484),i=n(76282),r=n(50635),s=n(69554),l=n(31702),c=n(83542),u=n(52348),d=n(27106),p=n(36279),m=n(19347),g=n(52563),h=n(4765),b=n(97231),E=n(90595),f=n(29483);var v=n(28898),y=n(27982);function S(e){const{handleToggle:t}=function(e){const{enabled:t,onEnabled:n}=e,o=a.useRef(t);return a.useEffect((()=>{o.current=t}),[t]),{handleToggle:a.useCallback((e=>{var t;!o.current&&e&&n&&(null===(t=(0,v.O)().experimentClient)||void 0===t?void 0:t.isGateEnabled(y.K.SuperhumanWelcomePageOnOptIn))&&setTimeout((()=>{n()}),1e3),o.current=e}),[n])}}({enabled:e.superhumanGoEnabled,onEnabled:e.onSuperhumanGoEnabled}),n=a.useCallback((n=>{e.superhumanGoToggle(n),t(n)}),[e.superhumanGoToggle,t]);return a.createElement(r.k,{direction:"column",gap:4},a.createElement(r.k,{direction:"row",gap:2},a.createElement(s.X,{variant:"heading-xsmall",as:"h4",color:"base-default"},a.createElement(l.x,{as:"span",weight:"bold"},"Our new experience")),a.createElement(d.V,{label:"Beta",variant:"success"})),a.createElement(i.r,{label:"Use Superhuman Go",helperMessage:"Switch to Go, an upgraded product powered by helpful AI agents, including Grammarly.",isSelected:e.superhumanGoEnabled,onChange:n}))}var k,w=n(56863),C=n(6266),x=n(62067),T=n(9237),B=n(20851),A=n(70708);!function(e){e.isGranted=function(e,t=(0,v.O)().browserApi.permissions){return t?t.contains({permissions:[e]}):Promise.resolve(!1)},e.request=function(e,t=(0,v.O)().browserApi.permissions){return t?t.request({permissions:[e]}):Promise.resolve(!1)}}(k||(k={}));var D=n(39565),P=n(1182),I=n(39963),L=n(53768),R=n(1527);const G=e=>a.createElement(r.k,{direction:"row",style:{gap:"12px",width:"100%",backgroundColor:L.Gold0,borderBottom:`1px solid ${L.Gold10}`},padding:"8px 16px 10px 16px"},a.createElement(r.k,{width:"36px"},a.createElement(R.u,null)),a.createElement(r.k,{direction:"column",style:{gap:"8px"}},a.createElement(r.k,{direction:"column",style:{gap:"2px"}},a.createElement(s.X,{as:"h1",variant:"heading-xxsmall",style:{marginTop:"4px"}},"Boost Grammarly’s Performance"),a.createElement(l.x,{as:"p",variant:"text-xsmall"},"Allow the Grammarly Chrome extension to connect with the desktop app to provide suggestions faster.")),a.createElement(u.z,{variant:"ghost",onClick:e.onClick,text:"Continue",size:"small",style:{position:"relative",left:"-8px"}}))),U=a.memo((function(e){const[t,n]=a.useState(!1),o=a.useCallback((()=>{const{connector:e}=(0,I.Tb)();e.permissionViewClicked("settingPopup"),(0,f.OB)().bgRpc.api.requestGrantPermissionAndReloadExtOnAccept(D.d.nativeMessaging)}),[]);return a.useEffect((()=>{e.url&&Promise.all([(0,f.OB)().bgRpc.api.getSystemInfo().then((({os:t})=>A.R.shouldEnableFieldIntegration(t,(0,f.OB)(),e.url,e.domain))),k.isGranted(D.d.nativeMessaging)]).then((([e,t])=>{n(e&&!t)}))}),[]),a.useEffect((()=>{t&&(0,I.Tb)().connector.permissionViewShow("settingPopup")}),[t]),t?a.createElement(P.w,null,a.createElement(G,{onClick:o})):null}));var _=n(15329),N=n(99548),O=n(63349),M=n(12712),F=n(1087),H=n(64803),W=n(33885),z=n(13391),K=n(11816),V=n(19540),J=n(44114);const $=({userId:e,settings:t,isMac:n,actions:o,gnar:s})=>{var c,p;const m=null!==(c=null==t?void 0:t.enabled)&&void 0!==c?c:K.Y.enabled,g=a.useRef(null),b=z.h.create(!1),E=null!==(p=null==t?void 0:t.hotkey)&&void 0!==p?p:"Tab",f=new V.c(E,b);a.useEffect((()=>{const e=f.listenToHotkeyChange(n);return()=>{e.unsubscribe()}})),a.useEffect((()=>{const e=f.isActiveHotkeyChange.subscribe((e=>{e&&setTimeout((()=>{g.current&&(g.current.focus(),b.set(!0))}),0)}));return()=>e.unsubscribe()}),[f.isActiveHotkeyChange]);const v=a.useCallback((t=>{(async()=>{await o.toggleTouchTypistByUser({enabled:t,userId:e}),await s.touchTypistSettingsToggleClick(t?"on":"off")})()}),[e]),y=()=>{const e=f.tmpHotkey.get();e===E?f.onDismissHotkeyChange():(f.onApplyHotkeyChange(o),s.touchTypistSettingsEditHotkeyButtonClick(e))};return a.createElement(r.k,{direction:"column",gap:2},a.createElement(r.k,{gap:2,justify:"start",className:J.heading,color:"base-default"},"Quick fix",a.createElement(d.V,{label:"Beta",variant:"addition"})),a.createElement(i.r,{label:"Accept all critical suggestions with a key",isSelected:m,onChange:v}),a.createElement(r.k,{direction:"row",justify:"space-between",align:"center"},a.createElement(l.x,{color:"base-default",as:"span",variant:"text-xsmall",className:J.labelsFont},"Quick fix key"),a.createElement(W.F.div,{className:J.labelsFont},z.h.combine(f.tmpHotkey,f.isActiveHotkeyChange,((e,t)=>t?a.createElement(h.n,{ref:g,value:e,style:{width:O.ux.px(130)},labelDisplay:"hidden",label:"Change quick fix key",onBlur:()=>b.set(!1)}):a.createElement(l.x,{color:"base-default",as:"span",variant:"text-xsmall"},e)))),a.createElement(W.F.div,null,f.isActiveHotkeyChange.view((e=>e?a.createElement(r.k,{gap:.5},a.createElement(M.h,{"data-testid":"accept-shortcut-change",accessibilityLabel:"Accept",style:{backgroundColor:"#11A683"},variant:"primary",icon:F.L,onClick:y}),a.createElement(M.h,{"data-testid":"dismiss-shortcut-change",accessibilityLabel:"Dismiss",variant:"secondary",icon:H.V,onClick:()=>f.onDismissHotkeyChange()})):a.createElement(u.z,{variant:"ghost",onClick:()=>f.onIsActiveHotkeyChange()},"Edit"))))))};var q=n(4026),j=n(16415),Z=n(13162),X=n(35248),Y=n(16381),Q=n(95404),ee=n(19724),te=n(91957),ne=n(18473),ae=n(74316),oe=n(19523),ie=n(43795),re=n(74609),se=n(7889),le=n(37087);const ce="https://gateway.grammarly.com/api/jira/tickets/create";class ue{constructor(e,t){this.getAuthToken=e,this.getCSRFToken=t,this.apiEndpoint=ce}async submitBugReport(e){try{const[t,n]=await Promise.all([this.getAuthToken(),this.getCSRFToken()]),a={Authorization:`Bearer ${t}`,"X-Requested-With":"XMLHttpRequest","X-Client-Type":"browser-extension","Content-Type":e.contentType};n&&(a["X-CSRF-Token"]=n);const o=await fetch(this.apiEndpoint,{method:"POST",headers:a,body:e.body,mode:"cors",credentials:"omit",referrerPolicy:"no-referrer"});if(!o.ok){const e=await o.text();throw new Error(`HTTP error! status: ${o.status}, body: ${e}`)}const i=await o.json();if(!i.success)throw new Error(i.message||"Failed to submit bug report");return i}catch(e){throw new Error(`Failed to submit bug report: ${e instanceof Error?e.message:"Unknown error"}`)}}}class de{constructor(e,t){this.user=e,this.config=t}createDetailedDescription(e){var t;const n=b.Rd().systemInfo;return`\nDescription:\n${e}\n\n\n*Environment Details:\n- Domain: ${this.config.domain}\n- User Agent: ${(null===(t=null==n?void 0:n.browser)||void 0===t?void 0:t.userAgent)||navigator.userAgent}\n\nSubmitted via: Extension Bug Report Form\n    `.trim()}createReporterName(){return`${this.user.firstName} ${this.user.lastName||""}`.trim()}createFormData(e){var t,n;const a=b.Rd().systemInfo;return{project:"PBUG",summary:e.title.trim(),description:this.createDetailedDescription(e.description),reporterEmail:this.user.email,reporterName:this.createReporterName(),source:"Internal",userType:oe.Ng(this.user),browser:(null===(t=null==a?void 0:a.browser)||void 0===t?void 0:t.name)||"Unknown",operatingSystem:(null===(n=null==a?void 0:a.os)||void 0===n?void 0:n.name)||"Unknown",clientVersion:(0,Y.bo)(),team:"Browser extensions",issueType:"Bug",priority:"Major",assignee:"extension-team@grammarly.com",labels:`extension,bug-report,${this.config.domain},auto-submitted`}}buildFormDataForSubmission(e,t){const n=new FormData;return Object.entries(t).forEach((([e,t])=>{n.append(e,t)})),e.attachments.forEach((e=>{n.append("attachments",e,e.name)})),n.append("attachments",e.debugLogs,e.debugLogs.name),n}async buildCustomFormDataForSubmission(e,t){const n=`----formdata-${Date.now()}-${Math.random().toString(16).substring(2)}`,a="\r\n",o=new TextEncoder,i=[],r=(e,t)=>{i.push(o.encode(`--${n}\r\n`)),i.push(o.encode(`Content-Disposition: form-data; name="${e}"\r\n\r\n`)),i.push(o.encode(`${t}\r\n`))},s=async(e,t)=>{const r=await t.arrayBuffer();i.push(o.encode(`--${n}\r\n`)),i.push(o.encode(`Content-Disposition: form-data; name="${e}"; filename="${t.name}"\r\n`)),i.push(o.encode(`Content-Type: ${t.type}\r\n\r\n`)),i.push(new Uint8Array(r)),i.push(o.encode(a))};for(const[e,n]of Object.entries(t))r(e,n);for(const t of e.attachments)await s("attachments",t);await s("attachments",e.debugLogs),i.push(o.encode(`--${n}--\r\n`));const l=i.reduce(((e,t)=>e+t.length),0),c=new Uint8Array(l);let u=0;for(const e of i)c.set(e,u),u+=e.length;return{body:c,contentType:`multipart/form-data; boundary=${n}`}}}const pe=e=>a.createElement(d.V,{label:e.label||"Beta",variant:"addition",inline:!0}),me=({label:e,betaLabel:t,...n})=>a.createElement(se.Z,{label:`${e} (${t||"Beta"})`,...n},e," ",a.createElement(pe,{label:t}));function ge(e){var t,n,o,c,d,p,m,g;const h=!1!==(null===(n=null===(t=e.cheetahSettings)||void 0===t?void 0:t.status)||void 0===n?void 0:n.cheetahEnabled);return a.createElement(r.k,{direction:"column",gap:2},a.createElement(r.k,{direction:"column"},a.createElement(r.k,{justify:"space-between",align:"center"},a.createElement(s.X,{variant:"heading-xsmall",as:"h2",color:"base-default"},"Generative AI"),a.createElement(u.z,{variant:"ghost",text:"Manage","data-grammarly-part":"cheetahManageBtn",onClick:()=>{e.openCheetahSettings()}})),a.createElement(l.x,{as:"p",variant:"text-xsmall",color:"base-subdued"},"Brainstorm, write, and rewrite with Grammarly's generative AI assistance.")),e.showDockedAssistantToggle&&a.createElement(me,{label:"Use docked chat launcher",isSelected:h&&e.dockedAssistantEnabled,onChange:e.dockedAssistantToggle,disabled:!h,betaLabel:"Beta",helperMessage:"Replace the widget in text fields with our new AI chat sidebar."}),a.createElement(i.r,{label:"Show on text selection",isSelected:h&&!1!==(null===(d=null===(c=null===(o=e.cheetahSettings)||void 0===o?void 0:o.status)||void 0===c?void 0:c.entryPointsConfig)||void 0===d?void 0:d.inlineRewriteEnabled),disabled:!h,onChange:t=>e.cheetahToggleInlineRewrite(t)}),a.createElement(i.r,{label:"Show for quick replies",isSelected:h&&!1!==(null===(g=null===(m=null===(p=e.cheetahSettings)||void 0===p?void 0:p.status)||void 0===m?void 0:m.entryPointsConfig)||void 0===g?void 0:g.inlineQuickReplyEnabled),disabled:!h,onChange:t=>e.cheetahToggleInlineQuickReply(t)}),e.showSerengetiFeatureToggle&&a.createElement(me,{label:"Use organizational context",isSelected:e.serengetiEnabled,onChange:e.serengetiToggle,betaLabel:"Internal"}))}function he(e){return a.createElement(i.r,{label:"Show definitions and synonyms via double clicks (all sites)",isSelected:e.enabledDefs,onChange:t=>{const{toggleDefs:n}=e;n(t),re.J.definitionToggleClick(t?"on":"off"),(0,I.Tb)().toggleExtensionDefs(t)},isDisabled:e.disabled,"data-grammarly-part":"definitionAndSynonymsSwitcher"})}var be=n(71798),Ee=n(26806),fe=n(17833),ve=n(69652),ye=n(83816),Se=n(89298);const ke=()=>a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M13.9207 15L15.5 17.2562L17.0793 15H13.9207Z",stroke:"#6D758D",strokeWidth:"2"}));var we=n(23393);const Ce={american:a.createElement((()=>a.createElement("div",{className:Se.american,role:"presentation"})),null),australian:a.createElement((()=>a.createElement("div",{className:Se.australian,role:"presentation"})),null),british:a.createElement((()=>a.createElement("div",{className:Se.british,role:"presentation"})),null),canadian:a.createElement((()=>a.createElement("div",{className:Se.canadian,role:"presentation"})),null),indian:a.createElement((()=>a.createElement("div",{className:Se.indian,role:"presentation"})),null)},xe=({dialect:e,className:t})=>a.createElement(a.Fragment,null,Ce[e],a.createElement("span",{"data-test-attr":`dialect_${e}`,className:`${we.option} ${null!=t?t:""}`},(0,ye.kC)(e)+" English"));var Te=n(40072);const Be=({lock:e={message:"",isLocked:!1},dialect:t})=>a.createElement("div",{className:Te.label},e.isLocked&&a.createElement(ve.u,{message:e.message},a.createElement("div",{className:Te.lockIconWrapper},a.createElement(fe.N,null))),a.createElement(be.zx.White,{name:"dialect.box",style:{padding:"0"},disabled:e.isLocked},a.createElement("div",{className:`${Te.selected} ${e.isLocked?Te.disabled:""}`},a.createElement(xe,{dialect:t,className:Te.option}),a.createElement(ke,null))));var Ae=n(60052);class De extends a.Component{render(){var e;const t=this.props.dropdownOnTop?{customPosition:{top:`-${32*(this.props.dialects.length-1)+4}px`,left:"0"},vAlign:"top"}:{customPosition:{top:"36px",left:"0"}};return(null===(e=this.props.lock)||void 0===e?void 0:e.isLocked)?a.createElement(Be,{lock:this.props.lock,dialect:this.props.dialect}):a.createElement(Ee.L,{...t,showDelay:0,closeDelay:150,appearanceBehavior:"mouseClick",name:"dialect",label:a.createElement(Be,{dialect:this.props.dialect})},this.props.dialects.filter((e=>e!==this.props.dialect)).map((e=>a.createElement(be.zx.Flat,{name:e,key:e,onClick:t=>(null==t?void 0:t.isTrusted)&&this.props.onSetDialect(e)},a.createElement("div",{className:Ae.option},a.createElement(xe,{className:Ae.label,dialect:e}))))))}}var Pe=n(78767),Ie=n(72329);const Le=({children:e,blocked:t,wrapperClassName:n,disabledText:o="Sign in to use this feature"})=>t?a.createElement(ve.u,{message:o,position:"top"},a.createElement(c.x,{className:n},a.createElement("div",{className:Ie.hover_blocker,onClick:Pe.EI,onDoubleClick:Pe.EI},e))):a.createElement(a.Fragment,null,e);class Re extends a.Component{constructor(){super(...arguments),this.setDialect=e=>{const{changeStrongDialect:t,dialectWeak:n}=this.props;t(e);const a=e+"English";re.J.languageSettingUpdate(a,"user",n&&e===n)}}render(){const e=this.props.dialectStrong||this.props.dialectWeak||"american";return a.createElement(r.k,{align:"center",justify:"space-between"},a.createElement(l.x,{as:"p",variant:"text-small",weight:"medium",color:"base-default"},"I write in"),a.createElement(Le,{blocked:this.props.disabled},a.createElement(De,{dialect:e,dialects:this.props.dialects,onSetDialect:this.setDialect,dropdownOnTop:!!this.props.dropdownOnTop,lock:this.props.lock})))}}var Ge=n(78021);const Ue=({currentOpenShortcut:e,currentCloseShortcut:t,currentVBarsShortcut:n,onSetShortcut:o,showVBarsShortcut:i,isMac:c,isSuperhumanGoBrandingEnabled:u})=>{const d="keyboard-shortcut-setting-description",p=u?"Open new chat":"Open Grammarly";return a.createElement(r.k,{direction:"column"},a.createElement(s.X,{variant:"heading-xsmall",as:"h2",color:"base-default"},"Shortcuts"),a.createElement(l.x,{as:"p",variant:"text-xsmall",color:"base-subdued",id:d},"Use any keys in shortcuts, except for tab, enter, caps lock, home, end, page up, page down, delete, backspace, insert, and arrow keys."),a.createElement(r.k,{gap:1,direction:"column",color:"base-default"},a.createElement(Ge.Z,{label:p,isMac:c,currentShortcut:e,onSetShortcut:e=>{o("openAssistant",e),re.J.keyboardShortcutShortcutKeysChanged("openAssistant")},ariaDescribedBy:d}),a.createElement(Ge.Z,{label:"Close Grammarly",isMac:c,currentShortcut:t,onSetShortcut:e=>{o("closeAssistant",e),re.J.keyboardShortcutShortcutKeysChanged("closeAssistant")},ariaDescribedBy:d}),i&&a.createElement(Ge.Z,{label:"Open sidecard",isMac:c,currentShortcut:n,onSetShortcut:e=>{o("openVBar",e),re.J.keyboardShortcutShortcutKeysChanged("openVBar")},ariaDescribedBy:d})))};var _e=n(28077),Ne=n(46577),Oe=n(78703);const Me=()=>a.createElement("div",{className:Ne.separator}),Fe=e=>{const t={source:"authHook",slot:x.G0.Toolbar,name:x.Vi.SessionTimeout,lastKnownUserType:(0,C.qf)(e.authUserDetails),experience:x.VP.SignIn};return a.createElement("div",{className:Oe.sessionTimeoutWrapper},a.createElement("div",{className:Oe.sessionTimeoutDiv},a.createElement("div",{className:Oe.sessionTimeoutTextAndIcon},a.createElement("div",null,a.createElement(ae.K,{className:Oe.sessionTimeoutPopupIcon,width:"32",height:"32"})),a.createElement("div",{className:Oe.sessionTimeoutText},a.createElement("span",null,"Company policy expires your session in 1 hour."," ",a.createElement(o.r,{href:"#",onClick:()=>{const n={utmCampaign:"toolbarMenu",utmSource:"signinHook"};(0,X.B)((0,f.OB)().experimentClient)?(0,f.OB)().bgRpc.api.launchAuthFlow(!1,{...(0,w.xW)(t),...(0,Q.OC)((0,Q.g7)(n))}):e.openUrl((0,Q.s7)(t,n,!0))},variant:"secondary",weight:"bold"},a.createElement("span",{className:Oe.signinLink},"Sign in"))," ","to avoid interruption.")))),a.createElement(Me,null))},He=e=>a.createElement(i.r,{label:e.isAutoApplySupported?"Correct text automatically":"Correct spelling automatically",isSelected:e.enabled,onChange:e.toggle,"data-grammarly-part":"settings-toggle-autocorrect"}),We=e=>a.createElement(i.r,{isSelected:!e.enabled,label:"Check text with browser extension",helperMessage:e.enabled?"Grammarly's browser extension was deactivated since you're using Grammarly's desktop application":void 0,onChange:t=>{e.toggle(!t)},"data-grammarly-part":"disableDesktopIntegrationToggle"}),ze=e=>a.createElement(i.r,{label:"Show emoji for detected tones",isSelected:e.enabled,onChange:e.toggle,"data-grammarly-part":"settings-toggle-show-emoji-for-detected-tones"}),Ke=e=>a.createElement(i.r,{label:"Show Knowledge Share",isSelected:e.enabled,onChange:e.toggle}),Ve=e=>a.createElement(r.k,{direction:"column",gap:2,className:Ne.section},a.createElement(s.X,{as:"h3",className:Ne.heading,color:"base-default"},a.createElement(r.k,{gap:2,justify:"start",align:"center"},"Accessibility")),a.createElement(i.r,{label:"Turn on enhanced screen reader support",isSelected:e.enabled,onChange:e.toggle})),Je=e=>a.createElement(se.Z,{label:`Show “Get citation” button on ${e.domain}`,isSelected:e.enabled,onChange:e.toggle},"Show “Get citation” button on"," ",a.createElement(l.x,{as:"span",variant:"text-small",weight:"semibold",color:"base-default",style:{display:"block",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:250}},e.domain)),$e=e=>a.createElement(i.r,{label:e.label,isSelected:e.enabled,isDisabled:e.disabled,onChange:e.toggle,helperMessage:e.helperMessage}),qe=({showReportBugButton:e,...t})=>{var n,b,E;const v=t.advancedHistoryLoggerEnabledUntil?Math.ceil((t.advancedHistoryLoggerEnabledUntil-Date.now())/6e4):0;return a.createElement(c.x,{"data-grammarly-part":"debugMenu"},a.createElement(Me,null),a.createElement(c.x,{className:Ne.debugMenu},a.createElement(r.k,{direction:"column",gap:3},a.createElement(s.X,{as:"h3",className:Ne.heading},a.createElement(l.x,{as:"span",color:"base-default"},"Debug Menu"),t.showHideButton&&a.createElement(u.z,{variant:"ghost",text:"Hide","data-grammarly-part":"debugMenuHideBtn",onClick:()=>{(0,f.OB)().bgRpc.api.toggleDebugMenu(!1)}})),a.createElement(i.r,{label:"Logging",onChange:e=>{e?(0,f.OB)().bgRpc.api.enableHistoryLoggerUntil(-1):(0,f.OB)().bgRpc.api.disableHistoryLogger()},"data-grammarly-part":"debugMenuLoggingToggle",isSelected:t.isEnabled}),a.createElement(Me,null),a.createElement(se.Z,{label:`Advanced Logging (${v} minutes left)`,isSelected:t.isAdvancedEnabled,isDisabled:!t.isEnabled,onChange:()=>{t.isAdvancedEnabled?(0,f.OB)().bgRpc.api.disableAdvancedHistoryLogger():(0,f.OB)().bgRpc.api.enableAdvancedHistoryLoggerUntil(Date.now()+36e5)}},"Advanced Logging"," ",t.isAdvancedEnabled&&null!==t.advancedHistoryLoggerEnabledUntil&&t.advancedHistoryLoggerEnabledUntil>0&&a.createElement(d.V,{label:`${v} mins left`,inline:!0})),a.createElement(Me,null)),a.createElement(s.X,{as:"h4",className:Ne.heading},a.createElement(u.z,{variant:"ghost",text:"Download Logs",className:Ne.downloadBtn,isDisabled:!t.isEnabled,onClick:t.downloadDebugReports,"data-grammarly-part":"debugMenuDownloadLogBtn"}),!0===e.enabled&&a.createElement(o.r,{href:"#",underline:"hover",weight:"bold",className:Ne.downloadBtn,"data-grammarly-part":"debugMenuReportBugBtn",onClick:()=>{e.onClick()}},a.createElement(r.k,null,a.createElement(l.x,{as:"span",variant:"text-small"},"Report a bug"),a.createElement(p.J,{icon:m.n,accessibilityLabel:"",size:"small",variant:"inherit"})))),t.showDebugPage&&a.createElement(a.Fragment,null,a.createElement(Me,null),a.createElement(s.X,{as:"h4",className:Ne.heading},a.createElement(o.r,{href:"#",underline:"hover",weight:"bold",className:Ne.downloadBtn,"data-grammarly-part":"debugMenuDebugPageBtn",onClick:t.openDebugPage},a.createElement(r.k,null,a.createElement(l.x,{as:"span",variant:"text-small"},"View debug page"),a.createElement(p.J,{icon:m.n,accessibilityLabel:"",size:"small",variant:"inherit"}))))),null!=t.gOSDebugSettings?a.createElement(a.Fragment,null,a.createElement(Me,null),a.createElement(c.x,{className:Ne.gOSMenu},a.createElement(r.k,{direction:"column",gap:3},a.createElement(s.X,{as:"h3",className:Ne.heading,color:"base-default"},"gOS Developer Settings"),a.createElement(i.r,{label:"Debugger",isSelected:t.gOSDebugSettings.debuggerEnabled,onChange:null===(n=t.gOSDebugSettings)||void 0===n?void 0:n.toggleDebugger,"data-grammarly-part":"gOSDebuggerToggle"}),a.createElement(Me,null)),a.createElement(r.k,{className:Ne.menuItem,justify:"space-between"},a.createElement(l.x,{as:"p",variant:"text-small",weight:"medium",color:"base-default",marginTop:2},"Applet Channel"),a.createElement("div",{style:{width:"106px"}},a.createElement(g.P,{id:"gos-applet-channel",value:null!==(b=t.gOSDebugSettings.appletChannel)&&void 0!==b?b:"stable",onChange:e=>{var n;null===(n=t.gOSDebugSettings)||void 0===n||n.setAppletChannel(e)},label:"Applet Channel",labelDisplay:"hidden"},a.createElement(g.P.Option,{value:"dev",label:"dev"}),a.createElement(g.P.Option,{value:"preview",label:"preview"}),a.createElement(g.P.Option,{value:"stable",label:"stable"}),a.createElement(g.P.Option,{value:"qa",label:"qa"})))),a.createElement(Me,null),a.createElement(r.k,{className:Ne.menuItem,justify:"space-between"},a.createElement(l.x,{as:"p",variant:"text-small",weight:"medium",color:"base-default",marginTop:2},"Assistant URL"),a.createElement("div",{style:{width:"190px"}},a.createElement(h.n,{labelDisplay:"hidden",label:"Assistant URL",id:"gos-assistant-applet-url",type:"url",placeholder:"e.g. http://localhost:3000/",value:null!==(E=t.gOSDebugSettings.assistantAppletUrl)&&void 0!==E?E:"",onChange:e=>{var n;null===(n=t.gOSDebugSettings)||void 0===n||n.setAssistantAppletUrl(e)}}))))):null))},je=e=>{var t,i,u,d,g,h,v,y,k,w,x,A,D,P,L,R,G;const{actions:O,activeTab:M,config:F,settings:H,dapi:W,user:z,sessionTimeoutValue:K,siteCategory:V,placement:J,dynamicConfig:X,enableRenderingHack:Q=!1,showCitationBuilderToggle:ae=!0,citationBuilderSessionId:se,isCitationBuilderManualInvocationEnabled:ce=!1,isKnowledgeHubSupported:pe=!1,isTouchTypistSupported:me=!1,isIndianEnglishDialectSupported:be=!1,isCheetahSupported:Ee=!1,showSerengetiFeatureToggle:fe=!1,isReportBugFeatureAllowed:ve,isAutoApplySupported:ye=!1,className:Se,downloadDebugReports:ke,isHumanWritingReportSupported:we=!1}=e,Ce=(0,f.OB)().experimentClient,xe=(0,ne.f)(),Te=function(){const[e,t]=a.useState(!1);return a.useEffect((()=>{(0,f.OB)().experimentClient.isGateEnabled(E.K.AssistantInSidePanel)&&(0,f.OB)().bgRpc.api.isSidePanelSupported().then(t)}),[]),e}(),Be=Te&&!xe,Ae=Te&&xe,De=(0,C.no)(H),{isBugReportFormOpen:Pe,BugReportForm:Ie,showReportBugButton:Le,openBugReportForm:Ge,closeBugReportForm:je,handleBugReportSubmit:Ze}=function(e,t,o){const[i,r]=a.useState(!1),[s,l]=a.useState(null),c=a.useMemo((()=>new de(e,t)),[e,t]),u=a.useMemo((()=>new ue((async()=>await(0,le.OB)().bgRpc.api.getAccessToken()),(async()=>await(0,le.OB)().bgRpc.api.getCSRFToken()))),[]),d=a.useMemo((()=>(ee.n.isGrammarlyEmployee(e)||ee.n.isTestUser(e))&&o),[e,o]);a.useEffect((()=>{d&&!s&&n.e(6111).then(n.bind(n,16111)).then((e=>{l((()=>e.BugReportForm))}))}),[d,s]);const p=a.useCallback((async e=>{const t=c.createFormData(e),n=await c.buildCustomFormDataForSubmission(e,t);return await u.submitBugReport(n)}),[c,u]),m=a.useCallback((()=>{r(!0)}),[]),g=a.useCallback((()=>{r(!1)}),[]);return{isBugReportFormOpen:i,BugReportForm:s,showReportBugButton:d,openBugReportForm:m,closeBugReportForm:g,handleBugReportSubmit:p}}(z,F,ve);Q&&a.useEffect((()=>{(0,Y.CB)()&&(self.screenLeft<0||self.screenTop<0||self.screenLeft>self.screen.width||self.screenTop>self.screen.height)&&chrome.runtime.getPlatformInfo((e=>{if("mac"===e.os){const e=new CSSStyleSheet;e.insertRule("\n            @keyframes redraw {\n              0% {\n                opacity: 1;\n              }\n              100% {\n                opacity: .99;\n              }\n            }\n          "),e.insertRule("\n            html {\n              animation: redraw 1s linear infinite;\n            }\n          "),document.adoptedStyleSheets=[...document.adoptedStyleSheets,e]}}))}),[]);const{anonymous:Xe}=z,Ye=Ce.isGateEnabled(E.K.ExtensionBugSubmissionForm),Qe=(0,Y.i7)()&&ee.n.isGrammarlyEmployee(z),et=ee.n.isGrammarlyEmployee(z)&&(0,_.V)(Ce),tt=Ce.isGateEnabled(E.K.KeyboardShortcut),{dialectSettings:nt}=H,at=(null==nt?void 0:nt.dialect)||W.dialectStrong,ot=["british","american","australian","canadian",...be?["indian"]:[]],it=e.siteSwitcherChecked||{checked:!!H.enabled,update:t=>{const{siteCategory:n}=e;O.toggleSite(t,F.domain),re.J.checkingToggleClick("toolbar",n,t?"on":"off",F.domain),(0,I.Tb)().toggleExtension(t,"toolbar",(0,te.Cg)(F.domain))}},rt=a.useCallback((e=>{const t=M&&new URL(M.url).pathname;O.toggleCitationBuilderForDomain({domain:F.domain,enabled:e,pathName:t,inAllowList:M&&(0,B.eC)(new URL(M.url),X)}),e||re.J.citePopupButtonDisable(F.domain,"permanent",se||"","toolbar",ce&&!0===(0,B.gO)(F.domain,H))}),[null==M?void 0:M.url,F.domain,se]);return a.createElement(c.x,{className:(0,q.cs)(Ne.settingsContent,Se),"data-grammarly-part":"settings"},(()=>{const{customSessionTimeoutInfo:e}=z;return!!(0,ie.Xv)(e,Ce)&&(0,ie.dU)(K)})()&&a.createElement(Fe,{openUrl:e.openUrl,authUserDetails:De}),a.createElement(U,{url:null==M?void 0:M.url,domain:F.domain}),a.createElement(c.x,{className:Oe.popupSettings},a.createElement(r.k,{direction:"column",gap:3,marginBottom:H.isDebugMenuVisible||Le?3:void 0},Ae&&a.createElement(S,{superhumanGoToggle:O.toggleAlwaysAvailableAssistant,superhumanGoEnabled:!!(null===(t=H.alwaysAvailableAssistantSettings)||void 0===t?void 0:t.enabled),onSuperhumanGoEnabled:()=>{(0,f.OB)().bgRpc.api.openSuperhumanGoWelcomePage().catch((()=>{}))}}),a.createElement(s.X,{as:"h4",variant:"heading-large",className:Ne.heading},a.createElement(l.x,{as:"span",color:"base-default"},"Quick Settings"),a.createElement(o.r,{href:"#",underline:"hover",weight:"bold",onClick:()=>{e.openUrl((0,Y.Um)().allSettings),re.J.allSettingsButtonClick(J)}},a.createElement(r.k,{className:Ne.allSettings},a.createElement(l.x,{as:"span",variant:"text-small"},"All Settings"),a.createElement(p.J,{icon:m.n,accessibilityLabel:"",size:"small",variant:"inherit"})))),j.q.showSettingPopupToggle(W,H,X,null==M?void 0:M.url)&&a.createElement(a.Fragment,null,a.createElement(We,{toggle:e=>{O.setDesktopIntegration(e),re.J.desktopIntegrationToggleClick(e?"on":"off")},enabled:H.isDesktopIntegrationEnabled}),a.createElement(Me,null)),a.createElement(_e.w,{domain:F.domain,enabledInConfig:null!==(i=F.enabled)&&void 0!==i&&i,siteSwitcherChecked:it,favicon:null==M?void 0:M.favIconUrl,siteCategory:V}),me&&a.createElement(a.Fragment,null,a.createElement(Me,null),a.createElement($,{userId:z.id,settings:H.touchTypistSettings,isMac:(0,f.nD)(),actions:O,gnar:re.J})),a.createElement(Me,null),tt&&a.createElement(a.Fragment,null,a.createElement(Ue,{isMac:(0,f.nD)(),isSuperhumanGoBrandingEnabled:xe,showVBarsShortcut:(0,Y.i7)(),currentOpenShortcut:null!==(d=null===(u=H.keyboardShortcuts)||void 0===u?void 0:u.openAssistant)&&void 0!==d?d:(0,Z.e)("openAssistant"),currentCloseShortcut:null!==(h=null===(g=H.keyboardShortcuts)||void 0===g?void 0:g.closeAssistant)&&void 0!==h?h:(0,Z.e)("closeAssistant"),currentVBarsShortcut:null!==(y=null===(v=H.keyboardShortcuts)||void 0===v?void 0:v.openVBar)&&void 0!==y?y:(0,Z.e)("openVBar"),onSetShortcut:(e,t)=>{O.setKeyboardShortcut(e,t)}}),a.createElement(Me,null)),Ee&&a.createElement(a.Fragment,null,a.createElement(ge,{openCheetahSettings:()=>e.openUrl((0,Y.Um)().featuresSettings),cheetahSettings:H.cheetah,cheetahToggleInlineQuickReply:O.cheetahToggleInlineQuickReply,cheetahToggleInlineRewrite:O.cheetahToggleInlineRewrite,showSerengetiFeatureToggle:fe,showDockedAssistantToggle:Be,dockedAssistantToggle:O.toggleAlwaysAvailableAssistant,dockedAssistantEnabled:!!(null===(k=H.alwaysAvailableAssistantSettings)||void 0===k?void 0:k.enabled),serengetiEnabled:"disabled"!==W.serengetiState,serengetiToggle:e=>{O.setSerengetiState(!0===e?"enabled":"disabled")}}),a.createElement(Me,null)),ae&&(0,B.r4)(F.domain,X,ce)&&a.createElement(a.Fragment,null,a.createElement(Je,{enabled:(0,B.Td)(F.domain,X,ce,H),domain:F.domain,toggle:rt}),a.createElement(Me,null)),pe&&a.createElement(a.Fragment,null,a.createElement(Ke,{enabled:null===(x=null===(w=H.knowledgeHubSettings)||void 0===w?void 0:w.enabled)||void 0===x||x,toggle:e=>{O.toggleKnowledgeHub(e),re.J.knowledgeHubFeatureToggleClick("popup",N.JJ.fromDomain(F.domain),e?N.L5.on:N.L5.off),(0,I.Tb)().knowledgeHub.featureToggleClick(N.JJ.fromDomain(F.domain),e?N.L5.on:N.L5.off)}}),a.createElement(Me,null)),a.createElement(he,{disabled:Xe,enabledDefs:H.enabledDefs,toggleDefs:O.toggleDefs}),(0,T.c)()&&a.createElement(a.Fragment,null,a.createElement(Me,null),a.createElement(He,{enabled:H.autocorrectEnabled||!1,isAutoApplySupported:ye,toggle:e=>{O.toggleAutocorrect(e);const t=e?"on":"off";re.J.autocorrectToggleClick("popup",t),(0,I.Tb)().autoFix.featureToggleClick(t,"popup")}})),(!Ee||!1===(null===(D=null===(A=H.cheetah)||void 0===A?void 0:A.status)||void 0===D?void 0:D.cheetahEnabled))&&a.createElement(a.Fragment,null,a.createElement(Me,null),a.createElement(ze,{enabled:"hide"!==W.emogenieEmojiState,toggle:e=>{O.setEmogenieEmojiState(!0===e?"show":"hide"),re.J.settingsShowEmojiForDetectedTonesToggleClick(F.domain,!0===e?"on":"off")}})),we&&a.createElement(a.Fragment,null,a.createElement(Me,null),a.createElement($e,{label:"Grammarly Authorship",enabled:"enabled"===(null===(P=H.humanWritingReport)||void 0===P?void 0:P.kind),disabled:!1,toggle:e=>O.hwrSetEnabled(e),helperMessage:"Prove where your words come from by recording what you type and which sources you use. You choose how to share your information."})),a.createElement(Me,null),a.createElement(Re,{dialects:ot,changeStrongDialect:O.changeStrongDialect,dialectStrong:at,dialectWeak:W.dialectWeak,dropdownOnTop:!0,disabled:Xe,lock:{isLocked:Boolean(null==nt?void 0:nt.dialectLockedByInstitution),message:"Locked by your organization"}}),a.createElement(Me,null)),a.createElement(Ve,{enabled:H.isEnhancedScreenReaderUXSupported,toggle:O.toggleEnhancedScreenReaderUXSupport}),(H.isDebugMenuVisible||Le)&&a.createElement(qe,{isAdvancedEnabled:H.advancedHistoryLoggerEnabled,isEnabled:H.historyLoggerEnabled,advancedHistoryLoggerEnabledUntil:H.advancedHistoryLoggerEnabledUntil,showDebugPage:Qe,openDebugPage:e.openDebugPage,showReportBugButton:Le?{enabled:!0,onClick:()=>{Ye?Ge():e.openReportBugForm(oe.ZD({domain:F.domain,userType:oe.Ng(z),version:(0,Y.bo)(),systemInfo:b.Rd().systemInfo}))}}:{enabled:!1},showHideButton:!Le,downloadDebugReports:ke,gOSDebugSettings:et?{debuggerEnabled:null!==(L=H.gOSDebuggerEnabled)&&void 0!==L&&L,toggleDebugger:O.toggleGOSDebugger,appletChannel:null!==(R=H.gOSAppletChannel)&&void 0!==R?R:null,setAppletChannel:O.setGOSAppletChannel,assistantAppletUrl:null!==(G=H.gOSAssistantAppletUrl)&&void 0!==G?G:null,setAssistantAppletUrl:O.setGOSAssistantAppletUrl}:void 0})),Ie&&a.createElement(Ie,{isOpen:Pe,onClose:je,onSubmit:Ze}))}},78021:(e,t,n)=>{n.d(t,{Z:()=>S});var a=n(92379),o=n(61189),i=n(83542),r=n(50635),s=n(31702),l=n(52348),c=n(11163),u=n(4765),d=n(12712),p=n(1087),m=n(64803),g=n(13118);const h=["Control","Alt","Shift","Meta","CapsLock","NumLock","ScrollLock","AltGraph"],b=/^Digit\d$/,E=/^Key[A-Z]$/;function f(e,t,n=" "){const a=h.filter((t=>e.modifiers.includes(t))).map((e=>function(e,t){if(t){if("Meta"===e)return"Command";if("Alt"===e)return"Option"}return e}(e,t)));return e.key&&a.push(function(e){if(b.test(e)||E.test(e))return e.slice(-1);return e}(e.key)),a.join(n)}const v=({label:e,isMac:t,currentShortcut:n,onEdit:o,shouldAutofocusEditButton:i,shortcutSeparator:c=" ",editButton:u})=>{const d={onClick:o,autoFocus:i,"aria-label":`Edit ${e} shortcut`};return a.createElement(r.k,{justify:"space-between",align:"center",flex:"2",height:32,gap:1},a.createElement(s.x,{as:"p",variant:"text-small"},f(n,t,c)),a.createElement(r.k,null,u?a.cloneElement(u,d):a.createElement(l.z,{text:"Edit",variant:"ghost",...d})))},y=({label:e,isMac:t,currentShortcut:n,onSetShortcut:o,ariaDescribedBy:i,onExit:s,shortcutSeparator:l=" "})=>{const[h,b]=a.useState(n),[E,v]=a.useState(!0),[y,S]=a.useState(void 0),k=`${e.replace(/ /g,"-").toLowerCase()}-shortcut-description-id`;return a.createElement(a.Fragment,null,a.createElement(c.u,{id:k},"Type a shortcut to configure the ",e," shortcut. Press tab for actions."),a.createElement(u.n,{label:`${e} shortcut`,value:f(h,t,l),labelDisplay:"hidden",errorMessage:y,onKeyDown:e=>{if(["Tab","Enter","CapsLock","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End","Insert","Delete","Backspace"].includes(e.code))v(!0);else{if(e.preventDefault(),g.uU.includes(e.key))if(E)b({key:void 0,modifiers:[e.key]});else{const t=h.modifiers;t.includes(e.key)||b({key:h.key,modifiers:[...t,e.key]})}else b(E?{key:e.code,modifiers:[]}:{key:e.code,modifiers:h.modifiers});v(!1)}},onKeyUp:()=>{v(!0)},autoFocus:!0,"aria-describedby":i?`${k} ${i}`:k}),a.createElement(r.k,{gap:1},a.createElement(d.h,{icon:p.L,accessibilityLabel:`Save ${f(h,t)} as ${e} shortcut`,tooltipContentProps:{children:"Save shortcut"},onClick:()=>{!function(e){return void 0!==e.key}(h)?S("Invalid shortcut. Must use at least one non-modifier key."):(o(h),s())}}),a.createElement(d.h,{icon:m.V,accessibilityLabel:"Cancel edits",onClick:s,variant:"tertiary"})))};const S=({label:e,isMac:t,currentShortcut:n,onSetShortcut:l,ariaDescribedBy:c,disableLegacyLayout:u=!1,shortcutSeparator:d=" ",showLabel:p=!0,editButton:m})=>{const[g,h]=a.useState(!1),[b,E]=a.useState(!1);a.useEffect((()=>{g&&E(!0)}),[g]);const S=g?a.createElement(y,{label:e,isMac:t,currentShortcut:n,onSetShortcut:n=>{l(n),o.E.announce(`Shortcut to ${e} is ${f(n,t)}`)},onExit:()=>h(!1),ariaDescribedBy:c,shortcutSeparator:d}):a.createElement(v,{label:e,isMac:t,currentShortcut:n,onEdit:()=>h(!0),shouldAutofocusEditButton:b,shortcutSeparator:d,editButton:m}),k=u?{}:{marginLeft:-2,marginRight:-2,borderRadius:3};return a.createElement(i.x,{bgColor:g&&!u?"background-base-subdued":"background-base-default",padding:2,...k},a.createElement(r.k,{gap:1,direction:"column"},p&&a.createElement(s.x,{as:"p",weight:"semibold",variant:"text-small"},e),a.createElement(r.k,{gap:3,flex:"2"},S)))}},7889:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(92379),o=n(50635),i=n(31702),r=n(76282);const s=({label:e,children:t,onChange:n,alignCenter:s,labelDisplay:l,...c})=>a.createElement(o.k,{justify:"space-between",align:s?"center":void 0},a.createElement(o.k,{direction:"column",gap:1},a.createElement(i.x,{as:"span",onClick:()=>{c.isDisabled||n(!c.isSelected)},variant:"text-small",weight:"medium",color:"base-default",style:{cursor:c.isDisabled?"not-allowed":"pointer"},"aria-hidden":!0},t),c.helperMessage&&a.createElement(i.x,{as:"p",variant:"text-xsmall",color:"base-subdued"},c.helperMessage)),a.createElement(r.r,{label:e,labelDisplay:"hidden",onChange:n,...c}))},67505:(e,t,n)=>{n.d(t,{R:()=>l,f:()=>c});var a=n(92379),o=n(50635),i=n(31702),r=n(62067),s=n(42496);const l=e=>a.createElement(o.k,{direction:"column",gap:2},a.createElement(s.z,{onClick:e.onSignUp,width:"full"},"Sign up"),a.createElement(o.k,{align:"center",justify:"center",gap:1},a.createElement(i.x,{as:"span",variant:"text-xsmall",color:"base-subdued"},"Already have an account?"),a.createElement(s.z,{onClick:e.onSignIn,variant:"ghost",size:"small","data-grammarly-part":"sign-in-button"},"Log in"))),c=e=>a.createElement(o.k,{direction:"column",gap:2},a.createElement(s.z,{onClick:()=>e.handleClick(r.VP.SignIn),width:"full"},"Sign in"),a.createElement(o.k,{align:"center",justify:"center",gap:1},a.createElement(i.x,{as:"span",variant:"text-xsmall",color:"base-subdued"},"Don't have an account?"),a.createElement(s.z,{onClick:()=>e.handleClick(r.VP.SignUp),variant:"ghost",size:"small"},"Sign up for free")))},28077:(e,t,n)=>{n.d(t,{w:()=>l});var a=n(92379),o=n(31702),i=n(83542),r=n(7889),s=n(78703);const l=e=>{const t="docs.google.com"===e.domain?"Google Docs":e.domain,{enabledInConfig:n,siteSwitcherChecked:l,favicon:c}=e,u=l.checked&&n,d=n?"Check for writing suggestions":"Checking is not supported";return a.createElement(r.Z,{label:`${d} on ${t}`,isSelected:u,isDisabled:!n,onChange:()=>{l.update(!u)},alignCenter:e.centeredToggle,"data-grammarly-part":"siteSwitcher"},a.createElement(o.x,{as:"span",variant:"text-small","data-test-attr":"siteControlsLabelText"},d," ",a.createElement("br",null),a.createElement(o.x,{as:"span",variant:"text-small",style:{display:"block",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:250}},"on"," ",a.createElement(o.x,{as:"span",variant:"text-small",weight:"semibold"},c&&a.createElement(i.x,{className:s.favicon},a.createElement("img",{width:"16px",height:"16px",src:c,alt:""})),t))))}},63202:(e,t,n)=>{n.d(t,{Z:()=>f});var a=n(58303),o=n(90023),i=n(92379),r=n(44071),s=n(90572),l=n(14969),c=n(31702),u=n(85837),d=n(39963),p=n(38364),m=n(62805),g=n(33839),h=n(16381),b=n(74609),E=n(80871);const f=({user:e,isAssistant:t,openSubscriptionDialog:n,hasInProductDiscountSpecialOffer:f,uphookConfiguration:v,trackUphookHubEvent:y,experimentClient:S})=>{const{registrationDate:k,anonymous:w,premium:C}=e,x=(0,p.p6)(k);if(w||C)return null;const T=(0,i.useMemo)((()=>(0,o.zG)(f,a.tS((e=>e?a.G("discountPro"):a.G("pro"))),a.wp((()=>a.G("pro"))))),[f]),B=()=>{y("show",v),(0,o.zG)(T,a.UI((e=>{(0,m.nE)(b.J,{placement:t?"assistantSettings":"settingsToolbar",bannerType:"GoPremiumToEnableAdvancedFixes",upgradeHookName:"extensionSettings",upgradeHookSlot:t?"assistantSettingsPopup":"browserToolbar",upgradeHookVariant:e,experimentClient:S}),(0,d.Tb)().upgradeHooks.showUpgradeHook("extensionSettings",t?"assistantSettingsPopup":"browserToolbar",e)})))};i.useEffect((()=>{(0,o.zG)(T,a.UI((()=>{if((0,h.G6)()){const e=(0,r.R)(document,"visibilitychange").pipe((0,s.h)((()=>"visible"===document.visibilityState))).subscribe((()=>{B()}));return()=>e.unsubscribe()}return B(),()=>{}})))}),[T]);const A=i.useCallback((()=>{v.pipe((0,s.h)(a.pC),(0,l.P)()).subscribe((e=>{n({overrideUrl:e.value.content.ctaUrl,utmCampaign:"extensionSettingsToolbar"})})),y("click",v),(0,o.zG)(T,a.UI((e=>{(0,m.Qi)(b.J,{placement:t?"assistantSettings":"settingsToolbar",bannerType:"GoPremiumToEnableAdvancedFixes",upgradeHookName:"extensionSettings",upgradeHookSlot:t?"assistantSettingsPopup":"browserToolbar",upgradeHookVariant:e,experimentClient:S}),(0,d.Tb)().upgradeHooks.clickUpgradeHook("extensionSettings",t?"assistantSettingsPopup":"browserToolbar",e)}))),(0,d.Tb)().userUpgradeClick("settingsToolbar")}),[T]),D=x?i.createElement(c.x,{as:"span",variant:"text-small","data-test-attr":"checked_since",color:"base-default"},"Grammarly has been correcting your text since ",x,"."):null;return i.createElement("div",{className:t?E.borderTop:void 0},i.createElement("div",{...(0,u.Sh)(E.content,t?void 0:E.borderBottom)},D,i.createElement(g.Y,{onClick:A,className:E.premiumButton,dataGrammarlyPart:"settings-upgrade-button",cta:(0,o.zG)(v.get(),a.UI((e=>e.content.ctaCopy)),a.wp((()=>(0,o.zG)(f,a.tS((e=>e?a.G("Get 50% off Pro"):a.YP))))),a.fS((()=>"Get Pro")))})))}},62531:(e,t,n)=>{n.d(t,{I:()=>c});var a=n(92379),o=n(6882),i=n(6188),r=n(32295),s=n(47052),l=n(44402);const c=e=>{var t,n,c;return a.useEffect((()=>{e.trackPopupShow()}),[]),a.createElement("div",{className:l.wrapper},a.createElement(s.h,null),a.createElement("div",{className:l.content},a.createElement(o.h4,{sanitizedTitle:i.c.sanitizeSuspendTitle(null===(t=e.popupDynamicConfig)||void 0===t?void 0:t.popupTitleHTML)}),a.createElement(o.uT,{sanitizedBody:i.c.sanitizeSuspendBody(null===(n=e.popupDynamicConfig)||void 0===n?void 0:n.popupBodyHTML)}),a.createElement(r.StandWithUkraineSuspendFooter,{onLearnMore:e.onLearnMore,sanitizedLearnMoreButtonLabelHTML:i.c.sanitizeSuspendLearnMoreLabel(null===(c=e.popupDynamicConfig)||void 0===c?void 0:c.popupLearnMoreButtonLabelHTML)})))}},74609:(e,t,n)=>{n.d(t,{J:()=>o});var a=n(29483);const o=new Proxy({},{get:(e,t)=>(...e)=>(0,a.OB)().bgRpc.api.trackGnar(t,e)})},72526:(e,t,n)=>{n.d(t,{yw:()=>m});var a=n(56863),o=n(62067),i=n(37087),r=n(74609),s=n(35248),l=n(16381);let c;function u(){return null!=c?c:c={permissions:["cookies"],origins:[(0,l.Vi)()]}}var d=n(95404),p=n(72965);function m({dynamicConfig:e,checkPermissions:t=(()=>async function(e){var t;if(!0!==(null==e?void 0:e.requireAuthCookieAccess))return!0;const n=null===(t=(0,i.OB)().browserApi.permissions)||void 0===t?void 0:t.contains;if(!n)return!0;return await n(u())}(e)),requestPermissions:n=(()=>async function(e){var t;if(!0!==(null==e?void 0:e.requireAuthCookieAccess))return!0;const n=null===(t=(0,i.OB)().browserApi.permissions)||void 0===t?void 0:t.request;if(!n)return!0;return await n(u())}(e)),actions:l}={}){const{bindSignIn:c,...m}=(0,p.z)({checkPermissions:t,requestPermissions:n});return{...m,bindSignIn:c,onSignIn:c((e=>{const t={utmCampaign:"toolbarMenu",utmSource:"signinHook"};if((0,s.B)((0,i.OB)().experimentClient)){(0,i.OB)().bgRpc.api.launchAuthFlow(!1,{...(0,a.xW)(e),...(0,d.OC)((0,d.g7)(t))})}else{const n=(0,i.OB)().browserApi;n.beginOAuth?n.beginOAuth():n.openUrl((0,d.s7)({...e,action:o.VP.SignIn},t))}null==l||l.beginAuth(),r.J.signInButtonClick("toolbar")})),onSignUp:c(((e,t)=>{const n={utmCampaign:"toolbarMenu",utmSource:"signupHook"};if((0,s.B)((0,i.OB)().experimentClient)){(0,i.OB)().bgRpc.api.launchAuthFlow(!0,{...(0,a.xW)(e),...(0,d.OC)((0,d.g7)(n))})}else{const a=(0,i.OB)().browserApi;if(a.beginOAuth)a.beginOAuth();else{const i=(0,d.Xc)({...e,action:o.VP.SignUp},n),r="webstore"===t?(0,d.My)(i,t):i;a.openUrl(r)}null==l||l.beginAuth(),r.J.signUpButtonClick("toolbar")}}))}}},44279:(e,t,n)=>{n.d(t,{Z:()=>d});var a=n(92379),o=n(63349),i=n(83542),r=n(36279),s=n(64803),l=n(8842),c=n(61483),u=n(42496);const d=({onClose:e,maxWidth:t=400,arrowPosition:n="none",animateIn:l,children:c})=>a.createElement(i.x,{elevation:"high",borderColor:"base-subdued",borderRadius:2,padding:8,paddingBottom:6,className:o.ux.joinClasses([h.container,l&&h.containerAnimateIn]),style:{maxWidth:t},bgColor:"background-base-default","data-arrow-position":n},"none"!==n&&a.createElement("svg",{className:h.arrow,"aria-hidden":"true",width:"14",height:"14",viewBox:"0 0 14 14","data-arrow-position":n},a.createElement("polyline",{points:"0,0 7,7 14,0"})),a.createElement(u.z,{onClick:e,variant:"tertiary",size:"small",className:h.closeButton},a.createElement(r.J,{icon:s.V,size:"small",accessibilityLabel:"Close"})),c),p={animationName:o.ux.keyframes({"0%":{scale:0},"100%":{scale:1}}),animationDuration:"0.3s",animationTimingFunction:"ease-out",transformOrigin:"bottom right",$nest:{"@media (prefers-reduced-motion)":{animation:"none"},'&[data-arrow-position="top-right"], &[data-arrow-position="right-top"]':{transformOrigin:"top right"}}},m={padding:o.ux.important(o.ux.rem(l.F2)),position:o.ux.important("absolute"),top:o.ux.rem(l.x),right:o.ux.rem(l.x)},g={position:"absolute",fill:c.I.Background.Base.Default,stroke:c.I.Border.Base.Subdued,strokeWidth:1,$nest:{'&[data-arrow-position="top-right"]':{transform:"rotate(180deg)",bottom:"100%",right:o.ux.rem(l.qp)},'&[data-arrow-position="right-top"]':{transform:"rotate(-90deg)",left:"100%",top:o.ux.rem(l.mh)},'&[data-arrow-position="right-bottom"]':{transform:"rotate(-90deg)",left:"100%",bottom:o.ux.rem(l.mh)},'&[data-arrow-position="bottom-right"]':{top:"100%",right:o.ux.rem(l.qp)}}},h=o.ux.stylesheet({container:[{position:"relative",display:"inline-block",minWidth:200}],containerAnimateIn:[p],arrow:[g],closeButton:[m]})},60508:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(92379),o=n(63349),i=n(50635),r=n(36279),s=n(69554),l=n(52348);const c=({title:e,titleIcon:t,headerImage:n,centerContent:l,contentGap:c=3,children:d})=>{if(u(d))throw new Error("GDS Button components are not allowed as children because they currently do not work with keyboard navigation in Shadow DOM. Please use universal/cs/ui/components/popups/button/Button instead.");return a.createElement(i.k,{align:l?"center":void 0,direction:"column",gap:c,className:p.maxWidthContainer},n,a.createElement(i.k,{gap:2,className:p.maxWidthContainer},t&&a.createElement(r.J,{icon:t,size:"large",accessibilityLabel:"",className:p.titleIcon}),a.createElement(s.X,{as:"h2",variant:"heading-xsmall",className:o.ux.joinClasses([p.titleHeading,l?p.titleCentered:void 0])},e)),d)};function u(e){return!!e&&(Array.isArray(e)?e.some(u):!!a.isValidElement(e)&&(e.type===l.z||u(e.props.children)))}const d={textAlign:o.ux.important("center")},p=o.ux.stylesheet({maxWidthContainer:[{maxWidth:"100%"}],titleIcon:[{minWidth:24}],titleHeading:[{overflow:"hidden",textOverflow:"ellipsis"}],titleCentered:[d]})},46599:(e,t,n)=>{n.r(t),n.d(t,{DataControlPopup:()=>m,DataControlPopupDefault:()=>p});var a=n(92379),o=n(36279),i=n(16475),r=n(50635),s=n(19347),l=n(90189),c=n(42496),u=n(44279),d=n(60508);const p=e=>a.createElement(d.Z,{title:"Grammarly isn't active yet!",headerImage:a.createElement(o.J,{icon:i.F,size:"large",accessibilityLabel:""}),centerContent:!0},a.createElement(c.z,{onClick:e.openAcceptPage,width:"full"},a.createElement(r.k,{gap:2,align:"center"},a.createElement("span",null,"Activate Grammarly"),a.createElement(o.J,{icon:s.n,size:"small",variant:"inverse",accessibilityLabel:""}))));class m extends a.Component{constructor(){super(...arguments),this.openAcceptPage=()=>{(0,l.OB)().bgRpc.api.openDataControl()}}render(){return a.createElement(u.Z,{onClose:this.props.remove,arrowPosition:this.props.isFlipped?"top-right":"bottom-right",animateIn:!0},a.createElement(p,{openAcceptPage:this.openAcceptPage}))}}},28240:(e,t,n)=>{n.d(t,{w:()=>r});var a=n(92379),o=n(4026),i=n(94e3);class r extends a.Component{constructor(e){super(e)}render(){const{institutionName:e,ssoUrl:t}=this.props;return a.createElement("div",{className:(0,o.cs)(i.managedSSOControl,i.settings)},a.createElement("div",{className:i.illustration}),a.createElement("p",{className:i.title},"Grammarly isn’t active yet!"),a.createElement("p",{className:i.text},"To begin using Grammarly, you need to sign in with SSO under the ",a.createElement("b",null,e)," ","organization."),a.createElement("div",{className:i.signInWithSSO},a.createElement("a",{tabIndex:-1,target:"__blank",href:t},"SIGN IN WITH SSO")))}}},72965:(e,t,n)=>{n.d(t,{z:()=>i});var a=n(92379);const o=n(40594).Y.create("Hooks.Auth.useSignIn");function i({checkPermissions:e,requestPermissions:t}){const[n,i]=(0,a.useState)(),r=Boolean(n),[s,l]=(0,a.useState)(!1);return{needPermissions:r,requestingPermissions:s,bindSignIn:t=>(n,a)=>{r||s||e().then((e=>{e?(i(void 0),t(n,a)):i((()=>{t(n,a)}))})).catch((e=>{o.warn(`There was an error during checkPermissions: ${e}`)}))},onRequestPermissions:()=>{s||(l(!0),t().then((e=>{l(!1),e&&(i(void 0),null==n||n())})))}}}},72032:(e,t,n)=>{n.d(t,{T:()=>o,n:()=>i});var a=n(18473);function o(e){return(0,a.Y)()?e:"grammarly"}function i(){return(0,a.Y)()?"Superhuman Go":"Grammarly"}},1527:(e,t,n)=>{n.d(t,{m:()=>o,u:()=>i});var a=n(92379);const o=()=>a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none"},a.createElement("g",{clipPath:"url(#a)"},a.createElement("rect",{width:"29.714",height:"26.286",x:"2.286",y:"8",fill:"#fff",stroke:"#1C1C1C",strokeWidth:"1.25",rx:"3.333"}),a.createElement("path",{fill:"#fff",stroke:"#1C1C1C",strokeWidth:"1.25",d:"M2.286 11.333A3.333 3.333 0 0 1 5.619 8h23.048A3.333 3.333 0 0 1 32 11.333v2.953H2.286v-2.953Z"}),a.createElement("ellipse",{cx:"5.86",cy:"11.108",fill:"#1C1C1C",rx:".585",ry:".571"}),a.createElement("ellipse",{cx:"7.794",cy:"11.108",fill:"#1C1C1C",rx:".585",ry:".571"}),a.createElement("ellipse",{cx:"9.728",cy:"11.108",fill:"#1C1C1C",rx:".585",ry:".571"}),a.createElement("path",{stroke:"#1C1C1C",strokeWidth:"1.25",d:"M8.264 21.143h17.583M8.264 27.067h17.583"}),a.createElement("path",{fill:"#FFDC85",stroke:"#1C1C1C",strokeWidth:"1.25",d:"M38.518 13.857c0 5.572-4.517 10.09-10.09 10.09-5.572 0-10.089-4.518-10.089-10.09s4.517-10.09 10.09-10.09c5.572 0 10.089 4.518 10.089 10.09Z"}),a.createElement("path",{fill:"#FCFCFC",stroke:"#1C1C1C",strokeWidth:"1.25",d:"M28.182 7.076a.336.336 0 0 1 .582 0l6.014 10.415a.336.336 0 0 1-.291.505H22.46a.336.336 0 0 1-.291-.505l6.013-10.415Z"}),a.createElement("path",{stroke:"#1C1C1C",strokeWidth:"1.25",d:"M28.61 10.389v4.034M28.61 15.428v.968"})),a.createElement("defs",null,a.createElement("clipPath",{id:"a"},a.createElement("path",{fill:"#fff",d:"M0 0h40v40H0z"})))),i=()=>a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none"},a.createElement("g",{clipPath:"url(#a)"},a.createElement("rect",{width:"23.771",height:"21.029",x:"1.829",y:"6.4",fill:"#fff",stroke:"#1C1C1C",rx:"2.667"}),a.createElement("path",{fill:"#fff",stroke:"#1C1C1C",d:"M1.829 9.067A2.667 2.667 0 0 1 4.495 6.4h18.438A2.667 2.667 0 0 1 25.6 9.067v2.361H1.829V9.067Z"}),a.createElement("ellipse",{cx:"4.688",cy:"8.886",fill:"#1C1C1C",rx:".468",ry:".457"}),a.createElement("ellipse",{cx:"6.235",cy:"8.886",fill:"#1C1C1C",rx:".468",ry:".457"}),a.createElement("ellipse",{cx:"7.783",cy:"8.886",fill:"#1C1C1C",rx:".468",ry:".457"}),a.createElement("path",{stroke:"#1C1C1C",d:"M6.61 16.914h14.067M6.61 21.654h14.067"}),a.createElement("path",{fill:"#FFDC85",stroke:"#1C1C1C",d:"M30.814 11.086a8.071 8.071 0 1 1-16.143 0 8.071 8.071 0 0 1 16.143 0Z"}),a.createElement("path",{fill:"#FCFCFC",stroke:"#1C1C1C",d:"M22.546 5.66a.269.269 0 0 1 .465 0l4.811 8.333a.269.269 0 0 1-.233.403h-9.621a.269.269 0 0 1-.233-.403l4.81-8.332Z"}),a.createElement("path",{stroke:"#1C1C1C",d:"M22.888 8.311v3.228M22.888 12.343v.774"})),a.createElement("defs",null,a.createElement("clipPath",{id:"a"},a.createElement("path",{fill:"#fff",d:"M0 0h32v32H0z"}))))},74316:(e,t,n)=>{n.d(t,{K:()=>o});var a=n(92379);const o=a.memo((function(e){return a.createElement("svg",{className:e.className,width:e.width,height:e.height,viewBox:"0 0 34 33",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M20.6126 4.92236H4.92251C2.75616 4.92236 1 6.67852 1 8.84486V27.9672C1 30.1335 2.75616 31.8897 4.92251 31.8897H20.6126C22.779 31.8897 24.5351 30.1335 24.5351 27.9672V8.84486C24.5351 6.67852 22.779 4.92236 20.6126 4.92236Z",fill:"white",stroke:"#1C1C1C",strokeLinecap:"round"}),a.createElement("path",{d:"M5.90625 18.1616H12.7706",stroke:"#1C1C1C",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M5.90625 24.0454H19.6351",stroke:"#1C1C1C",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M32.8704 10.8248C32.8704 16.2173 28.4585 20.6126 23.0456 20.6126C21.0065 20.6126 19.1898 20.0216 17.6327 18.9505C15.0004 17.2146 13.2578 14.1859 13.2578 10.7878C13.2578 5.39529 17.6698 1 23.0827 1C28.4956 1 32.8704 5.3953 32.8704 10.8248Z",fill:"#FFDC85",stroke:"#1C1C1C",strokeMiterlimit:"10"}),a.createElement("path",{d:"M23.0625 5.16846V10.8071H27.2302",stroke:"#1C1C1C",strokeLinecap:"round"}))}))},19523:(e,t,n)=>{n.d(t,{Ng:()=>i,WY:()=>s,ZD:()=>r});var a=n(16381),o=n(19724);const i=e=>{const t=o.n.getType(e);return"registered"===t?"free":t},r=e=>{return{clientVersion:e.version,platformVersion:"",application:e.domain,browser:e.systemInfo.browser.name,os:(t=e.systemInfo.os,t.isWindows?"windows":t.isMac?"mac":t.isChromeOS?"chromeos":"other"),userType:e.userType,team:"browserextensions"};var t},s=e=>{const t=new URL((0,a.Um)().grammarlyEmployeesBugReportsUrl);return Object.entries(e).forEach((([e,n])=>{n&&t.searchParams.set(e,n)})),t.toString()}},66886:e=>{e.exports={settingsContentWrapper:"Pjkoe",ghostContainer:"T3SqS",ghostImage:"W2noN",ghostSwitcher:"TDKhQ",footer:"_2SJl",footer_btn_container:"Xfuqm",footer_btn_container_ghost:"UK8mD Xfuqm",footer_btn:"zzsGE",footer_icon_home:"fjYLw"}},44114:e=>{e.exports={heading:"RDHDg",labelsFont:"ChkL9"}},31e3:e=>{e.exports={content:"L0IlD",paragraph:"Orx96",header:"XpiGS",flag:"hYeJR",flagTop:"Te_me",flagBottom:"pHlXZ",title:"ruQOD"}},59776:e=>{e.exports={learnMoreButton:"nUL6q"}},91409:e=>{e.exports={wrapper:"fP89T",popup:"p4cHm",content:"BZyxI",animation:"DWhKF",title:"nHp6t"}},51705:e=>{e.exports={premiumButton:"QpA64"}},40072:e=>{e.exports={label:"cLK4q",selected:"hbRki",option:"UytwF",disabled:"mTk5j",lockIconWrapper:"o4NOU"}},23393:e=>{e.exports={option:"XNQPo"}},60052:e=>{e.exports={option:"dRYWx"}},89298:e=>{e.exports={american:"JRPow",australian:"FZNcB",british:"MzB3a",canadian:"_fn3J",indian:"eqgex"}},72329:e=>{e.exports={hover_blocker:"np9cY"}},86723:e=>{e.exports={wrapper:"Aolfm",heading:"NFFQg",domain:"c3Fd7",description:"LTKQH"}},46577:e=>{e.exports={settingsContent:"C3SN4",fullWidth:"dRfoN",heading:"_HqAa",allSettings:"pUfgB",separator:"vlSkx",section:"v01UR",settingsLink:"d_ohh",debugMenu:"iovEn",downloadBtn:"u6BF0",timer:"DQHsO",gOSMenu:"dhG16",menuItem:"COwmJ","gds-select-container":"Cmf7Q"}},9003:e=>{e.exports={heading:"wcViL"}},44402:e=>{e.exports={wrapper:"thWhq",content:"FIMJQ"}},94e3:e=>{e.exports={gButtonPopup:"diNpB",loginSSOPopup:"dGc8e",showWrapper:"UUYhD",flipped:"iGBQj",closeButton:"vcac9",text:"jfR06",title:"pQCa0",bold:"K4CWO",link:"UAmjO",secondary:"EXtIt",firstTime:"JpYft",close:"OUiPJ",loginReminder:"H1d0B",permission:"RPuBs",popupFooter:"rA9f6",isFlipped:"hSt1p",onboarding:"QrVo6",onboardingWithReminder:"njXr2",onboardingClose:"G0tug",dropdownContainer:"WJP1a",arrowhead:"HI72s",dropdownList:"Rog_Q",onboardingWithReminderIconPosition:"v1L7z",sessionTimeoutPopup:"djMQL",sessionTimeoutClose:"cE7Bk",sessionTimeoutPopupIconPosition:"_re7y",signinLink:"TT5tz",warningPopup:"HFaC5",warningWithoutIcon:"FyT69",managedSSOControl:"L1Rzm",settings:"H5xEt",illustration:"qESn3",signInWithSSO:"rq8co",signInWithSSO2:"wE0K3"}},47695:e=>{e.exports={"footer-ios":"IfRTb"}},47730:e=>{e.exports={footer:"lc1t2",footer_btn_container:"GgI7h",footer_btn:"yBxv8",footer_icon_doc:"OstiH",footer_icon_home:"_0UW4",signUpFooter:"GadQB"}},24825:e=>{e.exports={"header-ios":"icRoX",logo:"KpttL",mark:"Ao1Jt",type:"cyoK9",link:"yYlif"}},90867:e=>{e.exports={header:"Coe_1",delimiter:"PA63z",logo:"oGOoy",closeButton:"v_YAN"}},78703:e=>{e.exports={windows:"ScRGR",setting_item:"byTue",fixing:"tGQgu",thin_text:"Zw2iF",footer:"VarAw",gr_popup_settings:"sCOqq",iOS:"xw90P",footer_btn:"dFcxY",short_border:"GPdi3",top:"a8_HB",content:"eJi6K",my_grammarly:"TPdm3",new_document:"b5rRu",unsupported_site:"FV6cP",unsupported_item:"kI6Es",unsupported_title:"TvJkj",domain:"mbOuw",domain_in_details:"HyZRA",unsupported_temporary:"aeiHl",unsupported_permanently:"e63AG",unsupported_grammarly:"SK755",diamond:"z0724",userPanel:"bG2GY",email:"U4qfE",link:"Vrj67",blue:"Dstaa",edc_stripe:"GEFvM",line:"_o71L",not_supported:"Z9hzt",site_switcher:"LXeMc",upgrade:"BAl_v",favicon:"L5Hrq",centered:"T0qTK",summary:"tuG8u",upgrade_title:"KRcNq",settingsContentWrapper:"OeKpx",settingsContent:"AwQr3",sessionTimeoutWrapper:"BErLl",sessionTimeoutDiv:"rekSD",sessionTimeoutTextAndIcon:"ihkdF",sessionTimeoutPopupIcon:"xYrMw",sessionTimeoutText:"JpIic",signinLink:"n7A2H",popupSettings:"wBa4V",withBackground:"JRZMC",llamaTitle:"WnzAW",llamaDescription:"dDIsV",cheetahLabelAndButton:"WwKRI",cheetahLabel:"aMCQq",cheetahManageButton:"hfCbo",hwrDescription:"KqA2M",nobr:"wae8U"}},98539:e=>{e.exports={socialSigninContent:"k2AdT",withClose:"_1NuQS",socialSignin:"YBXsj",closeIcon:"lL3zx",signin:"DY97f",permission:"YmV8G",iOS:"C_ZC9",content:"pnCIV",banner:"BsNFR"}},80871:e=>{e.exports={content:"IJam9",borderTop:"oKEr5",borderBottom:"lZ1ZL",premiumButton:"bvxiF"}},98811:e=>{e.exports={gr_popup_unsupported:"mNplt",iOS:"dknvA",line:"bbXMt",unsupported_site:"isHIc",unsupported_item:"bsr7c",warning:"QaV6u",ok:"VIvGU",unsupported_title:"xAVeT",domain:"QAQlK",unsupported_grammarly:"ndOUg",unsupported_grammarly_text:"t78jM"}},1479:e=>{e.exports={}},60220:(e,t,n)=>{n.d(t,{b:()=>r});var a=n(92379),o=n(12205),i=n(19753);const r=(0,o.I)("color",(({title:e,titleId:t,desc:n,descId:o,resourcePrefix:r=(0,i.O)(),...s})=>a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true","data-icon":"InterfaceDown",stroke:"transparent","aria-labelledby":t,"aria-describedby":o,...s},n?a.createElement("desc",{id:o},n):null,e?a.createElement("title",{id:t},e):null,a.createElement("path",{stroke:"#646B81",strokeLinecap:"round",d:"m2 5 6 6 6-6"}))))}}]);