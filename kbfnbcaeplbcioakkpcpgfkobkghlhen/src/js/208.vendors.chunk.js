(self.webpackChunk=self.webpackChunk||[]).push([[208],{19194:(e,t,n)=>{if(n.d(t,{N:()=>s}),/^6(052|168)$/.test(n.j))var r=n(8867);function s(e){return new r.y((t=>{const n=new DisposableStack,r=n.use(e());return n.adopt(r.subscribe((e=>t.next(e))),(e=>e.unsubscribe())),()=>n.dispose()}))}},10556:(e,t,n)=>{n.d(t,{D8:()=>s.D,N4:()=>i.N,TJ:()=>s.T,kX:()=>r.k});var r=n(16386),s=n(24071);if(/^6(052|168)$/.test(n.j))var i=n(19194)},30208:(e,t,n)=>{n.r(t),n.d(t,{activate:()=>Tt});var r,s,i,o,l,a,c=n(651),d=n(33885),u=n(10556),p=n(74091),x=n(13391),h=n(90572),m=n(84178),g=n(18519),v=n(58303),f=n(84197),b=n(80502),w=n(90023),k=e=>{throw TypeError(e)},E=(e,t,n)=>t.has(e)||k("Cannot "+n),y=(e,t,n)=>(E(e,t,"read from private field"),n?n.call(e):t.get(e)),C=(e,t,n)=>t.has(e)?k("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),I=(e,t,n,r)=>(E(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),j=(e,t,n)=>(E(e,t,"access private method"),n),S=(e,t,n)=>new Promise(((r,s)=>{var i=e=>{try{l(n.next(e))}catch(e){s(e)}},o=e=>{try{l(n.throw(e))}catch(e){s(e)}},l=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,o);l((n=n.apply(e,t)).next())}));class z{constructor(e){C(this,l),C(this,r),C(this,s),C(this,i),C(this,o),I(this,r,new DisposableStack),I(this,s,x.h.create({kind:"loading",expertNames:[]})),this.state=y(this,s).view(),this.currentView=x.h.create("expertThread"),this.isAgentActive=x.h.create(!0),this.uiActionsTimeout=12e4,this.loadingState=new b.c,this.internalActions={startAgent:w.Q1,stopAgent:w.Q1,selectExpert:e=>j(this,l,a).call(this,{kind:"selectExpert",expertName:e}),deselectExpert:()=>j(this,l,a).call(this,{kind:"deselectExpert"}),removeExpert:e=>j(this,l,a).call(this,{kind:"removeExpert",expertName:e}),goToChooseExperts:()=>j(this,l,a).call(this,{kind:"goToChooseExperts"}),goBackFromChooseExperts:()=>j(this,l,a).call(this,{kind:"goBackFromChooseExperts"}),reloadAgent:()=>j(this,l,a).call(this,{kind:"reloadAgent"}),addExpertsByTopic:e=>S(this,null,(function*(){return j(this,l,a).call(this,{kind:"addExpertsByTopic",topic:e}),new Promise(((t,n)=>{y(this,r).adopt(y(this,o).events.panelUIResponse.view(y(this,i)).pipe(h.h((t=>"addExpertsByTopicResponse"===t.kind&&t.topic===e)),m.q(1),g.V(this.uiActionsTimeout)).subscribe({next:()=>t(),error:n}),(e=>e.unsubscribe()))}))})),addExpertsByUserInput:e=>S(this,null,(function*(){return j(this,l,a).call(this,{kind:"addExpertsByUserInput",userInput:e}),new Promise(((t,n)=>{y(this,r).adopt(y(this,o).events.panelUIResponse.view(y(this,i)).pipe(h.h((t=>"addExpertsByUserInputResponse"===t.kind&&t.userInput===e)),m.q(1),g.V(this.uiActionsTimeout)).subscribe({next:()=>t(),error:n}),(e=>e.unsubscribe()))}))})),requestFollowUpSuggestions:()=>S(this,null,(function*(){return j(this,l,a).call(this,{kind:"requestFollowUpSuggestions"}),Promise.resolve()}))},I(this,i,e.documentId),I(this,o,e.bus),y(this,r).adopt(e.agentState.subscribe((e=>y(this,s).set(e))),(e=>e.unsubscribe())),this.followUpTopics=y(this,r).use(y(this,o).state.followUpTopics.view(y(this,i),[])),this.selectedExpert=y(this,s).view((e=>"evaluation"===e.kind?e.selectedExpert:v.YP)),this.experts=y(this,s).view((e=>"evaluation"===e.kind||"chooseExperts"===e.kind?e.experts:new Map)),this.commentsPerExpert=y(this,s).view((e=>"evaluation"===e.kind||"chooseExperts"===e.kind?e.commentsPerExpert:{})),this.allSuggestionsCount=y(this,s).view((e=>{if("evaluation"===e.kind)return e.allSuggestionsCount})),this.textSummary=y(this,s).view((e=>"evaluation"===e.kind?e.textSummary:{kind:"markdown",content:""})),this.context={tracking:{trackEvent:(e,t)=>y(this,o).events.trackingEvent.emit(y(this,i),{event:e,detail:t})},capiSessionId:y(this,r).use(y(this,o).state.capiSessionId.view(y(this,i),null)).view((e=>null!=e?e:void 0)),textLength:y(this,r).use(y(this,o).state.textInfo.view(y(this,i),{wordsCount:0,charsCount:0})).view((e=>e.wordsCount)),expertsCount:this.experts.view((e=>e.size))},this.featureFlags={followUpActions:e.experimentation.isAssigned(f.ob),followUpActionsFreeformInput:e.experimentation.isAssigned(f.sq),shouldAutoScrollToFirstVBar:e.experimentation.isAssigned(f.aR),usePushedContentRebasing:e.experimentation.isAssigned(f.yK)}}[Symbol.dispose](){y(this,r).dispose()}}r=new WeakMap,s=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakSet,a=function(e){y(this,o).events.panelUIAction.emit(y(this,i),e)};var P=n(92379);const _="_panel_1lcyc_1";var B=n(54295),O=n(79223),L=n(88035),R=n(692),A=n(89280),N=n(82494),M=n(75362),T=n(2240),U=n(78393);const F={unSelectedButton:"_unSelectedButton_zmoxu_1",selectedButton:"_selectedButton_zmoxu_14",secondaryButtonWithBorder:"_secondaryButtonWithBorder_zmoxu_27",text:"_text_zmoxu_39",count:"_count_zmoxu_44",chooseExpertsButton:"_chooseExpertsButton_zmoxu_52"};var D=n(80324),q=n.n(D),X=(e=>(e.ComponentImpression="componentImpression",e.ComponentClicked="componentClicked",e))(X||{}),H=(e=>(e.ReloadButton="agentPanel/expertPanel/headerReloadButton",e.CloseButton="agentPanel/expertPanel/headerCloseButton",e.ReturnButton="agentPanel/expertPanel/headerReturnButton",e.ExpertPanelLoader="agentPanel/expertPanel/loader",e.ExpertPanelThread="agentPanel/expertPanel/thread",e.ExpertFilterButton="agentPanel/expertPanel/expertFilterButton",e.AllExpertsFilterButton="agentPanel/expertPanel/allExpertsFilterButton",e.DeleteExpertButton="agentPanel/expertPanel/expertDeleteButton",e.EvaluationSummary="agentPanel/expertPanel/evaluationSummary",e.ChooseExpertsButton="agentPanel/expertPanel/chooseExpertsButton",e.ExpertFollowUpTopic="agentPanel/expertPanel/expertFollowUpTopic",e.ExpertFollowUpInput="agentPanel/expertPanel/expertFollowUpInput",e.UpdateFeedbackButton="agentPanel/expertPanel/updateFeedbackButton",e.NotificationPanel="agentPanel/expertPanel/notificationPanel",e.FatalError="agentPanel/expertPanel/fatalError",e))(H||{});const W=(0,P.createContext)(void 0);var V=n(51601),G=n(28338);function J(e,t,n,r=!0){const[s,i]=(0,P.useState)(!1),o=function(){var e;return null==(e=(0,P.useContext)(W))?void 0:e.tracking}(),l=(0,P.useCallback)(((e,t,n)=>{const l={componentId:e,detail:n};switch(t){case V.Jn.Impression:if(r&&s)return;return void(void 0!==o&&(o.trackEvent(X.ComponentImpression,l),i(!0)));case V.Jn.Clicked:return void(null==o||o.trackEvent(X.ComponentClicked,l));default:return(0,G.vE)(t)}}),[o,r,s]);return(0,V.B9)({componentId:e,detail:t,trackEvent:l,autoTrackedInteractions:n})}var $=n(18782);const Q=(0,P.forwardRef)((({isSelected:e,className:t,onClick:n,children:r},s)=>{const i=(0,c.jsx)(R.z,{ref:s,onClick:n,className:q()(F.unSelectedButton,t),variant:"ghost",children:r}),o=(0,c.jsx)(R.z,{ref:s,onClick:n,className:q()(F.selectedButton,t),variant:"primary",children:r});return e?o:i})),K=(0,P.forwardRef)((({isSelected:e,isLoading:t,suggestionsCount:n,onClick:r,children:s},i)=>{const o=(0,c.jsxs)(B.k,{style:{width:"100%"},direction:"row",justify:"space-between",align:"center",gap:5,paddingTop:3,paddingBottom:3,children:[s,n?(0,c.jsx)(L.x,{as:"p",className:F.count,variant:"text-small",color:"base-subdued",children:n}):t?(0,c.jsx)(A.a.Circular,{size:"small",className:F.buttonIcon,"aria-label":"Loading"}):(0,c.jsx)("div",{className:F.count,children:(0,c.jsx)(N.L,{className:F.buttonIcon,"aria-label":"No suggestions"})})]});return(0,c.jsx)(Q,{isSelected:e,onClick:r,ref:i,children:o})})),Y=({text:e})=>(0,c.jsx)(L.x,{as:"p",variant:"text-small",weight:"bold",className:F.text,children:e});function Z({onClick:e}){var t,n,r;const s=(0,P.useContext)(W),{trackingRef:i,trackClicked:o}=J(H.ChooseExpertsButton,{agentId:$.p,capiSessionId:null!=(t=null==s?void 0:s.capiSessionId.get())?t:null,expertsCount:null!=(n=null==s?void 0:s.expertsCount.get())?n:null,textLength:null!=(r=null==s?void 0:s.textLength.get())?r:null},V.IX.Impression),l=(0,P.useCallback)((()=>{o(),e()}),[o,e]),a=(0,c.jsxs)(B.k,{style:{width:"100%"},direction:"row",justify:"space-between",align:"center",padding:2,children:[(0,c.jsxs)(B.k,{direction:"row",align:"center",gap:3,children:[(0,c.jsx)(M.J,{icon:T.E,accessibilityLabel:"Choose experts"}),(0,c.jsx)(L.x,{as:"p",variant:"text-small",weight:"medium",color:"base-subdued",children:"Choose experts"})]}),(0,c.jsx)(M.J,{icon:U.M,size:"small",accessibilityLabel:"Choose experts"})]});return(0,c.jsx)(Q,{ref:i,isSelected:!1,onClick:l,className:q()(F.secondaryButtonWithBorder,F.chooseExpertsButton),children:a})}var ee=n(42015),te=n(6837);const ne="_warning_17wzd_1",re="_info_17wzd_5",se="_container_17wzd_9",ie="_icon_17wzd_13";var oe=n(1491);const le=({title:e,description:t})=>(0,c.jsxs)(B.k,{direction:"column",children:[(0,c.jsx)(L.x,{as:"p",variant:"text-xsmall",weight:"semibold",children:e}),(0,c.jsx)(L.x,{as:"p",variant:"text-xsmall",children:t})]}),ae=({type:e})=>{var t,n;const{kind:r,content:s}=(e=>{switch(e){case"otherError":case"timeoutError":case"fatalError":return{kind:"warning",content:(0,c.jsx)(le,{title:"Something went wrong",description:"Please wait a moment, then try again."})};case"expertsSelectionError":return{kind:"warning",content:(0,c.jsx)(le,{title:"No experts selected",description:"Please select experts to get suggestions."})};case"sensitivityError":return{kind:"warning",content:(0,c.jsx)(le,{title:"Canâ€™t help with this text",description:"Expert Review is unavailable because the text may contain sensitive content. Try again with different text."})};case"noSuggestionsError":return{kind:"info",content:(0,c.jsx)(le,{title:"No suggestions at this time",description:"Keep writing to see more insights."})};case"allExpertsRemoved":return{kind:"info",content:(0,c.jsx)(le,{title:"Choose experts to see suggestions",description:"No experts chosen to review your text."})};case"textTooShort":return{kind:"info",content:(0,c.jsx)(le,{title:"Not enough content to review",description:`Text must be a minimum of ${oe.ro} words to receive feedback.`})};case"noFollowUpExperts":return{kind:"info",content:(0,c.jsx)(le,{title:"Couldn't select new experts",description:"No new experts found for your query."})};default:(0,G.vE)(e)}})(e),i=(0,P.useContext)(W),{trackingRef:o}=J(H.NotificationPanel,{agentId:$.p,capiSessionId:null!=(t=null==i?void 0:i.capiSessionId.get())?t:null,reason:e,textLength:null!=(n=null==i?void 0:i.textLength.get())?n:null},V.IX.Impression);return(0,c.jsxs)(B.k,{ref:o,padding:3,gap:2,className:q()(se,"info"===r?re:ne),children:[(0,c.jsx)("div",{className:ie,children:"info"===r?(0,c.jsx)(ee.q,{width:26,height:26}):(0,c.jsx)(te.F,{width:26,height:26})}),s]})};var ce=n(60132),de=n(15189);const ue="_container_zerhq_1",pe="_expertAvatar_zerhq_5",xe="_avatarContainer_zerhq_17",he="_title_zerhq_26",me="_description_zerhq_32",ge="_removableContainer_zerhq_36",ve="_expertName_zerhq_40",fe="_highlighted_zerhq_52";var be=Object.defineProperty,we=Object.getOwnPropertySymbols,ke=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable,ye=(e,t,n)=>t in e?be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ce=(e,t)=>{for(var n in t||(t={}))ke.call(t,n)&&ye(e,n,t[n]);if(we)for(var n of we(t))Ee.call(t,n)&&ye(e,n,t[n]);return e};const Ie=({expertName:e,expertInitials:t,description:n})=>(0,c.jsxs)(B.k,{className:ue,gap:3,align:"start",children:[(0,c.jsx)("div",{className:xe,children:(0,c.jsx)(L.x,{as:"p",variant:"text-small",className:pe,marginTop:1,children:t})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:he,children:(0,c.jsx)(L.x,{as:"span",variant:"text-small",weight:"semibold",className:ve,children:e})}),(0,c.jsx)(L.x,{as:"p",className:q()(me),variant:"text-xsmall",color:"base-subdued",children:n})]})]}),je=({isLoading:e,isSelected:t,onClick:n,expertInfo:r})=>{var s,i;const o=(0,P.useContext)(W),{trackingRef:l,trackClicked:a}=J(H.ExpertFilterButton,{agentId:$.p,capiSessionId:null!=(s=null==o?void 0:o.capiSessionId.get())?s:null,expertName:r.expertName,expertDescription:r.description,expertSuggestionsCount:r.suggestionsCount,expertPositionOnList:r.positionOnList,textLength:null!=(i=null==o?void 0:o.textLength.get())?i:null},V.IX.Impression),d=(0,P.useCallback)((()=>{a(),n()}),[a,n]);return(0,c.jsx)(K,{ref:l,isSelected:t,isLoading:e,suggestionsCount:r.suggestionsCount,onClick:d,children:(0,c.jsx)(Ie,Ce({},r))})},Se=({expertInfo:e,isHighlighted:t,onDeleteClick:n})=>{var r,s,i;const o=(0,P.useContext)(W),{trackingRef:l,trackClicked:a}=J(H.DeleteExpertButton,{agentId:$.p,capiSessionId:null!=(r=null==o?void 0:o.capiSessionId.get())?r:null,expertName:e.expertName,expertPositionOnList:e.positionOnList,expertSuggestionsCount:e.suggestionsCount,expertsCount:null!=(s=null==o?void 0:o.expertsCount.get())?s:null,textLength:null!=(i=null==o?void 0:o.textLength.get())?i:null},V.IX.Impression),d=(0,P.useCallback)((()=>{a(),n()}),[a,n]);return(0,c.jsxs)(B.k,{direction:"row",justify:"space-between",align:"center",className:q()(ge,{[fe]:t}),padding:3,gap:5,children:[(0,c.jsx)(Ie,Ce({},e)),(0,c.jsx)(ce.h,{ref:l,accessibilityLabel:"Remove suggestions from this expert",icon:de.o,variant:"tertiary",size:"medium",onClick:d})]})},ze="_unselectedButtonContainer_1iymj_1";var Pe=Object.defineProperty,_e=Object.defineProperties,Be=Object.getOwnPropertyDescriptors,Oe=Object.getOwnPropertySymbols,Le=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable,Ae=(e,t,n)=>t in e?Pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ne=(e,t)=>{for(var n in t||(t={}))Le.call(t,n)&&Ae(e,n,t[n]);if(Oe)for(var n of Oe(t))Re.call(t,n)&&Ae(e,n,t[n]);return e},Me=(e,t)=>_e(e,Be(t));const Te=({state:e,selectExpertAction:t,deselectExpertAction:n,goToChooseExperts:r})=>{var s,i,o,l,a,d,u,x,h;const m=(0,P.useContext)(W),g=J(H.ExpertPanelThread,{agentId:$.p,capiSessionId:null!=(s=null==m?void 0:m.capiSessionId.get())?s:null,textLength:null!=(i=null==m?void 0:m.textLength.get())?i:null},V.IX.Impression),f=J(H.EvaluationSummary,{agentId:$.p,capiSessionId:null!=(o=null==m?void 0:m.capiSessionId.get())?o:null,expertsCount:e.experts.size,summaryLength:null!=(d=null==(a=null==(l=e.textSummary)?void 0:l.content)?void 0:a.length)?d:null},V.IX.Off),b=J(H.AllExpertsFilterButton,{agentId:$.p,capiSessionId:null!=(u=null==m?void 0:m.capiSessionId.get())?u:null,expertsCount:e.experts.size,totalSuggestionsCount:null!=(x=e.allSuggestionsCount)?x:null,textLength:null!=(h=null==m?void 0:m.textLength.get())?h:null},V.IX.Impression),k=(0,P.useCallback)((()=>{b.trackClicked(),n()}),[b,n]);return(0,P.useEffect)((()=>{f.trackImpression()}),[f,e.textSummary.content]),(0,c.jsxs)(B.k,{direction:"column",ref:g.trackingRef,gap:8,paddingLeft:4,paddingRight:4,height:"100%",children:[(0,c.jsx)(B.k,{direction:"column",gap:2,children:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(Z,{onClick:r}),(0,c.jsx)(p.r4,{children:e.textSummary.content})]})}),v.pC(e.notification)&&(0,c.jsx)(ae,{type:e.notification.value}),e.experts.size>0&&(0,c.jsxs)(B.k,{direction:"column",children:[(0,c.jsx)(O.X,{as:"h1",variant:"text-small",marginBottom:3,children:"Suggestions inspired by experts"}),(0,c.jsx)(K,{ref:b.trackingRef,onClick:k,isLoading:e.loadingFollowUpSuggestions,isSelected:v.Wi(e.selectedExpert),suggestionsCount:e.allSuggestionsCount,children:(0,c.jsx)(Y,{text:"All suggestions"})}),Array.from(e.experts.values()).map(((n,r)=>{var s;const i=(0,w.zG)(e.selectedExpert,v.Gg((e=>e.expertName===n.expertName)));return(0,c.jsx)("div",{className:i?void 0:ze,children:(0,c.jsx)(je,{expertInfo:Me(Ne({},n),{positionOnList:r+1,suggestionsCount:null==(s=e.commentsPerExpert[n.expertName])?void 0:s.length}),isSelected:i,isLoading:e.loadingFollowUpSuggestions,onClick:()=>t(n.expertName)})},n.expertName)})),(0,c.jsx)(L.x,{as:"p",variant:"text-xsmall",color:"base-subdued",marginTop:4,marginBottom:4,children:"References to experts in this product are for informational purposes only and do not indicate any affiliation with Grammarly or endorsement by those individuals or entities."})]})]})};var Ue=n(77382);const Fe=({size:e})=>(0,c.jsx)(M.J,{accessibilityLabel:"Expert Panel Agent",size:e,icon:Ue.F});var De=n(3343),qe=n(12787);const Xe=({onClose:e,onReload:t,state:n})=>{var r,s,i,o;const l=(0,P.useContext)(W),a=J(H.ReloadButton,{agentId:$.p,capiSessionId:null!=(r=null==l?void 0:l.capiSessionId.get())?r:null,textLength:null!=(s=null==l?void 0:l.textLength.get())?s:null},V.IX.Impression),d=J(H.CloseButton,{agentId:$.p,capiSessionId:null!=(i=null==l?void 0:l.capiSessionId.get())?i:null,textLength:null!=(o=null==l?void 0:l.textLength.get())?o:null},V.IX.Impression),u=(0,P.useCallback)((()=>{d.trackClicked(),null==e||e()}),[d,e]),x=(0,P.useCallback)((()=>{a.trackClicked(),null==t||t()}),[a,t]);return(0,c.jsx)(p.i7,{title:"Expert Review",renderIcon:({size:e})=>(0,c.jsx)(Fe,{size:e}),state:n||"expanded",controls:{left:e&&[{icon:De.V,label:"Close",onClick:u,trackingRef:d.trackingRef}],right:t&&[{icon:qe.a,label:"Reload",onClick:x,trackingRef:a.trackingRef}]}})};var He=n(39981);const We=({onReturn:e})=>{var t;const n=(0,P.useContext)(W),{trackingRef:r,trackClicked:s}=J(H.ReturnButton,{agentId:$.p,capiSessionId:null!=(t=null==n?void 0:n.capiSessionId.get())?t:null},V.IX.Impression),i=(0,P.useCallback)((()=>{s(),e()}),[s,e]);return(0,c.jsx)(p.i7,{title:"Expert Review",renderIcon:()=>(0,c.jsx)(Fe,{size:"medium"}),state:"collapsed",controls:{left:[{icon:He.n,label:"Back",onClick:i,trackingRef:r}]}})},Ve="_heading_8g8de_1",Ge="_expertList_8g8de_6",Je="_container_8g8de_13";var $e=n(82491),Qe=n(38076);const Ke=(0,$e.I)("color",(({title:e,titleId:t,desc:n,descId:r,resourcePrefix:s=(0,Qe.O)(),...i})=>P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true","data-icon":"InterfaceSpinner",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...i},n?P.createElement("desc",{id:r},n):null,e?P.createElement("title",{id:t},e):null,P.createElement("path",{stroke:"#646B81",strokeWidth:2,d:"M14 7.333A6.013 6.013 0 0 0 8.018 2C4.695 2 2 4.686 2 8s2.695 6 6.018 6a6 6 0 0 0 4.013-1.528"})))),Ye="_submitButtonDisabled_m7a8c_1";var Ze=Object.defineProperty,et=Object.getOwnPropertySymbols,tt=Object.prototype.hasOwnProperty,nt=Object.prototype.propertyIsEnumerable,rt=(e,t,n)=>t in e?Ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,st=(e,t)=>{for(var n in t||(t={}))tt.call(t,n)&&rt(e,n,t[n]);if(et)for(var n of et(t))nt.call(t,n)&&rt(e,n,t[n]);return e};function it({onSubmit:e,disabled:t,placeholder:n}){var r,s,i;const o=P.useRef(null),[l,a]=P.useState(""),d=""!==l.trim(),u=null!=t&&t,x=(0,P.useContext)(W),{trackImpression:h,trackClicked:m}=J(H.ExpertFollowUpInput,{agentId:$.p,capiSessionId:null!=(r=null==x?void 0:x.capiSessionId.get())?r:null,expertsCount:null!=(s=null==x?void 0:x.expertsCount.get())?s:null,inputLength:l.length,textLength:null!=(i=null==x?void 0:x.textLength.get())?i:null},V.IX.Off),g=(0,P.useCallback)(((t,n)=>{e(t,n),m()}),[e,m]);return(0,P.useEffect)((()=>{h()}),[h]),(0,c.jsx)(p.xg,{autoFocus:!1,textAreaRef:o,controls:e=>(0,c.jsx)(ot,{hasValue:d,isProcessing:u,onSubmit:e.handleSubmit}),onSubmit:g,disabled:t,value:l,onChange:a,placeholder:n})}function ot(e){const{hasValue:t,isProcessing:n,onSubmit:r}=e,s=n?{icon:Ke,accessibilityLabel:"Generating experts",isDisabled:!0,variant:"secondary"}:{icon:p.Hf,accessibilityLabel:"Send message",onClick:r,isDisabled:!t,className:t?void 0:Ye};return(0,c.jsx)(B.k,{direction:"row",justify:"end",align:"end",marginTop:"auto",children:(0,c.jsx)(ce.h,st({size:"small"},s))})}const lt="_expertTopicChipText_1fzf3_1",at="_expertTopicChip_1fzf3_1";function ct({label:e,isProcessing:t,onClick:n}){var r,s,i;const o=(0,P.useContext)(W),{trackingRef:l,trackClicked:a}=J(H.ExpertFollowUpTopic,{agentId:$.p,capiSessionId:null!=(r=null==o?void 0:o.capiSessionId.get())?r:null,expertsCount:null!=(s=null==o?void 0:o.expertsCount.get())?s:null,topic:e,textLength:null!=(i=null==o?void 0:o.textLength.get())?i:null},V.IX.Impression),d=(0,P.useCallback)((()=>{n(e),a()}),[n,e,a]);return(0,c.jsxs)(R.z,{ref:l,variant:"secondary",size:"small",onClick:d,className:at,isDisabled:t,children:[t&&(0,c.jsx)(A.a.Circular,{size:"small"}),(0,c.jsx)(L.x,{as:"span",className:lt,variant:"text-xsmall",weight:"medium",children:e})]},e)}var dt=n(64443);const ut="_heading_1i81w_1",pt="_container_1i81w_6",xt="_updateFeedbackButton_1i81w_13";var ht=(e,t,n)=>new Promise(((r,s)=>{var i=e=>{try{l(n.next(e))}catch(e){s(e)}},o=e=>{try{l(n.throw(e))}catch(e){s(e)}},l=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,o);l((n=n.apply(e,t)).next())}));function mt({topics:e,canSubmitQuery:t,showFreeformInput:n,followUpExpertsLoadingError:r,onAddExpertsByTopic:s,onAddExpertsByUserInput:i,onUpdateFeedbackClick:o}){var l,a,d;const u=dt.C8.Logging.getLogger("ExpertPanelViewModelImpl"),[p,x]=(0,P.useState)([]),[h,m]=(0,P.useState)(!1),g=(0,P.useContext)(W),f=J(H.UpdateFeedbackButton,{agentId:$.p,capiSessionId:null!=(l=null==g?void 0:g.capiSessionId.get())?l:null,expertsCount:null!=(a=null==g?void 0:g.expertsCount.get())?a:null,textLength:null!=(d=null==g?void 0:g.textLength.get())?d:null},V.IX.Impression),b=e=>{x((t=>[...t,e])),k(e,(()=>x((t=>t.filter((t=>t!==e))))),"An error occurred when adding experts by clicking on topic")},w=(e,t,n)=>ht(this,null,(function*(){try{yield e()}catch(e){u.debug(`${n}: ${null==e?void 0:e.toString()}`)}finally{t()}})),k=(e,t,n)=>ht(this,null,(function*(){return w((()=>s(e)),t,n)})),E=(e,t,n)=>ht(this,null,(function*(){return w((()=>i(e)),t,n)})),y=(0,P.useCallback)((()=>{o(),f.trackClicked()}),[o,f]);return(0,c.jsxs)(B.k,{direction:"column",gap:4,className:pt,paddingTop:3,paddingBottom:3,children:[v.pC(r)&&(0,c.jsx)(ae,{type:r.value}),(0,c.jsx)("div",{children:(0,c.jsx)(O.X,{as:"h2",variant:"text-xsmall",className:ut,children:"Add experts from suggested topics"})}),(0,c.jsx)(B.k,{direction:"row",gap:1,wrap:!0,children:e.map((e=>(0,c.jsx)(ct,{label:e,onClick:b,isProcessing:p.includes(e)},e)))}),n&&(0,c.jsx)(it,{onSubmit:e=>{m(!0),E(e,(()=>m(!1)),"An error occurred when adding experts through ExpertInputSubmit")},placeholder:"Add experts by name or topic",disabled:h}),(0,c.jsx)(R.z,{ref:f.trackingRef,variant:"primary",width:"full",onClick:y,isDisabled:!t,className:xt,children:(0,c.jsxs)(B.k,{gap:2,align:"center",children:[!t&&(0,c.jsx)(A.a.Circular,{size:"small",variant:"inverse"}),(0,c.jsx)(L.x,{as:"span",variant:"text-small",weight:"bold",children:"Update feedback"})]})})]})}var gt=Object.defineProperty,vt=Object.defineProperties,ft=Object.getOwnPropertyDescriptors,bt=Object.getOwnPropertySymbols,wt=Object.prototype.hasOwnProperty,kt=Object.prototype.propertyIsEnumerable,Et=(e,t,n)=>t in e?gt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yt=(e,t)=>{for(var n in t||(t={}))wt.call(t,n)&&Et(e,n,t[n]);if(bt)for(var n of bt(t))kt.call(t,n)&&Et(e,n,t[n]);return e},Ct=(e,t)=>vt(e,ft(t));const It=e=>(0,c.jsxs)(B.k,{direction:"column",gap:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,className:Je,children:[(0,c.jsxs)("div",{className:Ge,children:[(0,c.jsx)(O.X,{as:"h2",variant:"text-small",className:Ve,children:"Selected experts"}),Array.from(e.experts.values()).map(((t,n)=>{var r;return(0,c.jsx)("div",{children:(0,c.jsx)(Se,{expertInfo:Ct(yt({},t),{positionOnList:n+1,suggestionsCount:null==(r=e.commentsPerExpert[t.expertName])?void 0:r.length}),isHighlighted:e.newExperts.has(t.expertName),onDeleteClick:()=>e.removeExpertAction(t.expertName)})},t.expertName)}))]}),e.withFollowUpActions&&(0,c.jsx)(mt,{topics:e.followUpTopics,canSubmitQuery:e.canSubmitQuery,showFreeformInput:e.withFreeformInput,followUpExpertsLoadingError:e.followUpExpertsLoadingError,onAddExpertsByTopic:e.addExpertsByTopic,onAddExpertsByUserInput:e.addExpertsByUserInput,onUpdateFeedbackClick:e.requestFollowUpExpertsEvaluation})]});var jt=n(7415);const St=["Reading your text","Finding experts to review your piece"],zt=["Applying ideas from","Taking inspiration from","Using concepts from"],Pt=["Consolidating feedback"],_t=({experts:e})=>{var t,n;const r=(0,P.useRef)(null),[s,i]=(0,P.useState)(0),[o]=(0,P.useState)([...new Array(10)].flatMap((()=>(0,jt.TV)(zt)))),l=(0,P.useCallback)((()=>{r.current=self.setInterval((()=>{i((e=>e<Pt.length?e+1:e))}),25e3)}),[i]);(0,P.useEffect)((()=>{e.length>0&&(r.current&&self.clearInterval(r.current),l())}),[e,l]),(0,P.useEffect)((()=>()=>{r.current&&(self.clearInterval(r.current),r.current=null)}),[]);const a=(0,P.useContext)(W),{trackImpression:d}=J(H.ExpertPanelLoader,{agentId:$.p,capiSessionId:null!=(t=null==a?void 0:a.capiSessionId.get())?t:null,textLength:null!=(n=null==a?void 0:a.textLength.get())?n:null},V.IX.Off);return(0,P.useEffect)((()=>{d()}),[d]),(0,c.jsx)(p.g4,{simulateStepLoading:0===e.length&&0===s,simulatedLoadingTime:3e3*St.length,steps:[...St,...e.map(((e,t)=>`${o[t%o.length]} ${e}`)),...Pt.slice(0,s)]})},Bt=({title:e,description:t})=>{var n,r;const s=(0,P.useContext)(W),i=J(H.FatalError,{agentId:$.p,capiSessionId:null!=(n=null==s?void 0:s.capiSessionId.get())?n:null,textLength:null!=(r=null==s?void 0:s.textLength.get())?r:null},V.IX.Impression);return(0,c.jsx)(B.k,{direction:"column",align:"center",padding:4,height:"100%",justify:"center",ref:i.trackingRef,children:(0,c.jsxs)(B.k,{direction:"column",gap:2,align:"center",justify:"center",children:[(0,c.jsx)(te.F,{width:48,height:48}),(0,c.jsx)(O.X,{as:"h3",variant:"heading-small",children:e}),(0,c.jsx)(L.x,{as:"p",variant:"text-small",color:"base-subdued",align:"center",children:t})]})})},Ot=e=>{const t=(0,P.useMemo)((()=>e.viewModel.context),[e.viewModel.context]);return(0,c.jsx)(W.Provider,{value:t,children:(0,c.jsx)(B.k,{direction:"column",className:_,height:"100%",children:(0,c.jsx)(d.F.Fragment,{children:e.viewModel.state.view((t=>{switch(t.kind){case"fatalError":return(0,c.jsx)(p.Py,{renderHeader:()=>(0,c.jsx)("div",{style:{marginBottom:"8px"},children:(0,c.jsx)(Xe,{state:"collapsed",onClose:e.onClosePanel,onReload:t.canReload?e.viewModel.internalActions.reloadAgent:void 0})}),renderBody:()=>(0,c.jsx)(Bt,{title:t.title,description:t.description})});case"chooseExperts":return(0,c.jsx)(p.Py,{renderHeader:()=>(0,c.jsx)("div",{style:{marginBottom:"8px"},children:(0,c.jsx)(We,{onReturn:()=>e.viewModel.internalActions.goBackFromChooseExperts()})}),renderBody:()=>(0,c.jsx)(It,{experts:t.experts,newExperts:t.newExperts,commentsPerExpert:t.commentsPerExpert,withFollowUpActions:t.withFollowUpActions,withFreeformInput:t.withFreeformInput,canSubmitQuery:t.canRequestFollowUpSuggestions,followUpExpertsLoadingError:t.followUpExpertsLoadingError,removeExpertAction:e.viewModel.internalActions.removeExpert,followUpTopics:e.viewModel.followUpTopics.get(),addExpertsByTopic:e.viewModel.internalActions.addExpertsByTopic,addExpertsByUserInput:e.viewModel.internalActions.addExpertsByUserInput,requestFollowUpExpertsEvaluation:e.viewModel.internalActions.requestFollowUpSuggestions})});case"evaluation":return(0,c.jsx)(p.Py,{renderHeader:()=>(0,c.jsx)("div",{style:{marginBottom:"8px"},children:(0,c.jsx)(Xe,{onClose:e.onClosePanel,onReload:t.canReload?e.viewModel.internalActions.reloadAgent:void 0})}),renderBody:()=>(0,c.jsx)(Te,{state:t,selectExpertAction:e.viewModel.internalActions.selectExpert,deselectExpertAction:e.viewModel.internalActions.deselectExpert,goToChooseExperts:e.viewModel.internalActions.goToChooseExperts})});case"notification":return(0,c.jsx)(p.Py,{renderHeader:()=>(0,c.jsx)("div",{style:{marginBottom:"8px"},children:(0,c.jsx)(Xe,{onClose:e.onClosePanel,onReload:t.canReload?e.viewModel.internalActions.reloadAgent:void 0})}),renderBody:()=>(0,c.jsx)(B.k,{margin:4,children:(0,c.jsx)(ae,{type:t.notification})})});case"loading":return(0,c.jsx)(p.Py,{renderHeader:()=>(0,c.jsx)("div",{style:{marginBottom:"8px"},children:(0,c.jsx)(Xe,{onClose:e.onClosePanel,onReload:void 0})}),renderBody:()=>(0,c.jsx)(B.k,{marginLeft:4,marginRight:4,children:(0,c.jsx)(_t,{experts:t.expertNames})})});default:(0,G.vE)(t)}}))})})})};var Lt=n(1947),Rt=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),At=e=>{throw TypeError(e)},Nt=(e,t,n)=>{var r;null!=t?("object"!=typeof t&&"function"!=typeof t&&At("Object expected"),n&&(r=t[Rt("asyncDispose")]),void 0===r&&(r=t[Rt("dispose")]),"function"!=typeof r&&At("Object not disposable"),e.push([n,r,t])):n&&e.push([n]);return t},Mt=(e,t,n)=>{var r="function"==typeof SuppressedError?SuppressedError:function(e,t,n,r){return(r=Error(n)).name="SuppressedError",r.error=e,r.suppressed=t,r},s=e=>t=n?new r(e,t,"An error was suppressed during disposal"):(n=!0,e),i=r=>{for(;r=e.pop();)try{var o=r[1]&&r[1].call(r[2]);if(r[0])return Promise.resolve(o).then(i,(e=>(s(e),i())))}catch(e){s(e)}if(n)throw t};return i()};const Tt=e=>((e,t,n)=>new Promise(((r,s)=>{var i=e=>{try{l(n.next(e))}catch(e){s(e)}},o=e=>{try{l(n.throw(e))}catch(e){s(e)}},l=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,o);l((n=n.apply(e,t)).next())})))(void 0,[e],(function*({bus:e,documents:t,experimentation:n}){var r=[];try{const o=Nt(r,new DisposableStack),l=o.use(new u.D8({activeDocument:t.activeDocument,documentSessionDisposed:t.documentSessionDisposed,createNewSession:t=>{var r=[];try{const o=Nt(r,new DisposableStack),l=o.use(new z({bus:e,documentId:t,agentState:o.use(e.state.agentState.view(t,Lt.b6)),experimentation:n})),a=o.move();return{viewModel:l,[Symbol.dispose]:()=>a.dispose()}}catch(e){var s=e,i=!0}finally{Mt(r,s,i)}}})),a=o.move();return{title:$.i,renderPanel:({onClosePanel:e})=>(0,c.jsx)(d.F.Fragment,{children:l.activeSession.view(u.TJ.match({activeSession:t=>(0,c.jsx)(Ot,{viewModel:t.viewModel,onClosePanel:e}),noActiveSession:()=>(0,c.jsx)(p.ZD,{agentName:$.i}),documentNotSupported:()=>(0,c.jsx)(p.Di,{agentName:$.i})}))}),renderIcon:e=>(0,c.jsx)(Fe,{size:e.size}),[Symbol.dispose]:()=>a.dispose()}}catch(e){var s=e,i=!0}finally{Mt(r,s,i)}}))},82494:(e,t,n)=>{n.d(t,{L:()=>o});var r=n(92379),s=n(82491),i=n(38076);const o=(0,s.I)("color",(({title:e,titleId:t,desc:n,descId:s,resourcePrefix:o=(0,i.O)(),...l})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true","data-icon":"InterfaceCheckmark",stroke:"transparent","aria-labelledby":t,"aria-describedby":s,...l},n?r.createElement("desc",{id:s},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{stroke:"#646B81",strokeLinecap:"round",d:"M2 8.444 5.692 12 14 4"}))))},15189:(e,t,n)=>{n.d(t,{o:()=>o});var r=n(92379),s=n(82491),i=n(38076);const o=(0,s.I)("color",(({title:e,titleId:t,desc:n,descId:s,resourcePrefix:o=(0,i.O)(),...l})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true","data-icon":"InterfaceIgnore",stroke:"transparent","aria-labelledby":t,"aria-describedby":s,...l},n?r.createElement("desc",{id:s},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{stroke:"#646B81",strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4h1.25M13 4h-1.25m0 0h-1.562m1.562 0-.552 8.828A1.25 1.25 0 0 1 9.951 14H6.049a1.25 1.25 0 0 1-1.247-1.172L4.25 4m0 0h1.563m0 0v-.75c0-.69.56-1.25 1.25-1.25v0h1.875v0c.69 0 1.25.56 1.25 1.25V4M5.812 4h4.376m-1.25 2.5v4.917M7.062 6.5v4.917"}))))},39981:(e,t,n)=>{n.d(t,{n:()=>o});var r=n(92379),s=n(82491),i=n(38076);const o=(0,s.I)("color",(({title:e,titleId:t,desc:n,descId:s,resourcePrefix:o=(0,i.O)(),...l})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true","data-icon":"InterfaceLeft",stroke:"transparent","aria-labelledby":t,"aria-describedby":s,...l},n?r.createElement("desc",{id:s},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{stroke:"#646B81",strokeLinecap:"round",d:"M11 2 5 8l6 6"}))))},2240:(e,t,n)=>{n.d(t,{E:()=>o});var r=n(92379),s=n(82491),i=n(38076);const o=(0,s.I)("color",(({title:e,titleId:t,desc:n,descId:s,resourcePrefix:o=(0,i.O)(),...l})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true","data-icon":"InterfaceNewTeam",stroke:"transparent","aria-labelledby":t,"aria-describedby":s,...l},n?r.createElement("desc",{id:s},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{fill:"#6D758D",d:"M4.629 10.999a.5.5 0 1 0 0-1zm-2.13-.5H2a.5.5 0 0 0 .5.5zm3.21-3.75a.5.5 0 1 0-1 0zm2.585 2.43a.5.5 0 1 0 .412-.912zm-1.036-2.43a.5.5 0 0 0-1 0zm.578 1.673.207-.455zm-3.682.049.228.445zm-.6.306-.227-.446zm7.817 3.722a.5.5 0 0 0 0 1zm2.13.5v.5a.5.5 0 0 0 .5-.5zm-2.21-3.75a.5.5 0 0 0-1 0zm.554 1.722-.227.445zm.6.306.228-.445zm-.816 2.222a.5.5 0 1 0 0-1zm-5.13-.5H6a.5.5 0 0 0 .5.5zm3.21-3.75a.5.5 0 0 0-1 0zm-1.555 1.722-.227-.445zm-.6.306.227.445zM4.63 9.999h-2.13v1h2.13zm-.848-.777.6-.306-.454-.89-.6.305zm4.925-.955-.663-.3-.413.91.664.301zm-3.77-2.899v-.79h-1v.79zm2.096-.79v.79h1v-.79zm0 .79c0 .605-.478 1.079-1.048 1.079v1c1.14 0 2.048-.94 2.048-2.079zM5.984 3.5c.57 0 1.048.474 1.048 1.079h1c0-1.14-.908-2.079-2.048-2.079zM4.935 4.579c0-.605.479-1.079 1.049-1.079v-1c-1.14 0-2.049.94-2.049 2.079zm-1 .789c0 1.139.908 2.079 2.049 2.079v-1c-.57 0-1.049-.474-1.049-1.079zm4.108 2.599a1.34 1.34 0 0 1-.785-1.218h-1c0 .918.536 1.75 1.372 2.128zm-3.661.95a2.43 2.43 0 0 0 1.327-2.168h-1c0 .539-.302 1.032-.782 1.277zM3 10.498c0-.539.302-1.032.781-1.277l-.454-.89A2.43 2.43 0 0 0 2 10.498zm8.371 3h2.13v-1h-2.13zm1.302-2.668-.6-.305-.455.89.6.306zm-.608-2.963v-.79h-1v.79zm-4.097-.79v.79h1v-.79zm0 .79c0 1.139.908 2.079 2.048 2.079v-1c-.57 0-1.048-.474-1.048-1.079zM10.016 5c-1.14 0-2.048.94-2.048 2.079h1c0-.605.478-1.079 1.048-1.079zm2.049 2.079c0-1.14-.908-2.079-2.049-2.079v1c.57 0 1.049.474 1.049 1.079zm-1 .789c0 .605-.479 1.079-1.049 1.079v1c1.14 0 2.049-.94 2.049-2.079zm1.008 2.658a1.43 1.43 0 0 1-.782-1.277h-1c0 .915.513 1.752 1.327 2.167zM14 12.999c0-.915-.513-1.752-1.328-2.168l-.454.891c.48.245.782.738.782 1.277zm-2.372-.5h-5.13v1h5.13zm-3.848-.777.6-.306-.454-.89-.6.306zm1.154-3.854v-.79h-1v.79zm2.097-.79v.79h1v-.79zm0 .79c0 .605-.478 1.079-1.048 1.079v1c1.14 0 2.048-.94 2.048-2.079zM9.984 6c.57 0 1.048.474 1.048 1.079h1c0-1.14-.908-2.079-2.048-2.079zM8.935 7.079C8.935 6.474 9.414 6 9.984 6V5c-1.14 0-2.049.94-2.049 2.079zm-1 .789c0 1.139.908 2.079 2.049 2.079v-1c-.57 0-1.049-.474-1.049-1.079zm.447 3.548A2.43 2.43 0 0 0 9.709 9.25h-1c0 .539-.302 1.032-.782 1.277zM7 13c0-.539.302-1.032.781-1.277l-.454-.89A2.43 2.43 0 0 0 6 12.999z"}))))},12787:(e,t,n)=>{n.d(t,{a:()=>o});var r=n(92379),s=n(82491),i=n(38076);const o=(0,s.I)("color",(({title:e,titleId:t,desc:n,descId:s,resourcePrefix:o=(0,i.O)(),...l})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true","data-icon":"InterfaceReload",stroke:"transparent","aria-labelledby":t,"aria-describedby":s,...l},n?r.createElement("desc",{id:s},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{stroke:"#646B81",d:"M5.818 2.429A5.92 5.92 0 0 0 2 8a6 6 0 0 0 3.857 5.606m4.286-11.177C12.398 3.29 14 5.44 14 8a5.97 5.97 0 0 1-3.824 5.606M2.546 2h3.272v3.273M13.455 14h-3.273v-3.273"}))))},78393:(e,t,n)=>{n.d(t,{M:()=>o});var r=n(92379),s=n(82491),i=n(38076);const o=(0,s.I)("color",(({title:e,titleId:t,desc:n,descId:s,resourcePrefix:o=(0,i.O)(),...l})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true","data-icon":"InterfaceRight",stroke:"transparent","aria-labelledby":t,"aria-describedby":s,...l},n?r.createElement("desc",{id:s},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{stroke:"#646B81",strokeLinecap:"round",d:"m5 2 6 6-6 6"}))))},42015:(e,t,n)=>{n.d(t,{q:()=>o});var r=n(92379),s=n(82491),i=n(38076);const o=(0,s.I)("color",(({title:e,titleId:t,desc:n,descId:s,resourcePrefix:o=(0,i.O)(),...l})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20","aria-hidden":"true","data-icon":"InterfaceWriting",stroke:"transparent","aria-labelledby":t,"aria-describedby":s,...l},n?r.createElement("desc",{id:s},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{fill:"#646B81",d:"M1.504 17.437a.5.5 0 0 0 .992.126zm3.529-1.333-.218.45zm1.502 1.316.088-.492zm2.798-1.219-.166-.471zm2.976.409-.18.466zm1.856.46.042-.499zm4.005-.337a.5.5 0 0 0-.34-.94zM15.246 4.542l.39.314a.5.5 0 0 0-.095-.718zM12.46 2.5l.295-.403a.5.5 0 0 0-.716.132zM6.706 7.53l-.18-.467a.5.5 0 0 0-.315.396zm-1.031 7.307-.496-.07a.5.5 0 0 0 .716.519zm6.583-3.236.22.449a.5.5 0 0 0 .28-.421zm-6.976 2.942a.5.5 0 1 0 .81.585zm5.106-5.373a.5.5 0 0 0-.811-.585zm.489-4.532a.5.5 0 0 0-.559.83zm2.368 2.798a.5.5 0 1 0 .558-.83zM2.496 17.563c.003-.023.043-.135.236-.31.177-.161.427-.324.711-.458s.58-.229.84-.269c.273-.041.447-.014.532.028l.436-.9c-.348-.168-.756-.171-1.118-.116a4.1 4.1 0 0 0-1.116.353c-.353.166-.692.38-.958.622-.25.228-.507.544-.555.924zm2.32-1.01c.18.088.26.23.483.555.209.304.519.691 1.147.805l.177-.985c-.228-.04-.339-.152-.5-.387-.149-.216-.393-.656-.872-.888zm1.63 1.36c.753.135 1.357-.179 1.826-.484.118-.077.234-.158.343-.234q.164-.116.317-.219c.208-.137.39-.24.567-.303l-.332-.943c-.293.103-.556.26-.787.413q-.176.117-.339.233c-.11.076-.212.148-.315.215-.417.271-.742.402-1.103.337zm3.053-1.24c.842-.296 1.629.016 2.63.403l.36-.932c-.91-.352-2.068-.855-3.322-.414zm2.63.403c.63.244 1.271.43 1.994.492l.084-.997c-.597-.05-1.142-.205-1.718-.427zm1.994.492c1.541.13 2.802-.384 4.047-.835l-.34-.94c-1.302.47-2.343.886-3.623.778zM12.459 2.5l-.42-.271-.002.001-.004.007-.018.028-.078.113a17.281 17.281 0 0 1-1.467 1.81C9.473 5.26 8.096 6.455 6.526 7.063l.362.932c1.774-.687 3.274-2.007 4.315-3.126a18 18 0 0 0 1.558-1.922l.119-.176zM6.21 7.46l-1.032 7.307.99.14 1.032-7.308zm-.316 7.826 6.583-3.236-.44-.897-6.584 3.235zm6.862-3.657c.094-1.695.8-3.382 1.508-4.669a17 17 0 0 1 1.26-1.962l.083-.109.021-.026.005-.006.001-.001-.778-.628h-.001l-.002.003-.033.042-.094.123a18.319 18.319 0 0 0-1.338 2.083c-.738 1.341-1.525 3.183-1.63 5.095zm-6.664 3.499 4.295-5.958-.811-.585-4.295 5.958zm4.226-9.66 2.926 1.968.558-.83-2.927-1.968zm5.222-1.33-2.787-2.041-.591.806 2.788 2.042z"}))))},51601:(e,t,n)=>{n.d(t,{B9:()=>k,IX:()=>l,Jn:()=>a});var r=n(92379),s=n(95295),i=n(64443);const o=Object.freeze({BLUR:"blur",CLICK:"click",CONTEXT_MENU:"contextmenu",COPY:"copy",CUT:"cut",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DRAG_START:"dragstart",DROP:"drop",ERROR:"error",FOCUS:"focus",HASH_CHANGE:"hashchange",KEY_DOWN:"keydown",KEY_UP:"keyup",LOAD:"load",MOUSE_DOWN:"mousedown",MOUSE_MOVE:"mousemove",MOUSE_OVER:"mouseover",MOUSE_UP:"mouseup",PASTE:"paste",POP_STATE:"popstate",RESIZE:"resize",SCROLL:"scroll",TOUCH_END:"touchend",TOUCH_START:"touchstart"}),l=Object.freeze({Off:Object.seal({impression:!1,clicked:!1}),Clicked:Object.seal({impression:!1,clicked:!0}),Impression:Object.seal({impression:!0,clicked:!1}),ImpressionAndClicked:Object.seal({impression:!0,clicked:!0})});var a=(e=>(e.Clicked="clicked",e.Impression="impression",e))(a||{}),c=(e=>(e.Noop="noop",e))(c||{});function d(e,t){"function"==typeof e?e(t):e&&"current"in e&&(e.current=t)}function u(e,t){return e===t||"object"==typeof e&&"object"==typeof t&&null===function(e,t,n=[]){if(e===t||!e&&!t)return null;if(!e||!t)return p;let r=0;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&!n.includes(s)&&(r++,!Object.prototype.hasOwnProperty.call(t,s)||t[s]!==e[s]))return s;let s=0;for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&!n.includes(e)&&(s++,s>r))return e;return null}(e,t)}const p="(falsy value)";const x=Symbol("uninitialized");function h(e,t=u){return function(e,t=u){const n=(0,r.useRef)(x);let s;s=n.current!==x&&t(n.current,e)?n.current:e,(0,r.useEffect)((()=>{n.current=s}),[s]);const i=n.current===x?void 0:n.current;return[s,i]}(e,t)[0]}const m=typeof self<"u",g=Object.freeze(m?r.useLayoutEffect:r.useEffect);function v(e){const t=(0,r.useRef)(e);return g((()=>{t.current=e}),[e]),t}class f{constructor(e,t){this.root=null,this.rootMargin="0px",this.thresholds=[0]}disconnect(){}observe(e){}takeRecords(){return[]}unobserve(e){}}function b(e={}){const t=i.C8.Logging.getLogger("useIntersectionObserver"),n=(0,r.useRef)(new Map),o=(0,r.useRef)(),{getRootElement:l,threshold:a,rootMargin:c}=e,d=v(l),u=h(a),p=(0,r.useCallback)(((e,t)=>{s.unstable_batchedUpdates((()=>{for(const r of e){const e=n.current.get(r.target);for(const n of e??[])n([r],t)}}))}),[]);(0,r.useEffect)((()=>{var e;o.current=function(e,t){return typeof IntersectionObserver>"u"?new f(e,t):new IntersectionObserver(e,t)}(p,{threshold:u,rootMargin:c,root:null==(e=d.current)?void 0:e.call(d)});for(const e of n.current.keys())o.current.observe(e);return()=>{var e;null==(e=o.current)||e.disconnect(),o.current=void 0}}),[d,p,c,u]);const x=(0,r.useCallback)(((e,r)=>{var s;let i=n.current.get(e);i||(i=new Set,n.current.set(e,i)),i.has(r)?t.warn("Received call to 'observe' with already registered callback for target: ",e):(i.add(r),1===i.size&&(null==(s=o.current)||s.observe(e)))}),[]),m=(0,r.useCallback)(((e,r)=>{var s;const i=n.current.get(e);null!=i&&i.has(r)?(i.delete(r),0===i.size&&(n.current.delete(e),null==(s=o.current)||s.unobserve(e))):t.warn("Received call to 'unobserve' for unregistered callback on target: ",e)}),[]),g=(0,r.useCallback)((e=>n.current.has(e)),[]),b=(0,r.useMemo)((()=>({observe:x,unobserve:m,isObserved:g})),[g,x,m]);return(0,r.useMemo)((()=>({observer:b})),[b])}function w(e,t,n){const{observer:s}=b(t);return function(e,t,{disabled:n}={}){const s=i.C8.Logging.getLogger("useIntersectionObserverConsumer"),o=v(t),l=(0,r.useRef)(null);e||s.error("Intersection observer not provided");const a=(0,r.useCallback)(((...e)=>o.current(...e)),[o]),c=(0,r.useCallback)((()=>{!l.current||!e||e.isObserved(l.current)||e.observe(l.current,a)}),[e,a]),u=(0,r.useCallback)((()=>{!l.current||!e||e.isObserved(l.current)&&e.unobserve(l.current,a)}),[e,a]);return(0,r.useEffect)((()=>{n?u():c()}),[n,c,u]),(0,r.useCallback)((e=>{l.current!==e&&(u(),d(l,e),c())}),[c,u])}(s,e,n)}function k({componentId:e,autoTrackedInteractions:t,trackEvent:n,detail:s,intersectionThreshold:i,shouldTrackClickEvent:l=E}){const u=e===c.Noop;s=h(s);const p=(0,r.useCallback)((()=>{u||n(e,a.Impression,s)}),[e,s,u,n]),x=(0,r.useCallback)((t=>{!u&&(!t||l(t))&&n(e,a.Clicked,s)}),[e,s,u,l,n]),m=w(((e,t)=>{e[e.length-1].isIntersecting&&(p(),t.disconnect())}),{threshold:[i||0]},{disabled:u||!(null!=t&&t.impression)}),g=(0,r.useRef)(null),v=function(e){return(0,r.useCallback)((t=>{for(const n of e)n&&d(n,t)}),e)}([m,(0,r.useCallback)((e=>{var n;null==(n=g.current)||n.call(g),null!=t&&t.clicked&&(null==e||e.addEventListener(o.MOUSE_DOWN,x),d(g,(()=>{null==e||e.removeEventListener(o.MOUSE_DOWN,x)})))}),[null==t?void 0:t.clicked,x])]);return{trackImpression:p,trackClicked:x,trackingRef:v}}function E(){return!0}}}]);