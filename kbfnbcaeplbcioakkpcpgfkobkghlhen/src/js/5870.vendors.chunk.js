(self.webpackChunk=self.webpackChunk||[]).push([[5870],{20108:(t,e,n)=>{n.d(e,{N:()=>r});var r,i=n(50753),a=n(77115),s=n(86214),o=n(64443),c=n(59833),u=n(90023),l=n(64271),d=n(78129),p=n(63532),g=n(46734),f=n(59179),m=n(90572),h=n(10883),S=n(35020),C=n(88028);(t=>{const e=o.C8.Logging.getLogger("PushedContentRangeManager");t.create=t=>({getDiff:n=>(0,l.T)((e=>e.pipe((0,d.G)(),(0,p.b)((0,u.ls)((0,u.og)(S.$.diff),S.$.Diff.filter(C.z.isVBar),s.vh.forEach((e=>C.h.Range.getRangeIds(e.contentId).forEach((e=>t.deregisterRange(e)))),((e,n)=>{C.h.Range.getRangeIds(e.contentId).forEach((e=>t.deregisterRange(e)));const r=C.h.Range.fromRange(n.contentId,n.notification.notificationElement.range,"notification");if(t.registerRange(r.meta.id,r),C.h.isWithRewriteOrComment(n)){const e=C.h.Range.fromRange(n.contentId,n.surface.range,"surface");t.registerRange(e.meta.id,e)}}),(e=>{const n=C.h.Range.fromRange(e.contentId,e.notification.notificationElement.range,"notification");if(t.registerRange(n.meta.id,n),C.h.isWithRewriteOrComment(e)){const n=C.h.Range.fromRange(e.contentId,e.surface.range,"surface");t.registerRange(n.meta.id,n)}})))),(0,g.l)()))(n),(n=>t.rangeChanged.pipe((0,f.U)((({changed:t,affected:e})=>[...t.filter(C.h.Range.isVBarRange),...e.filter(C.h.Range.isVBarRange)])),(0,m.h)(c.Od),(0,h.M)(n),(0,f.U)((([t,n])=>{const r=new Map,i=new Map,a=new Map(t.map((t=>[t.meta.id,t]))),s=[];for(const t of S.$.values(n)){if(!C.z.isVBar(t))continue;const n=a.get(C.h.Range.Id(t.contentId,"notification")),o=a.get(C.h.Range.Id(t.contentId,"surface"));if(void 0===n&&void 0===o)continue;const c=void 0!==n&&!C.h.Range.eqLength.equals(n,t.notification.notificationElement.range),u=void 0!==o&&C.h.isWithRewriteOrComment(t)&&!C.h.Range.eqLength.equals(o,t.surface.range);if(c||u)e.debug("Removing item",{id:t.contentId}),r.set(t.contentId,t),o&&C.h.isWithRewriteOrComment(t)&&s.push(t);else{e.debug("Updating item ranges",{id:t.contentId});let r=t;n&&!C.h.Range.eq.equals(n,t.notification.notificationElement.range)&&(r=C.h.updateNotificationRange(n)(r)),o&&C.h.isWithRewriteOrComment(r)&&!C.h.Range.eq.equals(o,r.surface.range)&&(r=C.h.updateSurfaceRange(o)(r)),r!==t&&i.set(t.contentId,[t,r])}}return{diffInput:{removed:r,updated:i},rebaseCandidates:s}}))))(n)),getItemIdsWithIntersectingRange:e=>Array.from(new Set(t.findRanges((0,a.W9)(C.h.Range.isVBarRange,i.W.hasIntersection(e))).map((t=>t.meta.contentId))))})})(r||(r={}))},76572:(t,e,n)=>{n.d(e,{D:()=>N,JC:()=>H,T0:()=>D});var r=n(43207),i=n(24961),a=n(36661),s=(0,a.S)((function(t){return t.intersect(t.partial({accessibilityLabel:t.string}))(t.intersect(t.partial({backendBlob:t.string}))(t.intersect(t.partial({requireAxTree:t.boolean}))(t.struct({actionId:t.string,label:t.string}))))})),o=(0,a.S)((function(t){return(0,i.wf)(l(t),t.struct({}))(t)})),c=(0,a.S)((function(t){return t.intersect(t.partial({expertPanel:M(t)}))(t.intersect(t.partial({aiGrader:k(t)}))(t.intersect(t.partial({plagiarism:rt(t)}))(t.struct({}))))})),u=(0,a.S)((function(t){return t.intersect(t.partial({additionalElements:c(t)}))(t.intersect(t.partial({rewrite:t.string}))(t.intersect(t.partial({hasFinalRewrite:t.boolean}))(t.struct({availableActions:t.readonly(t.array(b(t)))}))))})),l=(0,a.S)((function(t){return t.struct({id:t.number,contentId:t.string})})),d=(0,a.S)((function(t){return(0,i.wf)(l(t),t.struct({}))(t)})),p=(0,a.S)((function(t){return t.intersect(t.partial({defaultAction:b(t)}))(t.intersect(t.partial({expandedTabs:t.readonly(t.array(b(t)))}))(t.struct({extraSettings:t.readonly(t.record(st(t)))})))})),g=(0,a.S)((function(t){return t.intersect(t.partial({title:t.string}))(t.intersect(t.partial({explanation:t.string}))(t.struct({text:t.string,range:at(t),sourceAgent:t.string,sourceAction:t.string,trackingSourceAction:t.string})))})),f=(0,a.S)((function(t){return t.intersect(t.partial({subTitle:t.string}))(t.struct({title:t.string,ctaCopy:t.string,ctaUrl:t.string,dismissCopy:t.string}))})),m=(0,a.S)((function(t){return t.struct({upgradeHookName:t.string,upgradeHookSlot:t.string,upgradeHookVariant:t.string,upgradeHookSubVariant:t.string})})),h=(0,a.S)((function(t){return t.struct({uphookComment:f(t),uphookConfig:m(t)})})),S=((0,a.S)((function(t){return B(t)})),(0,a.S)((function(t){return t.intersect(t.partial({mode:t.string}))(t.struct({}))}))),C=(0,a.S)((function(t){return t.intersect(t.partial({extraInfo:S(t)}))(t.struct({agentId:t.string,message:t.string}))})),k=(0,a.S)((function(t){return t.struct({rubricCriterionId:t.string,rubricCriterionName:t.string})})),b=(0,a.S)((function(t){var e;return t.sum("type")(((e={}).simpleContentAction=w(t),e.textActionsAction=R(t),e))})),w=(0,a.S)((function(t){return(0,i.wf)(s(t),t.struct({type:t.literal("simpleContentAction")}))(t)})),R=(0,a.S)((function(t){return(0,i.wf)(s(t),t.intersect(t.partial({actionParameters:st(t)}))(t.struct({type:t.literal("textActionsAction"),displaySetting:L(t)})))(t)})),y=(0,a.S)((function(t){var e;return t.sum("kind")(((e={}).book=v(t),e.article=_(t),e.website=x(t),e.report=A(t),e.other=I(t),e))})),v=(0,a.S)((function(t){return t.intersect(t.partial({authors:t.string}))(t.intersect(t.partial({authorsList:t.readonly(t.array(t.string))}))(t.intersect(t.partial({publisher:t.string}))(t.intersect(t.partial({edition:t.string}))(t.intersect(t.partial({year:t.number}))(t.struct({kind:t.literal("book")}))))))})),_=(0,a.S)((function(t){return t.intersect(t.partial({authors:t.string}))(t.intersect(t.partial({authorsList:t.readonly(t.array(t.string))}))(t.intersect(t.partial({journal:t.string}))(t.intersect(t.partial({volume:t.string}))(t.intersect(t.partial({issue:t.string}))(t.intersect(t.partial({pages:t.string}))(t.intersect(t.partial({year:t.number}))(t.intersect(t.partial({doi:t.string}))(t.struct({kind:t.literal("article")})))))))))})),x=(0,a.S)((function(t){return t.intersect(t.partial({domain:t.string}))(t.intersect(t.partial({authors:t.string}))(t.intersect(t.partial({authorsList:t.readonly(t.array(t.string))}))(t.intersect(t.partial({publisher:t.string}))(t.intersect(t.partial({year:t.number}))(t.struct({kind:t.literal("website")}))))))})),A=(0,a.S)((function(t){return t.intersect(t.partial({authors:t.string}))(t.intersect(t.partial({authorsList:t.readonly(t.array(t.string))}))(t.intersect(t.partial({organization:t.string}))(t.intersect(t.partial({year:t.number}))(t.intersect(t.partial({publishedOn:t.string}))(t.struct({kind:t.literal("report")}))))))})),I=(0,a.S)((function(t){return t.intersect(t.partial({authors:t.string}))(t.intersect(t.partial({authorsList:t.readonly(t.array(t.string))}))(t.intersect(t.partial({publisher:t.string}))(t.struct({kind:t.literal("other")}))))})),T=(0,a.S)((function(t){return t.struct({kind:E(t),sources:t.readonly(t.array(P(t)))})})),P=(0,a.S)((function(t){return t.intersect(t.partial({description:t.string}))(t.intersect(t.partial({url:t.string}))(t.intersect(t.partial({citation:y(t)}))(t.struct({id:t.string,kind:E(t),title:t.string}))))})),E=(0,i.Dd)(r.V),U=(0,a.S)((function(t){return t.struct({claim:T(t)})})),V=(0,a.S)((function(t){return t.intersect(t.partial({axTree:t.string}))(t.struct({}))})),L=(0,a.S)((function(t){return t.struct({enableUserPrompt:t.boolean,rewriteShowAsPlainText:t.boolean,disableTextIsWellWritten:t.boolean,showTitle:t.boolean})})),M=(0,a.S)((function(t){return t.struct({expertName:t.string,expertInitials:t.string,expertDescription:t.string,sourceTitle:t.string,sourceType:t.string,sourceDescription:t.string,sourceUrl:t.string})})),B=(0,a.S)((function(t){var e;return t.sum("action")(((e={})["pushed_content:pushedContent"]=D(t),e["pushed_content:dismissContent"]=q(t),e["pushed_content:removeContent"]=H(t),e["pushed_content:executeAction"]=W(t),e["pushed_content:ack"]=F(t),e["pushed_content:settingsMessage"]=N(t),e["pushed_content:getSettings"]=O(t),e["pushed_content:updateSettings"]=z(t),e["pushed_content:rebaseContent"]=G(t),e["pushed_content:rebaseContentCompleted"]=$(t),e))})),D=(0,a.S)((function(t){return(0,i.wf)(l(t),d(t),t.intersect(t.partial({metadata:j(t)}))(t.struct({action:t.literal("pushed_content:pushedContent"),notification:J(t),surface:ot(t)})))(t)})),q=(0,a.S)((function(t){return(0,i.wf)(o(t),l(t),t.struct({action:t.literal("pushed_content:dismissContent")}))(t)})),H=(0,a.S)((function(t){return(0,i.wf)(l(t),d(t),t.struct({action:t.literal("pushed_content:removeContent")}))(t)})),W=(0,a.S)((function(t){return(0,i.wf)(o(t),l(t),t.struct({action:t.literal("pushed_content:executeAction"),clientContext:V(t),request:b(t)}))(t)})),F=(0,a.S)((function(t){return(0,i.wf)(l(t),t.struct({action:t.literal("pushed_content:ack")}))(t)})),N=(0,a.S)((function(t){return(0,i.wf)(l(t),d(t),p(t),t.struct({action:t.literal("pushed_content:settingsMessage")}))(t)})),O=(0,a.S)((function(t){return(0,i.wf)(o(t),l(t),t.struct({action:t.literal("pushed_content:getSettings")}))(t)})),z=(0,a.S)((function(t){return(0,i.wf)(o(t),l(t),p(t),t.struct({action:t.literal("pushed_content:updateSettings")}))(t)})),G=(0,a.S)((function(t){return(0,i.wf)(o(t),l(t),t.struct({action:t.literal("pushed_content:rebaseContent"),newRange:at(t)}))(t)})),$=(0,a.S)((function(t){return(0,i.wf)(l(t),d(t),t.struct({action:t.literal("pushed_content:rebaseContentCompleted")}))(t)})),j=(0,a.S)((function(t){return t.intersect(t.partial({textRevision:t.number}))(t.intersect(t.partial({correlationId:t.string}))(t.struct({})))})),J=(0,a.S)((function(t){return t.struct({notificationElement:K(t),layer:t.number,suppressMask:t.number,timestamp:t.string})})),K=(0,a.S)((function(t){var e;return t.sum("kind")(((e={}).vBar=Q(t),e.superUnderline=X(t),e.loadingVBar=Y(t),e.agentEntrypoint=tt(t),e.benchPopUp=et(t),e.agentPanelFooter=nt(t),e))})),Q=(0,a.S)((function(t){return t.intersect(t.partial({explanation:t.string}))(t.struct({kind:t.literal("vBar"),range:at(t),vBarType:t.string,colorHex:t.string}))})),X=(0,a.S)((function(t){return t.intersect(t.partial({explanation:t.string}))(t.struct({kind:t.literal("superUnderline"),range:at(t),vBarType:t.string,colorHex:t.string}))})),Y=(0,a.S)((function(t){return t.struct({kind:t.literal("loadingVBar")})})),Z=(0,i.Dd)(r.k),tt=(0,a.S)((function(t){return t.struct({kind:t.literal("agentEntrypoint"),position:Z(t)})})),et=(0,a.S)((function(t){return t.intersect(t.partial({promotion:C(t)}))(t.struct({kind:t.literal("benchPopUp")}))})),nt=(0,a.S)((function(t){return t.intersect(t.partial({promotion:C(t)}))(t.struct({kind:t.literal("agentPanelFooter")}))})),rt=(0,a.S)((function(t){return t.struct({similarity:t.number,referenceMla:t.string,referenceApa:t.string,referenceChicago:t.string})})),it=(0,a.S)((function(t){return t.struct({similarity:t.number,referenceMla:t.string,referenceApa:t.string,referenceChicago:t.string})})),at=(0,a.S)((function(t){return t.struct({start:t.number,end:t.number})})),st=(0,a.S)((function(t){return t.intersect(t.partial({supportedValues:t.readonly(t.record(t.string))}))(t.struct({value:t.string}))})),ot=(0,a.S)((function(t){var e;return t.sum("kind")(((e={}).rewriteCard=ut(t),e.lazyRewriteCard=lt(t),e.lockedRewrite=dt(t),e.lockedRewriteCard=ft(t),e.unlockedRewriteCard=St(t),e.uphookRewriteCard=wt(t),e.loadingCard=Rt(t),e.comment=vt(t),e.lockedComment=xt(t),e.unlockedComment=It(t),e.uphookComment=Tt(t),e.rewritePlaceholderCard=Pt(t),e.expertPanelCard=Et(t),e.plagiarismCard=Ut(t),e.empty=Vt(t),e))})),ct=(0,a.S)((function(t){return t.intersect(t.partial({citationFinder:U(t)}))(t.intersect(t.partial({plagiarism:it(t)}))(t.struct({})))})),ut=(0,a.S)((function(t){return(0,i.wf)(g(t),t.intersect(t.partial({allowPresetTabs:t.boolean}))(t.intersect(t.partial({enableUserPrompt:t.boolean}))(t.intersect(t.partial({allowFollowUpAIActions:t.boolean}))(t.intersect(t.partial({additionalElements:ct(t)}))(t.intersect(t.partial({promotion:C(t)}))(t.struct({kind:t.literal("rewriteCard")})))))))(t)})),lt=(0,a.S)((function(t){return(0,i.wf)(g(t),t.intersect(t.partial({onShowAction:b(t)}))(t.struct({kind:t.literal("lazyRewriteCard"),isLoading:t.boolean})))(t)})),dt=(0,a.S)((function(t){return t.struct({kind:t.literal("lockedRewrite")})})),pt=(0,a.S)((function(t){return t.intersect(t.partial({subTitle:t.string}))(t.struct({title:t.string}))})),gt=(0,a.S)((function(t){return t.intersect(t.partial({citationFinder:U(t)}))(t.intersect(t.partial({plagiarism:it(t)}))(t.struct({})))})),ft=(0,a.S)((function(t){return(0,i.wf)(g(t),t.intersect(t.partial({additionalElements:gt(t)}))(t.struct({kind:t.literal("lockedRewriteCard"),availableActions:t.readonly(t.array(b(t))),lockedRewrite:pt(t)})))(t)})),mt=(0,a.S)((function(t){return t.intersect(t.partial({subTitle:t.string}))(t.struct({title:t.string}))})),ht=(0,a.S)((function(t){return t.intersect(t.partial({citationFinder:U(t)}))(t.intersect(t.partial({plagiarism:it(t)}))(t.struct({})))})),St=(0,a.S)((function(t){return(0,i.wf)(g(t),t.intersect(t.partial({additionalElements:ht(t)}))(t.intersect(t.partial({promotion:C(t)}))(t.struct({kind:t.literal("unlockedRewriteCard"),unlockedRewrite:mt(t)}))))(t)})),Ct=(0,a.S)((function(t){return t.intersect(t.partial({subTitle:t.string}))(t.struct({title:t.string,ctaCopy:t.string,ctaUrl:t.string,dismissCopy:t.string}))})),kt=(0,a.S)((function(t){return t.struct({upgradeHookName:t.string,upgradeHookSlot:t.string,upgradeHookVariant:t.string,upgradeHookSubVariant:t.string})})),bt=(0,a.S)((function(t){return t.intersect(t.partial({citationFinder:U(t)}))(t.intersect(t.partial({plagiarism:it(t)}))(t.struct({})))})),wt=(0,a.S)((function(t){return(0,i.wf)(g(t),t.intersect(t.partial({additionalElements:bt(t)}))(t.struct({kind:t.literal("uphookRewriteCard"),uphookRewrite:Ct(t),uphookConfig:kt(t)})))(t)})),Rt=(0,a.S)((function(t){return t.struct({kind:t.literal("loadingCard")})})),yt=(0,a.S)((function(t){return t.intersect(t.partial({expertPanel:M(t)}))(t.intersect(t.partial({aiGrader:k(t)}))(t.intersect(t.partial({plagiarism:rt(t)}))(t.struct({}))))})),vt=(0,a.S)((function(t){return(0,i.wf)(g(t),t.intersect(t.partial({additionalElements:yt(t)}))(t.intersect(t.partial({rewrite:t.string}))(t.intersect(t.partial({hasFinalRewrite:t.boolean}))(t.intersect(t.partial({promotion:C(t)}))(t.struct({kind:t.literal("comment"),availableActions:t.readonly(t.array(b(t)))}))))))(t)})),_t=(0,a.S)((function(t){return t.intersect(t.partial({subTitle:t.string}))(t.struct({title:t.string}))})),xt=(0,a.S)((function(t){return(0,i.wf)(u(t),g(t),t.struct({kind:t.literal("lockedComment"),lockedComment:_t(t)}))(t)})),At=(0,a.S)((function(t){return t.intersect(t.partial({subTitle:t.string}))(t.struct({title:t.string}))})),It=(0,a.S)((function(t){return(0,i.wf)(u(t),g(t),t.intersect(t.partial({promotion:C(t)}))(t.struct({kind:t.literal("unlockedComment"),unlockedComment:At(t)})))(t)})),Tt=(0,a.S)((function(t){return(0,i.wf)(u(t),g(t),h(t),t.struct({kind:t.literal("uphookComment")}))(t)})),Pt=(0,a.S)((function(t){return(0,i.wf)(g(t),t.intersect(t.partial({showPostActionLoading:t.boolean}))(t.intersect(t.partial({isLoading:t.boolean}))(t.struct({kind:t.literal("rewritePlaceholderCard"),availableActions:t.readonly(t.array(b(t)))}))))(t)})),Et=(0,a.S)((function(t){return(0,i.wf)(g(t),t.intersect(t.partial({rewrite:t.string}))(t.struct({kind:t.literal("expertPanelCard"),availableActions:t.readonly(t.array(b(t))),expertName:t.string,expertInitials:t.string,expertDescription:t.string,sourceTitle:t.string,sourceType:t.string,sourceDescription:t.string,sourceUrl:t.string})))(t)})),Ut=(0,a.S)((function(t){return(0,i.wf)(g(t),t.struct({kind:t.literal("plagiarismCard"),availableActions:t.readonly(t.array(b(t))),similarity:t.number,reference:t.string}))(t)})),Vt=(0,a.S)((function(t){return t.struct({kind:t.literal("empty")})}));(0,a.S)((function(t){return(0,i.wf)(p(t),t.struct({}))(t)})),(0,a.S)((function(t){var e;return t.sum("type")(((e={}).simpleContentAction=w(t),e.textActionsAction=R(t),e))})),(0,a.S)((function(t){var e;return t.sum("action")(((e={})["pushed_content:dismissContent"]=q(t),e["pushed_content:executeAction"]=W(t),e["pushed_content:getSettings"]=O(t),e["pushed_content:updateSettings"]=z(t),e["pushed_content:rebaseContent"]=G(t),e))})),(0,a.S)((function(t){var e;return t.sum("kind")(((e={}).lockedComment=xt(t),e.unlockedComment=It(t),e.uphookComment=Tt(t),e))})),(0,a.S)((function(t){var e;return t.sum("action")(((e={})["pushed_content:pushedContent"]=D(t),e["pushed_content:dismissContent"]=q(t),e["pushed_content:removeContent"]=H(t),e["pushed_content:executeAction"]=W(t),e["pushed_content:ack"]=F(t),e["pushed_content:settingsMessage"]=N(t),e["pushed_content:getSettings"]=O(t),e["pushed_content:updateSettings"]=z(t),e["pushed_content:rebaseContent"]=G(t),e["pushed_content:rebaseContentCompleted"]=$(t),e))})),(0,a.S)((function(t){var e;return t.sum("action")(((e={})["pushed_content:pushedContent"]=D(t),e["pushed_content:removeContent"]=H(t),e["pushed_content:settingsMessage"]=N(t),e["pushed_content:rebaseContentCompleted"]=$(t),e))})),(0,a.S)((function(t){var e;return t.sum("action")(((e={})["pushed_content:settingsMessage"]=N(t),e["pushed_content:updateSettings"]=z(t),e))})),(0,a.S)((function(t){var e;return t.sum("kind")(((e={}).rewriteCard=ut(t),e.lazyRewriteCard=lt(t),e.lockedRewriteCard=ft(t),e.unlockedRewriteCard=St(t),e.uphookRewriteCard=wt(t),e.comment=vt(t),e.lockedComment=xt(t),e.unlockedComment=It(t),e.uphookComment=Tt(t),e.rewritePlaceholderCard=Pt(t),e.expertPanelCard=Et(t),e.plagiarismCard=Ut(t),e))})),(0,a.S)((function(t){var e;return t.sum("kind")(((e={}).uphookComment=Tt(t),e))}))},43207:(t,e,n)=>{var r,i;n.d(e,{V:()=>r,k:()=>i}),function(t){t.Supported="Supported",t.Contradicted="Contradicted",t.Debated="Debated"}(r||(r={})),function(t){t.Top="top",t.Cursor="cursor"}(i||(i={}))}}]);